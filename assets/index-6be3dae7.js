function Bh(t,r){for(var s=0;s<r.length;s++){const u=r[s];if(typeof u!="string"&&!Array.isArray(u)){for(const f in u)if(f!=="default"&&!(f in t)){const h=Object.getOwnPropertyDescriptor(u,f);h&&Object.defineProperty(t,f,h.get?h:{enumerable:!0,get:()=>u[f]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&u(x)}).observe(document,{childList:!0,subtree:!0});function s(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(f){if(f.ep)return;f.ep=!0;const h=s(f);fetch(f.href,h)}})();var Ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P0={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Uh=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),Hh=Symbol.for("react.context"),Gh=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),jh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),xu=Symbol.iterator;function Zh(t){return t===null||typeof t!="object"?null:(t=xu&&t[xu]||t["@@iterator"],typeof t=="function"?t:null)}var B0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L0=Object.assign,F0={};function Si(t,r,s){this.props=t,this.context=r,this.refs=F0,this.updater=s||B0}Si.prototype.isReactComponent={};Si.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Si.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function U0(){}U0.prototype=Si.prototype;function Ja(t,r,s){this.props=t,this.context=r,this.refs=F0,this.updater=s||B0}var $a=Ja.prototype=new U0;$a.constructor=Ja;L0($a,Si.prototype);$a.isPureReactComponent=!0;var pu=Array.isArray,z0=Object.prototype.hasOwnProperty,e1={current:null},V0={key:!0,ref:!0,__self:!0,__source:!0};function W0(t,r,s){var u,f={},h=null,x=null;if(r!=null)for(u in r.ref!==void 0&&(x=r.ref),r.key!==void 0&&(h=""+r.key),r)z0.call(r,u)&&!V0.hasOwnProperty(u)&&(f[u]=r[u]);var A=arguments.length-2;if(A===1)f.children=s;else if(1<A){for(var y=Array(A),w=0;w<A;w++)y[w]=arguments[w+2];f.children=y}if(t&&t.defaultProps)for(u in A=t.defaultProps,A)f[u]===void 0&&(f[u]=A[u]);return{$$typeof:vs,type:t,key:h,ref:x,props:f,_owner:e1.current}}function Kh(t,r){return{$$typeof:vs,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function t1(t){return typeof t=="object"&&t!==null&&t.$$typeof===vs}function Qh(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return r[s]})}var wu=/\/+/g;function Ro(t,r){return typeof t=="object"&&t!==null&&t.key!=null?Qh(""+t.key):r.toString(36)}function al(t,r,s,u,f){var h=typeof t;(h==="undefined"||h==="boolean")&&(t=null);var x=!1;if(t===null)x=!0;else switch(h){case"string":case"number":x=!0;break;case"object":switch(t.$$typeof){case vs:case Fh:x=!0}}if(x)return x=t,f=f(x),t=u===""?"."+Ro(x,0):u,pu(f)?(s="",t!=null&&(s=t.replace(wu,"$&/")+"/"),al(f,r,s,"",function(w){return w})):f!=null&&(t1(f)&&(f=Kh(f,s+(!f.key||x&&x.key===f.key?"":(""+f.key).replace(wu,"$&/")+"/")+t)),r.push(f)),1;if(x=0,u=u===""?".":u+":",pu(t))for(var A=0;A<t.length;A++){h=t[A];var y=u+Ro(h,A);x+=al(h,r,s,y,f)}else if(y=Zh(t),typeof y=="function")for(t=y.call(t),A=0;!(h=t.next()).done;)h=h.value,y=u+Ro(h,A++),x+=al(h,r,s,y,f);else if(h==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return x}function Xs(t,r,s){if(t==null)return t;var u=[],f=0;return al(t,u,"","",function(h){return r.call(s,h,f++)}),u}function qh(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},ul={transition:null},Jh={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:ul,ReactCurrentOwner:e1};Ee.Children={map:Xs,forEach:function(t,r,s){Xs(t,function(){r.apply(this,arguments)},s)},count:function(t){var r=0;return Xs(t,function(){r++}),r},toArray:function(t){return Xs(t,function(r){return r})||[]},only:function(t){if(!t1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Si;Ee.Fragment=Uh;Ee.Profiler=Vh;Ee.PureComponent=Ja;Ee.StrictMode=zh;Ee.Suspense=Xh;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh;Ee.cloneElement=function(t,r,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var u=L0({},t.props),f=t.key,h=t.ref,x=t._owner;if(r!=null){if(r.ref!==void 0&&(h=r.ref,x=e1.current),r.key!==void 0&&(f=""+r.key),t.type&&t.type.defaultProps)var A=t.type.defaultProps;for(y in r)z0.call(r,y)&&!V0.hasOwnProperty(y)&&(u[y]=r[y]===void 0&&A!==void 0?A[y]:r[y])}var y=arguments.length-2;if(y===1)u.children=s;else if(1<y){A=Array(y);for(var w=0;w<y;w++)A[w]=arguments[w+2];u.children=A}return{$$typeof:vs,type:t.type,key:f,ref:h,props:u,_owner:x}};Ee.createContext=function(t){return t={$$typeof:Hh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wh,_context:t},t.Consumer=t};Ee.createElement=W0;Ee.createFactory=function(t){var r=W0.bind(null,t);return r.type=t,r};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:Gh,render:t}};Ee.isValidElement=t1;Ee.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:qh}};Ee.memo=function(t,r){return{$$typeof:jh,type:t,compare:r===void 0?null:r}};Ee.startTransition=function(t){var r=ul.transition;ul.transition={};try{t()}finally{ul.transition=r}};Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ee.useCallback=function(t,r){return kt.current.useCallback(t,r)};Ee.useContext=function(t){return kt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};Ee.useEffect=function(t,r){return kt.current.useEffect(t,r)};Ee.useId=function(){return kt.current.useId()};Ee.useImperativeHandle=function(t,r,s){return kt.current.useImperativeHandle(t,r,s)};Ee.useInsertionEffect=function(t,r){return kt.current.useInsertionEffect(t,r)};Ee.useLayoutEffect=function(t,r){return kt.current.useLayoutEffect(t,r)};Ee.useMemo=function(t,r){return kt.current.useMemo(t,r)};Ee.useReducer=function(t,r,s){return kt.current.useReducer(t,r,s)};Ee.useRef=function(t){return kt.current.useRef(t)};Ee.useState=function(t){return kt.current.useState(t)};Ee.useSyncExternalStore=function(t,r,s){return kt.current.useSyncExternalStore(t,r,s)};Ee.useTransition=function(){return kt.current.useTransition()};Ee.version="18.2.0";P0.exports=Ee;var oe=P0.exports;const $h=Lh(oe),ed=Bh({__proto__:null,default:$h},[oe]);var H0={exports:{}},Jt={},G0={exports:{}},X0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r($,ce){var he=$.length;$.push(ce);e:for(;0<he;){var We=he-1>>>1,ye=$[We];if(0<f(ye,ce))$[We]=ce,$[he]=ye,he=We;else break e}}function s($){return $.length===0?null:$[0]}function u($){if($.length===0)return null;var ce=$[0],he=$.pop();if(he!==ce){$[0]=he;e:for(var We=0,ye=$.length,en=ye>>>1;We<en;){var Xe=2*(We+1)-1,Cr=$[Xe],re=Xe+1,jn=$[re];if(0>f(Cr,he))re<ye&&0>f(jn,Cr)?($[We]=jn,$[re]=he,We=re):($[We]=Cr,$[Xe]=he,We=Xe);else if(re<ye&&0>f(jn,he))$[We]=jn,$[re]=he,We=re;else break e}}return ce}function f($,ce){var he=$.sortIndex-ce.sortIndex;return he!==0?he:$.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;t.unstable_now=function(){return h.now()}}else{var x=Date,A=x.now();t.unstable_now=function(){return x.now()-A}}var y=[],w=[],T=1,N=null,B=3,H=!1,Z=!1,z=!1,se=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O($){for(var ce=s(w);ce!==null;){if(ce.callback===null)u(w);else if(ce.startTime<=$)u(w),ce.sortIndex=ce.expirationTime,r(y,ce);else break;ce=s(w)}}function F($){if(z=!1,O($),!Z)if(s(y)!==null)Z=!0,Qe(J);else{var ce=s(w);ce!==null&&de(F,ce.startTime-$)}}function J($,ce){Z=!1,z&&(z=!1,D(K),K=-1),H=!0;var he=B;try{for(O(ce),N=s(y);N!==null&&(!(N.expirationTime>ce)||$&&!Pe());){var We=N.callback;if(typeof We=="function"){N.callback=null,B=N.priorityLevel;var ye=We(N.expirationTime<=ce);ce=t.unstable_now(),typeof ye=="function"?N.callback=ye:N===s(y)&&u(y),O(ce)}else u(y);N=s(y)}if(N!==null)var en=!0;else{var Xe=s(w);Xe!==null&&de(F,Xe.startTime-ce),en=!1}return en}finally{N=null,B=he,H=!1}}var Q=!1,L=null,K=-1,V=5,ge=-1;function Pe(){return!(t.unstable_now()-ge<V)}function ae(){if(L!==null){var $=t.unstable_now();ge=$;var ce=!0;try{ce=L(!0,$)}finally{ce?Ae():(Q=!1,L=null)}}else Q=!1}var Ae;if(typeof v=="function")Ae=function(){v(ae)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,U=tt.port2;tt.port1.onmessage=ae,Ae=function(){U.postMessage(null)}}else Ae=function(){se(ae,0)};function Qe($){L=$,Q||(Q=!0,Ae())}function de($,ce){K=se(function(){$(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){Z||H||(Z=!0,Qe(J))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_getFirstCallbackNode=function(){return s(y)},t.unstable_next=function($){switch(B){case 1:case 2:case 3:var ce=3;break;default:ce=B}var he=B;B=ce;try{return $()}finally{B=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var he=B;B=$;try{return ce()}finally{B=he}},t.unstable_scheduleCallback=function($,ce,he){var We=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?We+he:We):he=We,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=he+ye,$={id:T++,callback:ce,priorityLevel:$,startTime:he,expirationTime:ye,sortIndex:-1},he>We?($.sortIndex=he,r(w,$),s(y)===null&&$===s(w)&&(z?(D(K),K=-1):z=!0,de(F,he-We))):($.sortIndex=ye,r(y,$),Z||H||(Z=!0,Qe(J))),$},t.unstable_shouldYield=Pe,t.unstable_wrapCallback=function($){var ce=B;return function(){var he=B;B=ce;try{return $.apply(this,arguments)}finally{B=he}}}})(X0);G0.exports=X0;var td=G0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=oe,qt=td;function X(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y0=new Set,os={};function zr(t,r){wi(t,r),wi(t+"Capture",r)}function wi(t,r){for(os[t]=r,t=0;t<r.length;t++)Y0.add(r[t])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=Object.prototype.hasOwnProperty,nd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mu={},Eu={};function rd(t){return ra.call(Eu,t)?!0:ra.call(mu,t)?!1:nd.test(t)?Eu[t]=!0:(mu[t]=!0,!1)}function id(t,r,s,u){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sd(t,r,s,u){if(r===null||typeof r>"u"||id(t,r,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Pt(t,r,s,u,f,h,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=h,this.removeEmptyString=x}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];It[r]=new Pt(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var n1=/[\-:]([a-z])/g;function r1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(n1,r1);It[r]=new Pt(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(n1,r1);It[r]=new Pt(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(n1,r1);It[r]=new Pt(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function i1(t,r,s,u){var f=It.hasOwnProperty(r)?It[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(sd(r,s,f,u)&&(s=null),u||f===null?rd(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):f.mustUseProperty?t[f.propertyName]=s===null?f.type===3?!1:"":s:(r=f.attributeName,u=f.attributeNamespace,s===null?t.removeAttribute(r):(f=f.type,s=f===3||f===4&&s===!0?"":""+s,u?t.setAttributeNS(u,r,s):t.setAttribute(r,s))))}var Xn=j0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),$r=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),ia=Symbol.for("react.profiler"),Z0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),l1=Symbol.for("react.forward_ref"),sa=Symbol.for("react.suspense"),la=Symbol.for("react.suspense_list"),o1=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),Q0=Symbol.for("react.offscreen"),Cu=Symbol.iterator;function zi(t){return t===null||typeof t!="object"?null:(t=Cu&&t[Cu]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Do;function Zi(t){if(Do===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Do=r&&r[1]||""}return`
`+Do+t}var Mo=!1;function bo(t,r){if(!t||Mo)return"";Mo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(w){var u=w}Reflect.construct(t,[],r)}else{try{r.call()}catch(w){u=w}t.call(r.prototype)}else{try{throw Error()}catch(w){u=w}t()}}catch(w){if(w&&u&&typeof w.stack=="string"){for(var f=w.stack.split(`
`),h=u.stack.split(`
`),x=f.length-1,A=h.length-1;1<=x&&0<=A&&f[x]!==h[A];)A--;for(;1<=x&&0<=A;x--,A--)if(f[x]!==h[A]){if(x!==1||A!==1)do if(x--,A--,0>A||f[x]!==h[A]){var y=`
`+f[x].replace(" at new "," at ");return t.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",t.displayName)),y}while(1<=x&&0<=A);break}}}finally{Mo=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Zi(t):""}function ld(t){switch(t.tag){case 5:return Zi(t.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 2:case 15:return t=bo(t.type,!1),t;case 11:return t=bo(t.type.render,!1),t;case 1:return t=bo(t.type,!0),t;default:return""}}function oa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ei:return"Fragment";case $r:return"Portal";case ia:return"Profiler";case s1:return"StrictMode";case sa:return"Suspense";case la:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K0:return(t.displayName||"Context")+".Consumer";case Z0:return(t._context.displayName||"Context")+".Provider";case l1:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case o1:return r=t.displayName||null,r!==null?r:oa(t.type)||"Memo";case tr:r=t._payload,t=t._init;try{return oa(t(r))}catch{}}return null}function od(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oa(r);case 8:return r===s1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q0(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ad(t){var r=q0(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){u=""+x,h.call(this,x)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(x){u=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ys(t){t._valueTracker||(t._valueTracker=ad(t))}function J0(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),u="";return t&&(u=q0(t)?t.checked?"true":"false":t.value),t=u,t!==s?(r.setValue(t),!0):!1}function Cl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function aa(t,r){var s=r.checked;return Ke({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function Au(t,r){var s=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;s=xr(r.value!=null?r.value:s),t._wrapperState={initialChecked:u,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function $0(t,r){r=r.checked,r!=null&&i1(t,"checked",r,!1)}function ua(t,r){$0(t,r);var s=xr(r.value),u=r.type;if(s!=null)u==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ca(t,r.type,s):r.hasOwnProperty("defaultValue")&&ca(t,r.type,xr(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function yu(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function ca(t,r,s){(r!=="number"||Cl(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Ki=Array.isArray;function fi(t,r,s,u){if(t=t.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=r.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&u&&(t[s].defaultSelected=!0)}else{for(s=""+xr(s),r=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function fa(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ke({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Iu(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(X(92));if(Ki(s)){if(1<s.length)throw Error(X(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:xr(s)}}function ec(t,r){var s=xr(r.value),u=xr(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),u!=null&&(t.defaultValue=""+u)}function Su(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function tc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ha(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?tc(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zs,nc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,s,u,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function as(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ud=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(t){ud.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Ji[r]=Ji[t]})});function rc(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||Ji.hasOwnProperty(t)&&Ji[t]?(""+r).trim():r+"px"}function ic(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var u=s.indexOf("--")===0,f=rc(s,r[s],u);s==="float"&&(s="cssFloat"),u?t.setProperty(s,f):t[s]=f}}var cd=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function da(t,r){if(r){if(cd[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(X(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(X(61))}if(r.style!=null&&typeof r.style!="object")throw Error(X(62))}}function ga(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xa=null;function a1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pa=null,hi=null,di=null;function vu(t){if(t=_s(t)){if(typeof pa!="function")throw Error(X(280));var r=t.stateNode;r&&(r=Ql(r),pa(t.stateNode,t.type,r))}}function sc(t){hi?di?di.push(t):di=[t]:hi=t}function lc(){if(hi){var t=hi,r=di;if(di=hi=null,vu(t),r)for(t=0;t<r.length;t++)vu(r[t])}}function oc(t,r){return t(r)}function ac(){}var ko=!1;function uc(t,r,s){if(ko)return t(r,s);ko=!0;try{return oc(t,r,s)}finally{ko=!1,(hi!==null||di!==null)&&(ac(),lc())}}function us(t,r){var s=t.stateNode;if(s===null)return null;var u=Ql(s);if(u===null)return null;s=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(X(231,r,typeof s));return s}var wa=!1;if(Vn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){wa=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{wa=!1}function fd(t,r,s,u,f,h,x,A,y){var w=Array.prototype.slice.call(arguments,3);try{r.apply(s,w)}catch(T){this.onError(T)}}var $i=!1,Al=null,yl=!1,ma=null,hd={onError:function(t){$i=!0,Al=t}};function dd(t,r,s,u,f,h,x,A,y){$i=!1,Al=null,fd.apply(hd,arguments)}function gd(t,r,s,u,f,h,x,A,y){if(dd.apply(this,arguments),$i){if($i){var w=Al;$i=!1,Al=null}else throw Error(X(198));yl||(yl=!0,ma=w)}}function Vr(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function cc(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Tu(t){if(Vr(t)!==t)throw Error(X(188))}function xd(t){var r=t.alternate;if(!r){if(r=Vr(t),r===null)throw Error(X(188));return r!==t?null:t}for(var s=t,u=r;;){var f=s.return;if(f===null)break;var h=f.alternate;if(h===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===s)return Tu(f),t;if(h===u)return Tu(f),r;h=h.sibling}throw Error(X(188))}if(s.return!==u.return)s=f,u=h;else{for(var x=!1,A=f.child;A;){if(A===s){x=!0,s=f,u=h;break}if(A===u){x=!0,u=f,s=h;break}A=A.sibling}if(!x){for(A=h.child;A;){if(A===s){x=!0,s=h,u=f;break}if(A===u){x=!0,u=h,s=f;break}A=A.sibling}if(!x)throw Error(X(189))}}if(s.alternate!==u)throw Error(X(190))}if(s.tag!==3)throw Error(X(188));return s.stateNode.current===s?t:r}function fc(t){return t=xd(t),t!==null?hc(t):null}function hc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=hc(t);if(r!==null)return r;t=t.sibling}return null}var dc=qt.unstable_scheduleCallback,Nu=qt.unstable_cancelCallback,pd=qt.unstable_shouldYield,wd=qt.unstable_requestPaint,rt=qt.unstable_now,md=qt.unstable_getCurrentPriorityLevel,u1=qt.unstable_ImmediatePriority,gc=qt.unstable_UserBlockingPriority,Il=qt.unstable_NormalPriority,Ed=qt.unstable_LowPriority,xc=qt.unstable_IdlePriority,jl=null,bn=null;function Cd(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(jl,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Id,Ad=Math.log,yd=Math.LN2;function Id(t){return t>>>=0,t===0?32:31-(Ad(t)/yd|0)|0}var Ks=64,Qs=4194304;function Qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sl(t,r){var s=t.pendingLanes;if(s===0)return 0;var u=0,f=t.suspendedLanes,h=t.pingedLanes,x=s&268435455;if(x!==0){var A=x&~f;A!==0?u=Qi(A):(h&=x,h!==0&&(u=Qi(h)))}else x=s&~f,x!==0?u=Qi(x):h!==0&&(u=Qi(h));if(u===0)return 0;if(r!==0&&r!==u&&!(r&f)&&(f=u&-u,h=r&-r,f>=h||f===16&&(h&4194240)!==0))return r;if(u&4&&(u|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)s=31-En(r),f=1<<s,u|=t[s],r&=~f;return u}function Sd(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vd(t,r){for(var s=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes;0<h;){var x=31-En(h),A=1<<x,y=f[x];y===-1?(!(A&s)||A&u)&&(f[x]=Sd(A,r)):y<=r&&(t.expiredLanes|=A),h&=~A}}function Ea(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pc(){var t=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),t}function Po(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Ts(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-En(r),t[r]=s}function Td(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<s;){var f=31-En(s),h=1<<f;r[f]=0,u[f]=-1,t[f]=-1,s&=~h}}function c1(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var u=31-En(s),f=1<<u;f&r|t[u]&r&&(t[u]|=r),s&=~f}}var Re=0;function wc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mc,f1,Ec,Cc,Ac,Ca=!1,qs=[],or=null,ar=null,ur=null,cs=new Map,fs=new Map,rr=[],Nd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(t,r){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":cs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(r.pointerId)}}function Wi(t,r,s,u,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:r,domEventName:s,eventSystemFlags:u,nativeEvent:h,targetContainers:[f]},r!==null&&(r=_s(r),r!==null&&f1(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function _d(t,r,s,u,f){switch(r){case"focusin":return or=Wi(or,t,r,s,u,f),!0;case"dragenter":return ar=Wi(ar,t,r,s,u,f),!0;case"mouseover":return ur=Wi(ur,t,r,s,u,f),!0;case"pointerover":var h=f.pointerId;return cs.set(h,Wi(cs.get(h)||null,t,r,s,u,f)),!0;case"gotpointercapture":return h=f.pointerId,fs.set(h,Wi(fs.get(h)||null,t,r,s,u,f)),!0}return!1}function yc(t){var r=Or(t.target);if(r!==null){var s=Vr(r);if(s!==null){if(r=s.tag,r===13){if(r=cc(s),r!==null){t.blockedOn=r,Ac(t.priority,function(){Ec(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cl(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Aa(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);xa=u,s.target.dispatchEvent(u),xa=null}else return r=_s(s),r!==null&&f1(r),t.blockedOn=s,!1;r.shift()}return!0}function Ou(t,r,s){cl(t)&&s.delete(r)}function Od(){Ca=!1,or!==null&&cl(or)&&(or=null),ar!==null&&cl(ar)&&(ar=null),ur!==null&&cl(ur)&&(ur=null),cs.forEach(Ou),fs.forEach(Ou)}function Hi(t,r){t.blockedOn===r&&(t.blockedOn=null,Ca||(Ca=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,Od)))}function hs(t){function r(f){return Hi(f,t)}if(0<qs.length){Hi(qs[0],t);for(var s=1;s<qs.length;s++){var u=qs[s];u.blockedOn===t&&(u.blockedOn=null)}}for(or!==null&&Hi(or,t),ar!==null&&Hi(ar,t),ur!==null&&Hi(ur,t),cs.forEach(r),fs.forEach(r),s=0;s<rr.length;s++)u=rr[s],u.blockedOn===t&&(u.blockedOn=null);for(;0<rr.length&&(s=rr[0],s.blockedOn===null);)yc(s),s.blockedOn===null&&rr.shift()}var gi=Xn.ReactCurrentBatchConfig,vl=!0;function Rd(t,r,s,u){var f=Re,h=gi.transition;gi.transition=null;try{Re=1,h1(t,r,s,u)}finally{Re=f,gi.transition=h}}function Dd(t,r,s,u){var f=Re,h=gi.transition;gi.transition=null;try{Re=4,h1(t,r,s,u)}finally{Re=f,gi.transition=h}}function h1(t,r,s,u){if(vl){var f=Aa(t,r,s,u);if(f===null)Xo(t,r,u,Tl,s),_u(t,u);else if(_d(f,t,r,s,u))u.stopPropagation();else if(_u(t,u),r&4&&-1<Nd.indexOf(t)){for(;f!==null;){var h=_s(f);if(h!==null&&mc(h),h=Aa(t,r,s,u),h===null&&Xo(t,r,u,Tl,s),h===f)break;f=h}f!==null&&u.stopPropagation()}else Xo(t,r,u,null,s)}}var Tl=null;function Aa(t,r,s,u){if(Tl=null,t=a1(u),t=Or(t),t!==null)if(r=Vr(t),r===null)t=null;else if(s=r.tag,s===13){if(t=cc(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Tl=t,null}function Ic(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(md()){case u1:return 1;case gc:return 4;case Il:case Ed:return 16;case xc:return 536870912;default:return 16}default:return 16}}var sr=null,d1=null,fl=null;function Sc(){if(fl)return fl;var t,r=d1,s=r.length,u,f="value"in sr?sr.value:sr.textContent,h=f.length;for(t=0;t<s&&r[t]===f[t];t++);var x=s-t;for(u=1;u<=x&&r[s-u]===f[h-u];u++);return fl=f.slice(t,1<u?1-u:void 0)}function hl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Js(){return!0}function Ru(){return!1}function $t(t){function r(s,u,f,h,x){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=h,this.target=x,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(h):h[A]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Js:Ru,this.isPropagationStopped=Ru,this}return Ke(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),r}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g1=$t(vi),Ns=Ke({},vi,{view:0,detail:0}),Md=$t(Ns),Bo,Lo,Gi,Yl=Ke({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Bo=t.screenX-Gi.screenX,Lo=t.screenY-Gi.screenY):Lo=Bo=0,Gi=t),Bo)},movementY:function(t){return"movementY"in t?t.movementY:Lo}}),Du=$t(Yl),bd=Ke({},Yl,{dataTransfer:0}),kd=$t(bd),Pd=Ke({},Ns,{relatedTarget:0}),Fo=$t(Pd),Bd=Ke({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ld=$t(Bd),Fd=Ke({},vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ud=$t(Fd),zd=Ke({},vi,{data:0}),Mu=$t(zd),Vd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gd(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Hd[t])?!!r[t]:!1}function x1(){return Gd}var Xd=Ke({},Ns,{key:function(t){if(t.key){var r=Vd[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wd[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x1,charCode:function(t){return t.type==="keypress"?hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jd=$t(Xd),Yd=Ke({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=$t(Yd),Zd=Ke({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x1}),Kd=$t(Zd),Qd=Ke({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qd=$t(Qd),Jd=Ke({},Yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$d=$t(Jd),e2=[9,13,27,32],p1=Vn&&"CompositionEvent"in window,es=null;Vn&&"documentMode"in document&&(es=document.documentMode);var t2=Vn&&"TextEvent"in window&&!es,vc=Vn&&(!p1||es&&8<es&&11>=es),ku=String.fromCharCode(32),Pu=!1;function Tc(t,r){switch(t){case"keyup":return e2.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ti=!1;function n2(t,r){switch(t){case"compositionend":return Nc(r);case"keypress":return r.which!==32?null:(Pu=!0,ku);case"textInput":return t=r.data,t===ku&&Pu?null:t;default:return null}}function r2(t,r){if(ti)return t==="compositionend"||!p1&&Tc(t,r)?(t=Sc(),fl=d1=sr=null,ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vc&&r.locale!=="ko"?null:r.data;default:return null}}var i2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!i2[t.type]:r==="textarea"}function _c(t,r,s,u){sc(u),r=Nl(r,"onChange"),0<r.length&&(s=new g1("onChange","change",null,s,u),t.push({event:s,listeners:r}))}var ts=null,ds=null;function s2(t){Uc(t,0)}function Zl(t){var r=ii(t);if(J0(r))return t}function l2(t,r){if(t==="change")return r}var Oc=!1;if(Vn){var Uo;if(Vn){var zo="oninput"in document;if(!zo){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),zo=typeof Lu.oninput=="function"}Uo=zo}else Uo=!1;Oc=Uo&&(!document.documentMode||9<document.documentMode)}function Fu(){ts&&(ts.detachEvent("onpropertychange",Rc),ds=ts=null)}function Rc(t){if(t.propertyName==="value"&&Zl(ds)){var r=[];_c(r,ds,t,a1(t)),uc(s2,r)}}function o2(t,r,s){t==="focusin"?(Fu(),ts=r,ds=s,ts.attachEvent("onpropertychange",Rc)):t==="focusout"&&Fu()}function a2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(ds)}function u2(t,r){if(t==="click")return Zl(r)}function c2(t,r){if(t==="input"||t==="change")return Zl(r)}function f2(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yn=typeof Object.is=="function"?Object.is:f2;function gs(t,r){if(yn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),u=Object.keys(r);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!ra.call(r,f)||!yn(t[f],r[f]))return!1}return!0}function Uu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zu(t,r){var s=Uu(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=r&&u>=r)return{node:s,offset:r-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Uu(s)}}function Dc(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Dc(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Mc(){for(var t=window,r=Cl();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Cl(t.document)}return r}function w1(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function h2(t){var r=Mc(),s=t.focusedElem,u=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&Dc(s.ownerDocument.documentElement,s)){if(u!==null&&w1(s)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=s.textContent.length,h=Math.min(u.start,f);u=u.end===void 0?h:Math.min(u.end,f),!t.extend&&h>u&&(f=u,u=h,h=f),f=zu(s,h);var x=zu(s,u);f&&x&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),h>u?(t.addRange(r),t.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var d2=Vn&&"documentMode"in document&&11>=document.documentMode,ni=null,ya=null,ns=null,Ia=!1;function Vu(t,r,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ia||ni==null||ni!==Cl(u)||(u=ni,"selectionStart"in u&&w1(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ns&&gs(ns,u)||(ns=u,u=Nl(ya,"onSelect"),0<u.length&&(r=new g1("onSelect","select",null,r,s),t.push({event:r,listeners:u}),r.target=ni)))}function $s(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var ri={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},Vo={},bc={};Vn&&(bc=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Kl(t){if(Vo[t])return Vo[t];if(!ri[t])return t;var r=ri[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in bc)return Vo[t]=r[s];return t}var kc=Kl("animationend"),Pc=Kl("animationiteration"),Bc=Kl("animationstart"),Lc=Kl("transitionend"),Fc=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,r){Fc.set(t,r),zr(r,[t])}for(var Wo=0;Wo<Wu.length;Wo++){var Ho=Wu[Wo],g2=Ho.toLowerCase(),x2=Ho[0].toUpperCase()+Ho.slice(1);wr(g2,"on"+x2)}wr(kc,"onAnimationEnd");wr(Pc,"onAnimationIteration");wr(Bc,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(Lc,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p2=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function Hu(t,r,s){var u=t.type||"unknown-event";t.currentTarget=s,gd(u,r,void 0,t),t.currentTarget=null}function Uc(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],f=u.event;u=u.listeners;e:{var h=void 0;if(r)for(var x=u.length-1;0<=x;x--){var A=u[x],y=A.instance,w=A.currentTarget;if(A=A.listener,y!==h&&f.isPropagationStopped())break e;Hu(f,A,w),h=y}else for(x=0;x<u.length;x++){if(A=u[x],y=A.instance,w=A.currentTarget,A=A.listener,y!==h&&f.isPropagationStopped())break e;Hu(f,A,w),h=y}}}if(yl)throw t=ma,yl=!1,ma=null,t}function ze(t,r){var s=r[_a];s===void 0&&(s=r[_a]=new Set);var u=t+"__bubble";s.has(u)||(zc(r,t,2,!1),s.add(u))}function Go(t,r,s){var u=0;r&&(u|=4),zc(s,t,u,r)}var el="_reactListening"+Math.random().toString(36).slice(2);function xs(t){if(!t[el]){t[el]=!0,Y0.forEach(function(s){s!=="selectionchange"&&(p2.has(s)||Go(s,!1,t),Go(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[el]||(r[el]=!0,Go("selectionchange",!1,r))}}function zc(t,r,s,u){switch(Ic(r)){case 1:var f=Rd;break;case 4:f=Dd;break;default:f=h1}s=f.bind(null,r,s,t),f=void 0,!wa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,s,{capture:!0,passive:f}):t.addEventListener(r,s,!0):f!==void 0?t.addEventListener(r,s,{passive:f}):t.addEventListener(r,s,!1)}function Xo(t,r,s,u,f){var h=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var A=u.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(x===4)for(x=u.return;x!==null;){var y=x.tag;if((y===3||y===4)&&(y=x.stateNode.containerInfo,y===f||y.nodeType===8&&y.parentNode===f))return;x=x.return}for(;A!==null;){if(x=Or(A),x===null)return;if(y=x.tag,y===5||y===6){u=h=x;continue e}A=A.parentNode}}u=u.return}uc(function(){var w=h,T=a1(s),N=[];e:{var B=Fc.get(t);if(B!==void 0){var H=g1,Z=t;switch(t){case"keypress":if(hl(s)===0)break e;case"keydown":case"keyup":H=jd;break;case"focusin":Z="focus",H=Fo;break;case"focusout":Z="blur",H=Fo;break;case"beforeblur":case"afterblur":H=Fo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Kd;break;case kc:case Pc:case Bc:H=Ld;break;case Lc:H=qd;break;case"scroll":H=Md;break;case"wheel":H=$d;break;case"copy":case"cut":case"paste":H=Ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=bu}var z=(r&4)!==0,se=!z&&t==="scroll",D=z?B!==null?B+"Capture":null:B;z=[];for(var v=w,O;v!==null;){O=v;var F=O.stateNode;if(O.tag===5&&F!==null&&(O=F,D!==null&&(F=us(v,D),F!=null&&z.push(ps(v,F,O)))),se)break;v=v.return}0<z.length&&(B=new H(B,Z,null,s,T),N.push({event:B,listeners:z}))}}if(!(r&7)){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&s!==xa&&(Z=s.relatedTarget||s.fromElement)&&(Or(Z)||Z[Wn]))break e;if((H||B)&&(B=T.window===T?T:(B=T.ownerDocument)?B.defaultView||B.parentWindow:window,H?(Z=s.relatedTarget||s.toElement,H=w,Z=Z?Or(Z):null,Z!==null&&(se=Vr(Z),Z!==se||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(H=null,Z=w),H!==Z)){if(z=Du,F="onMouseLeave",D="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(z=bu,F="onPointerLeave",D="onPointerEnter",v="pointer"),se=H==null?B:ii(H),O=Z==null?B:ii(Z),B=new z(F,v+"leave",H,s,T),B.target=se,B.relatedTarget=O,F=null,Or(T)===w&&(z=new z(D,v+"enter",Z,s,T),z.target=O,z.relatedTarget=se,F=z),se=F,H&&Z)t:{for(z=H,D=Z,v=0,O=z;O;O=Jr(O))v++;for(O=0,F=D;F;F=Jr(F))O++;for(;0<v-O;)z=Jr(z),v--;for(;0<O-v;)D=Jr(D),O--;for(;v--;){if(z===D||D!==null&&z===D.alternate)break t;z=Jr(z),D=Jr(D)}z=null}else z=null;H!==null&&Gu(N,B,H,z,!1),Z!==null&&se!==null&&Gu(N,se,Z,z,!0)}}e:{if(B=w?ii(w):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var J=l2;else if(Bu(B))if(Oc)J=c2;else{J=a2;var Q=o2}else(H=B.nodeName)&&H.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(J=u2);if(J&&(J=J(t,w))){_c(N,J,s,T);break e}Q&&Q(t,B,w),t==="focusout"&&(Q=B._wrapperState)&&Q.controlled&&B.type==="number"&&ca(B,"number",B.value)}switch(Q=w?ii(w):window,t){case"focusin":(Bu(Q)||Q.contentEditable==="true")&&(ni=Q,ya=w,ns=null);break;case"focusout":ns=ya=ni=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Vu(N,s,T);break;case"selectionchange":if(d2)break;case"keydown":case"keyup":Vu(N,s,T)}var L;if(p1)e:{switch(t){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else ti?Tc(t,s)&&(K="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(K="onCompositionStart");K&&(vc&&s.locale!=="ko"&&(ti||K!=="onCompositionStart"?K==="onCompositionEnd"&&ti&&(L=Sc()):(sr=T,d1="value"in sr?sr.value:sr.textContent,ti=!0)),Q=Nl(w,K),0<Q.length&&(K=new Mu(K,t,null,s,T),N.push({event:K,listeners:Q}),L?K.data=L:(L=Nc(s),L!==null&&(K.data=L)))),(L=t2?n2(t,s):r2(t,s))&&(w=Nl(w,"onBeforeInput"),0<w.length&&(T=new Mu("onBeforeInput","beforeinput",null,s,T),N.push({event:T,listeners:w}),T.data=L))}Uc(N,r)})}function ps(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Nl(t,r){for(var s=r+"Capture",u=[];t!==null;){var f=t,h=f.stateNode;f.tag===5&&h!==null&&(f=h,h=us(t,s),h!=null&&u.unshift(ps(t,h,f)),h=us(t,r),h!=null&&u.push(ps(t,h,f))),t=t.return}return u}function Jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gu(t,r,s,u,f){for(var h=r._reactName,x=[];s!==null&&s!==u;){var A=s,y=A.alternate,w=A.stateNode;if(y!==null&&y===u)break;A.tag===5&&w!==null&&(A=w,f?(y=us(s,h),y!=null&&x.unshift(ps(s,y,A))):f||(y=us(s,h),y!=null&&x.push(ps(s,y,A)))),s=s.return}x.length!==0&&t.push({event:r,listeners:x})}var w2=/\r\n?/g,m2=/\u0000|\uFFFD/g;function Xu(t){return(typeof t=="string"?t:""+t).replace(w2,`
`).replace(m2,"")}function tl(t,r,s){if(r=Xu(r),Xu(t)!==r&&s)throw Error(X(425))}function _l(){}var Sa=null,va=null;function Ta(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Na=typeof setTimeout=="function"?setTimeout:void 0,E2=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(t){return ju.resolve(null).then(t).catch(A2)}:Na;function A2(t){setTimeout(function(){throw t})}function jo(t,r){var s=r,u=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(u===0){t.removeChild(f),hs(r);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=f}while(s);hs(r)}function cr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Yu(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Ti,ws="__reactProps$"+Ti,Wn="__reactContainer$"+Ti,_a="__reactEvents$"+Ti,y2="__reactListeners$"+Ti,I2="__reactHandles$"+Ti;function Or(t){var r=t[Mn];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Wn]||s[Mn]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Yu(t);t!==null;){if(s=t[Mn])return s;t=Yu(t)}return r}t=s,s=t.parentNode}return null}function _s(t){return t=t[Mn]||t[Wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function Ql(t){return t[ws]||null}var Oa=[],si=-1;function mr(t){return{current:t}}function Ve(t){0>si||(t.current=Oa[si],Oa[si]=null,si--)}function Fe(t,r){si++,Oa[si]=t.current,t.current=r}var pr={},Ot=mr(pr),Gt=mr(!1),Pr=pr;function mi(t,r){var s=t.type.contextTypes;if(!s)return pr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},h;for(h in s)f[h]=r[h];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Xt(t){return t=t.childContextTypes,t!=null}function Ol(){Ve(Gt),Ve(Ot)}function Zu(t,r,s){if(Ot.current!==pr)throw Error(X(168));Fe(Ot,r),Fe(Gt,s)}function Vc(t,r,s){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(X(108,od(t)||"Unknown",f));return Ke({},s,u)}function Rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pr,Pr=Ot.current,Fe(Ot,t),Fe(Gt,Gt.current),!0}function Ku(t,r,s){var u=t.stateNode;if(!u)throw Error(X(169));s?(t=Vc(t,r,Pr),u.__reactInternalMemoizedMergedChildContext=t,Ve(Gt),Ve(Ot),Fe(Ot,t)):Ve(Gt),Fe(Gt,s)}var Ln=null,ql=!1,Yo=!1;function Wc(t){Ln===null?Ln=[t]:Ln.push(t)}function S2(t){ql=!0,Wc(t)}function Er(){if(!Yo&&Ln!==null){Yo=!0;var t=0,r=Re;try{var s=Ln;for(Re=1;t<s.length;t++){var u=s[t];do u=u(!0);while(u!==null)}Ln=null,ql=!1}catch(f){throw Ln!==null&&(Ln=Ln.slice(t+1)),dc(u1,Er),f}finally{Re=r,Yo=!1}}return null}var li=[],oi=0,Dl=null,Ml=0,ln=[],on=0,Br=null,Fn=1,Un="";function Nr(t,r){li[oi++]=Ml,li[oi++]=Dl,Dl=t,Ml=r}function Hc(t,r,s){ln[on++]=Fn,ln[on++]=Un,ln[on++]=Br,Br=t;var u=Fn;t=Un;var f=32-En(u)-1;u&=~(1<<f),s+=1;var h=32-En(r)+f;if(30<h){var x=f-f%5;h=(u&(1<<x)-1).toString(32),u>>=x,f-=x,Fn=1<<32-En(r)+f|s<<f|u,Un=h+t}else Fn=1<<h|s<<f|u,Un=t}function m1(t){t.return!==null&&(Nr(t,1),Hc(t,1,0))}function E1(t){for(;t===Dl;)Dl=li[--oi],li[oi]=null,Ml=li[--oi],li[oi]=null;for(;t===Br;)Br=ln[--on],ln[on]=null,Un=ln[--on],ln[on]=null,Fn=ln[--on],ln[on]=null}var Qt=null,Kt=null,Ge=!1,mn=null;function Gc(t,r){var s=an(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function Qu(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Qt=t,Kt=cr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Qt=t,Kt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=Br!==null?{id:Fn,overflow:Un}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=an(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,Qt=t,Kt=null,!0):!1;default:return!1}}function Ra(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Da(t){if(Ge){var r=Kt;if(r){var s=r;if(!Qu(t,r)){if(Ra(t))throw Error(X(418));r=cr(s.nextSibling);var u=Qt;r&&Qu(t,r)?Gc(u,s):(t.flags=t.flags&-4097|2,Ge=!1,Qt=t)}}else{if(Ra(t))throw Error(X(418));t.flags=t.flags&-4097|2,Ge=!1,Qt=t}}}function qu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function nl(t){if(t!==Qt)return!1;if(!Ge)return qu(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ta(t.type,t.memoizedProps)),r&&(r=Kt)){if(Ra(t))throw Xc(),Error(X(418));for(;r;)Gc(t,r),r=cr(r.nextSibling)}if(qu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){Kt=cr(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}Kt=null}}else Kt=Qt?cr(t.stateNode.nextSibling):null;return!0}function Xc(){for(var t=Kt;t;)t=cr(t.nextSibling)}function Ei(){Kt=Qt=null,Ge=!1}function C1(t){mn===null?mn=[t]:mn.push(t)}var v2=Xn.ReactCurrentBatchConfig;function pn(t,r){if(t&&t.defaultProps){r=Ke({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}var bl=mr(null),kl=null,ai=null,A1=null;function y1(){A1=ai=kl=null}function I1(t){var r=bl.current;Ve(bl),t._currentValue=r}function Ma(t,r,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===s)break;t=t.return}}function xi(t,r){kl=t,A1=ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Ht=!0),t.firstContext=null)}function cn(t){var r=t._currentValue;if(A1!==t)if(t={context:t,memoizedValue:r,next:null},ai===null){if(kl===null)throw Error(X(308));ai=t,kl.dependencies={lanes:0,firstContext:t}}else ai=ai.next=t;return r}var Rr=null;function S1(t){Rr===null?Rr=[t]:Rr.push(t)}function jc(t,r,s,u){var f=r.interleaved;return f===null?(s.next=s,S1(r)):(s.next=f.next,f.next=s),r.interleaved=s,Hn(t,u)}function Hn(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var nr=!1;function v1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yc(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function fr(t,r,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,ve&2){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,Hn(t,s)}return f=u.interleaved,f===null?(r.next=r,S1(u)):(r.next=f.next,f.next=r),u.interleaved=r,Hn(t,s)}function dl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,s|=u,r.lanes=s,c1(t,s)}}function Ju(t,r){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var x={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?f=h=x:h=h.next=x,s=s.next}while(s!==null);h===null?f=h=r:h=h.next=r}else f=h=r;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:u.shared,effects:u.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function Pl(t,r,s,u){var f=t.updateQueue;nr=!1;var h=f.firstBaseUpdate,x=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var y=A,w=y.next;y.next=null,x===null?h=w:x.next=w,x=y;var T=t.alternate;T!==null&&(T=T.updateQueue,A=T.lastBaseUpdate,A!==x&&(A===null?T.firstBaseUpdate=w:A.next=w,T.lastBaseUpdate=y))}if(h!==null){var N=f.baseState;x=0,T=w=y=null,A=h;do{var B=A.lane,H=A.eventTime;if((u&B)===B){T!==null&&(T=T.next={eventTime:H,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var Z=t,z=A;switch(B=r,H=s,z.tag){case 1:if(Z=z.payload,typeof Z=="function"){N=Z.call(H,N,B);break e}N=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=z.payload,B=typeof Z=="function"?Z.call(H,N,B):Z,B==null)break e;N=Ke({},N,B);break e;case 2:nr=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,B=f.effects,B===null?f.effects=[A]:B.push(A))}else H={eventTime:H,lane:B,tag:A.tag,payload:A.payload,callback:A.callback,next:null},T===null?(w=T=H,y=N):T=T.next=H,x|=B;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;B=A,A=B.next,B.next=null,f.lastBaseUpdate=B,f.shared.pending=null}}while(1);if(T===null&&(y=N),f.baseState=y,f.firstBaseUpdate=w,f.lastBaseUpdate=T,r=f.shared.interleaved,r!==null){f=r;do x|=f.lane,f=f.next;while(f!==r)}else h===null&&(f.shared.lanes=0);Fr|=x,t.lanes=x,t.memoizedState=N}}function $u(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=s,typeof f!="function")throw Error(X(191,f));f.call(u)}}}var Zc=new j0.Component().refs;function ba(t,r,s,u){r=t.memoizedState,s=s(u,r),s=s==null?r:Ke({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Jl={isMounted:function(t){return(t=t._reactInternals)?Vr(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var u=bt(),f=dr(t),h=zn(u,f);h.payload=r,s!=null&&(h.callback=s),r=fr(t,h,f),r!==null&&(Cn(r,t,f,u),dl(r,t,f))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var u=bt(),f=dr(t),h=zn(u,f);h.tag=1,h.payload=r,s!=null&&(h.callback=s),r=fr(t,h,f),r!==null&&(Cn(r,t,f,u),dl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=bt(),u=dr(t),f=zn(s,u);f.tag=2,r!=null&&(f.callback=r),r=fr(t,f,u),r!==null&&(Cn(r,t,u,s),dl(r,t,u))}};function e0(t,r,s,u,f,h,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,h,x):r.prototype&&r.prototype.isPureReactComponent?!gs(s,u)||!gs(f,h):!0}function Kc(t,r,s){var u=!1,f=pr,h=r.contextType;return typeof h=="object"&&h!==null?h=cn(h):(f=Xt(r)?Pr:Ot.current,u=r.contextTypes,h=(u=u!=null)?mi(t,f):pr),r=new r(s,h),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Jl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=h),r}function t0(t,r,s,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,u),r.state!==t&&Jl.enqueueReplaceState(r,r.state,null)}function ka(t,r,s,u){var f=t.stateNode;f.props=s,f.state=t.memoizedState,f.refs=Zc,v1(t);var h=r.contextType;typeof h=="object"&&h!==null?f.context=cn(h):(h=Xt(r)?Pr:Ot.current,f.context=mi(t,h)),f.state=t.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(ba(t,r,h,s),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Jl.enqueueReplaceState(f,f.state,null),Pl(t,s,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Xi(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(X(309));var u=s.stateNode}if(!u)throw Error(X(147,t));var f=u,h=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(x){var A=f.refs;A===Zc&&(A=f.refs={}),x===null?delete A[h]:A[h]=x},r._stringRef=h,r)}if(typeof t!="string")throw Error(X(284));if(!s._owner)throw Error(X(290,t))}return t}function rl(t,r){throw t=Object.prototype.toString.call(r),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function n0(t){var r=t._init;return r(t._payload)}function Qc(t){function r(D,v){if(t){var O=D.deletions;O===null?(D.deletions=[v],D.flags|=16):O.push(v)}}function s(D,v){if(!t)return null;for(;v!==null;)r(D,v),v=v.sibling;return null}function u(D,v){for(D=new Map;v!==null;)v.key!==null?D.set(v.key,v):D.set(v.index,v),v=v.sibling;return D}function f(D,v){return D=gr(D,v),D.index=0,D.sibling=null,D}function h(D,v,O){return D.index=O,t?(O=D.alternate,O!==null?(O=O.index,O<v?(D.flags|=2,v):O):(D.flags|=2,v)):(D.flags|=1048576,v)}function x(D){return t&&D.alternate===null&&(D.flags|=2),D}function A(D,v,O,F){return v===null||v.tag!==6?(v=ea(O,D.mode,F),v.return=D,v):(v=f(v,O),v.return=D,v)}function y(D,v,O,F){var J=O.type;return J===ei?T(D,v,O.props.children,F,O.key):v!==null&&(v.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===tr&&n0(J)===v.type)?(F=f(v,O.props),F.ref=Xi(D,v,O),F.return=D,F):(F=El(O.type,O.key,O.props,null,D.mode,F),F.ref=Xi(D,v,O),F.return=D,F)}function w(D,v,O,F){return v===null||v.tag!==4||v.stateNode.containerInfo!==O.containerInfo||v.stateNode.implementation!==O.implementation?(v=ta(O,D.mode,F),v.return=D,v):(v=f(v,O.children||[]),v.return=D,v)}function T(D,v,O,F,J){return v===null||v.tag!==7?(v=kr(O,D.mode,F,J),v.return=D,v):(v=f(v,O),v.return=D,v)}function N(D,v,O){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ea(""+v,D.mode,O),v.return=D,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case js:return O=El(v.type,v.key,v.props,null,D.mode,O),O.ref=Xi(D,null,v),O.return=D,O;case $r:return v=ta(v,D.mode,O),v.return=D,v;case tr:var F=v._init;return N(D,F(v._payload),O)}if(Ki(v)||zi(v))return v=kr(v,D.mode,O,null),v.return=D,v;rl(D,v)}return null}function B(D,v,O,F){var J=v!==null?v.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return J!==null?null:A(D,v,""+O,F);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case js:return O.key===J?y(D,v,O,F):null;case $r:return O.key===J?w(D,v,O,F):null;case tr:return J=O._init,B(D,v,J(O._payload),F)}if(Ki(O)||zi(O))return J!==null?null:T(D,v,O,F,null);rl(D,O)}return null}function H(D,v,O,F,J){if(typeof F=="string"&&F!==""||typeof F=="number")return D=D.get(O)||null,A(v,D,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case js:return D=D.get(F.key===null?O:F.key)||null,y(v,D,F,J);case $r:return D=D.get(F.key===null?O:F.key)||null,w(v,D,F,J);case tr:var Q=F._init;return H(D,v,O,Q(F._payload),J)}if(Ki(F)||zi(F))return D=D.get(O)||null,T(v,D,F,J,null);rl(v,F)}return null}function Z(D,v,O,F){for(var J=null,Q=null,L=v,K=v=0,V=null;L!==null&&K<O.length;K++){L.index>K?(V=L,L=null):V=L.sibling;var ge=B(D,L,O[K],F);if(ge===null){L===null&&(L=V);break}t&&L&&ge.alternate===null&&r(D,L),v=h(ge,v,K),Q===null?J=ge:Q.sibling=ge,Q=ge,L=V}if(K===O.length)return s(D,L),Ge&&Nr(D,K),J;if(L===null){for(;K<O.length;K++)L=N(D,O[K],F),L!==null&&(v=h(L,v,K),Q===null?J=L:Q.sibling=L,Q=L);return Ge&&Nr(D,K),J}for(L=u(D,L);K<O.length;K++)V=H(L,D,K,O[K],F),V!==null&&(t&&V.alternate!==null&&L.delete(V.key===null?K:V.key),v=h(V,v,K),Q===null?J=V:Q.sibling=V,Q=V);return t&&L.forEach(function(Pe){return r(D,Pe)}),Ge&&Nr(D,K),J}function z(D,v,O,F){var J=zi(O);if(typeof J!="function")throw Error(X(150));if(O=J.call(O),O==null)throw Error(X(151));for(var Q=J=null,L=v,K=v=0,V=null,ge=O.next();L!==null&&!ge.done;K++,ge=O.next()){L.index>K?(V=L,L=null):V=L.sibling;var Pe=B(D,L,ge.value,F);if(Pe===null){L===null&&(L=V);break}t&&L&&Pe.alternate===null&&r(D,L),v=h(Pe,v,K),Q===null?J=Pe:Q.sibling=Pe,Q=Pe,L=V}if(ge.done)return s(D,L),Ge&&Nr(D,K),J;if(L===null){for(;!ge.done;K++,ge=O.next())ge=N(D,ge.value,F),ge!==null&&(v=h(ge,v,K),Q===null?J=ge:Q.sibling=ge,Q=ge);return Ge&&Nr(D,K),J}for(L=u(D,L);!ge.done;K++,ge=O.next())ge=H(L,D,K,ge.value,F),ge!==null&&(t&&ge.alternate!==null&&L.delete(ge.key===null?K:ge.key),v=h(ge,v,K),Q===null?J=ge:Q.sibling=ge,Q=ge);return t&&L.forEach(function(ae){return r(D,ae)}),Ge&&Nr(D,K),J}function se(D,v,O,F){if(typeof O=="object"&&O!==null&&O.type===ei&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case js:e:{for(var J=O.key,Q=v;Q!==null;){if(Q.key===J){if(J=O.type,J===ei){if(Q.tag===7){s(D,Q.sibling),v=f(Q,O.props.children),v.return=D,D=v;break e}}else if(Q.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===tr&&n0(J)===Q.type){s(D,Q.sibling),v=f(Q,O.props),v.ref=Xi(D,Q,O),v.return=D,D=v;break e}s(D,Q);break}else r(D,Q);Q=Q.sibling}O.type===ei?(v=kr(O.props.children,D.mode,F,O.key),v.return=D,D=v):(F=El(O.type,O.key,O.props,null,D.mode,F),F.ref=Xi(D,v,O),F.return=D,D=F)}return x(D);case $r:e:{for(Q=O.key;v!==null;){if(v.key===Q)if(v.tag===4&&v.stateNode.containerInfo===O.containerInfo&&v.stateNode.implementation===O.implementation){s(D,v.sibling),v=f(v,O.children||[]),v.return=D,D=v;break e}else{s(D,v);break}else r(D,v);v=v.sibling}v=ta(O,D.mode,F),v.return=D,D=v}return x(D);case tr:return Q=O._init,se(D,v,Q(O._payload),F)}if(Ki(O))return Z(D,v,O,F);if(zi(O))return z(D,v,O,F);rl(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,v!==null&&v.tag===6?(s(D,v.sibling),v=f(v,O),v.return=D,D=v):(s(D,v),v=ea(O,D.mode,F),v.return=D,D=v),x(D)):s(D,v)}return se}var Ci=Qc(!0),qc=Qc(!1),Os={},kn=mr(Os),ms=mr(Os),Es=mr(Os);function Dr(t){if(t===Os)throw Error(X(174));return t}function T1(t,r){switch(Fe(Es,r),Fe(ms,t),Fe(kn,Os),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ha(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ha(r,t)}Ve(kn),Fe(kn,r)}function Ai(){Ve(kn),Ve(ms),Ve(Es)}function Jc(t){Dr(Es.current);var r=Dr(kn.current),s=ha(r,t.type);r!==s&&(Fe(ms,t),Fe(kn,s))}function N1(t){ms.current===t&&(Ve(kn),Ve(ms))}var Ye=mr(0);function Bl(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zo=[];function _1(){for(var t=0;t<Zo.length;t++)Zo[t]._workInProgressVersionPrimary=null;Zo.length=0}var gl=Xn.ReactCurrentDispatcher,Ko=Xn.ReactCurrentBatchConfig,Lr=0,Ze=null,ct=null,xt=null,Ll=!1,rs=!1,Cs=0,T2=0;function Tt(){throw Error(X(321))}function O1(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!yn(t[s],r[s]))return!1;return!0}function R1(t,r,s,u,f,h){if(Lr=h,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,gl.current=t===null||t.memoizedState===null?R2:D2,t=s(u,f),rs){h=0;do{if(rs=!1,Cs=0,25<=h)throw Error(X(301));h+=1,xt=ct=null,r.updateQueue=null,gl.current=M2,t=s(u,f)}while(rs)}if(gl.current=Fl,r=ct!==null&&ct.next!==null,Lr=0,xt=ct=Ze=null,Ll=!1,r)throw Error(X(300));return t}function D1(){var t=Cs!==0;return Cs=0,t}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=t:xt=xt.next=t,xt}function fn(){if(ct===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=xt===null?Ze.memoizedState:xt.next;if(r!==null)xt=r,ct=t;else{if(t===null)throw Error(X(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},xt===null?Ze.memoizedState=xt=t:xt=xt.next=t}return xt}function As(t,r){return typeof r=="function"?r(t):r}function Qo(t){var r=fn(),s=r.queue;if(s===null)throw Error(X(311));s.lastRenderedReducer=t;var u=ct,f=u.baseQueue,h=s.pending;if(h!==null){if(f!==null){var x=f.next;f.next=h.next,h.next=x}u.baseQueue=f=h,s.pending=null}if(f!==null){h=f.next,u=u.baseState;var A=x=null,y=null,w=h;do{var T=w.lane;if((Lr&T)===T)y!==null&&(y=y.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),u=w.hasEagerState?w.eagerState:t(u,w.action);else{var N={lane:T,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};y===null?(A=y=N,x=u):y=y.next=N,Ze.lanes|=T,Fr|=T}w=w.next}while(w!==null&&w!==h);y===null?x=u:y.next=A,yn(u,r.memoizedState)||(Ht=!0),r.memoizedState=u,r.baseState=x,r.baseQueue=y,s.lastRenderedState=u}if(t=s.interleaved,t!==null){f=t;do h=f.lane,Ze.lanes|=h,Fr|=h,f=f.next;while(f!==t)}else f===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function qo(t){var r=fn(),s=r.queue;if(s===null)throw Error(X(311));s.lastRenderedReducer=t;var u=s.dispatch,f=s.pending,h=r.memoizedState;if(f!==null){s.pending=null;var x=f=f.next;do h=t(h,x.action),x=x.next;while(x!==f);yn(h,r.memoizedState)||(Ht=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),s.lastRenderedState=h}return[h,u]}function $c(){}function ef(t,r){var s=Ze,u=fn(),f=r(),h=!yn(u.memoizedState,f);if(h&&(u.memoizedState=f,Ht=!0),u=u.queue,M1(rf.bind(null,s,u,t),[t]),u.getSnapshot!==r||h||xt!==null&&xt.memoizedState.tag&1){if(s.flags|=2048,ys(9,nf.bind(null,s,u,f,r),void 0,null),pt===null)throw Error(X(349));Lr&30||tf(s,r,f)}return f}function tf(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function nf(t,r,s,u){r.value=s,r.getSnapshot=u,sf(r)&&lf(t)}function rf(t,r,s){return s(function(){sf(r)&&lf(t)})}function sf(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!yn(t,s)}catch{return!0}}function lf(t){var r=Hn(t,1);r!==null&&Cn(r,t,1,-1)}function r0(t){var r=Dn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},r.queue=t,t=t.dispatch=O2.bind(null,Ze,t),[r.memoizedState,t]}function ys(t,r,s,u){return t={tag:t,create:r,destroy:s,deps:u,next:null},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,r.lastEffect=t)),t}function of(){return fn().memoizedState}function xl(t,r,s,u){var f=Dn();Ze.flags|=t,f.memoizedState=ys(1|r,s,void 0,u===void 0?null:u)}function $l(t,r,s,u){var f=fn();u=u===void 0?null:u;var h=void 0;if(ct!==null){var x=ct.memoizedState;if(h=x.destroy,u!==null&&O1(u,x.deps)){f.memoizedState=ys(r,s,h,u);return}}Ze.flags|=t,f.memoizedState=ys(1|r,s,h,u)}function i0(t,r){return xl(8390656,8,t,r)}function M1(t,r){return $l(2048,8,t,r)}function af(t,r){return $l(4,2,t,r)}function uf(t,r){return $l(4,4,t,r)}function cf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ff(t,r,s){return s=s!=null?s.concat([t]):null,$l(4,4,cf.bind(null,r,t),s)}function b1(){}function hf(t,r){var s=fn();r=r===void 0?null:r;var u=s.memoizedState;return u!==null&&r!==null&&O1(r,u[1])?u[0]:(s.memoizedState=[t,r],t)}function df(t,r){var s=fn();r=r===void 0?null:r;var u=s.memoizedState;return u!==null&&r!==null&&O1(r,u[1])?u[0]:(t=t(),s.memoizedState=[t,r],t)}function gf(t,r,s){return Lr&21?(yn(s,r)||(s=pc(),Ze.lanes|=s,Fr|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=s)}function N2(t,r){var s=Re;Re=s!==0&&4>s?s:4,t(!0);var u=Ko.transition;Ko.transition={};try{t(!1),r()}finally{Re=s,Ko.transition=u}}function xf(){return fn().memoizedState}function _2(t,r,s){var u=dr(t);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},pf(t))wf(r,s);else if(s=jc(t,r,s,u),s!==null){var f=bt();Cn(s,t,u,f),mf(s,r,u)}}function O2(t,r,s){var u=dr(t),f={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(pf(t))wf(r,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var x=r.lastRenderedState,A=h(x,s);if(f.hasEagerState=!0,f.eagerState=A,yn(A,x)){var y=r.interleaved;y===null?(f.next=f,S1(r)):(f.next=y.next,y.next=f),r.interleaved=f;return}}catch{}finally{}s=jc(t,r,f,u),s!==null&&(f=bt(),Cn(s,t,u,f),mf(s,r,u))}}function pf(t){var r=t.alternate;return t===Ze||r!==null&&r===Ze}function wf(t,r){rs=Ll=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function mf(t,r,s){if(s&4194240){var u=r.lanes;u&=t.pendingLanes,s|=u,r.lanes=s,c1(t,s)}}var Fl={readContext:cn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},R2={readContext:cn,useCallback:function(t,r){return Dn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:i0,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,xl(4194308,4,cf.bind(null,r,t),s)},useLayoutEffect:function(t,r){return xl(4194308,4,t,r)},useInsertionEffect:function(t,r){return xl(4,2,t,r)},useMemo:function(t,r){var s=Dn();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var u=Dn();return r=s!==void 0?s(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=_2.bind(null,Ze,t),[u.memoizedState,t]},useRef:function(t){var r=Dn();return t={current:t},r.memoizedState=t},useState:r0,useDebugValue:b1,useDeferredValue:function(t){return Dn().memoizedState=t},useTransition:function(){var t=r0(!1),r=t[0];return t=N2.bind(null,t[1]),Dn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var u=Ze,f=Dn();if(Ge){if(s===void 0)throw Error(X(407));s=s()}else{if(s=r(),pt===null)throw Error(X(349));Lr&30||tf(u,r,s)}f.memoizedState=s;var h={value:s,getSnapshot:r};return f.queue=h,i0(rf.bind(null,u,h,t),[t]),u.flags|=2048,ys(9,nf.bind(null,u,h,s,r),void 0,null),s},useId:function(){var t=Dn(),r=pt.identifierPrefix;if(Ge){var s=Un,u=Fn;s=(u&~(1<<32-En(u)-1)).toString(32)+s,r=":"+r+"R"+s,s=Cs++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=T2++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},D2={readContext:cn,useCallback:hf,useContext:cn,useEffect:M1,useImperativeHandle:ff,useInsertionEffect:af,useLayoutEffect:uf,useMemo:df,useReducer:Qo,useRef:of,useState:function(){return Qo(As)},useDebugValue:b1,useDeferredValue:function(t){var r=fn();return gf(r,ct.memoizedState,t)},useTransition:function(){var t=Qo(As)[0],r=fn().memoizedState;return[t,r]},useMutableSource:$c,useSyncExternalStore:ef,useId:xf,unstable_isNewReconciler:!1},M2={readContext:cn,useCallback:hf,useContext:cn,useEffect:M1,useImperativeHandle:ff,useInsertionEffect:af,useLayoutEffect:uf,useMemo:df,useReducer:qo,useRef:of,useState:function(){return qo(As)},useDebugValue:b1,useDeferredValue:function(t){var r=fn();return ct===null?r.memoizedState=t:gf(r,ct.memoizedState,t)},useTransition:function(){var t=qo(As)[0],r=fn().memoizedState;return[t,r]},useMutableSource:$c,useSyncExternalStore:ef,useId:xf,unstable_isNewReconciler:!1};function yi(t,r){try{var s="",u=r;do s+=ld(u),u=u.return;while(u);var f=s}catch(h){f=`
Error generating stack: `+h.message+`
`+h.stack}return{value:t,source:r,stack:f,digest:null}}function Jo(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function Pa(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var b2=typeof WeakMap=="function"?WeakMap:Map;function Ef(t,r,s){s=zn(-1,s),s.tag=3,s.payload={element:null};var u=r.value;return s.callback=function(){zl||(zl=!0,Xa=u),Pa(t,r)},s}function Cf(t,r,s){s=zn(-1,s),s.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;s.payload=function(){return u(f)},s.callback=function(){Pa(t,r)}}var h=t.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Pa(t,r),typeof u!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),s}function s0(t,r,s){var u=t.pingCache;if(u===null){u=t.pingCache=new b2;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(s)||(f.add(s),t=Y2.bind(null,t,r,s),r.then(t,t))}function l0(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function o0(t,r,s,u,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=zn(-1,1),r.tag=2,fr(s,r,1))),s.lanes|=1),t)}var k2=Xn.ReactCurrentOwner,Ht=!1;function Mt(t,r,s,u){r.child=t===null?qc(r,null,s,u):Ci(r,t.child,s,u)}function a0(t,r,s,u,f){s=s.render;var h=r.ref;return xi(r,f),u=R1(t,r,s,u,h,f),s=D1(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Gn(t,r,f)):(Ge&&s&&m1(r),r.flags|=1,Mt(t,r,u,f),r.child)}function u0(t,r,s,u,f){if(t===null){var h=s.type;return typeof h=="function"&&!V1(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=h,Af(t,r,h,u,f)):(t=El(s.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(h=t.child,!(t.lanes&f)){var x=h.memoizedProps;if(s=s.compare,s=s!==null?s:gs,s(x,u)&&t.ref===r.ref)return Gn(t,r,f)}return r.flags|=1,t=gr(h,u),t.ref=r.ref,t.return=r,r.child=t}function Af(t,r,s,u,f){if(t!==null){var h=t.memoizedProps;if(gs(h,u)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=u=h,(t.lanes&f)!==0)t.flags&131072&&(Ht=!0);else return r.lanes=t.lanes,Gn(t,r,f)}return Ba(t,r,s,u,f)}function yf(t,r,s){var u=r.pendingProps,f=u.children,h=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(ci,Zt),Zt|=s;else{if(!(s&1073741824))return t=h!==null?h.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Fe(ci,Zt),Zt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=h!==null?h.baseLanes:s,Fe(ci,Zt),Zt|=u}else h!==null?(u=h.baseLanes|s,r.memoizedState=null):u=s,Fe(ci,Zt),Zt|=u;return Mt(t,r,f,s),r.child}function If(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function Ba(t,r,s,u,f){var h=Xt(s)?Pr:Ot.current;return h=mi(r,h),xi(r,f),s=R1(t,r,s,u,h,f),u=D1(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Gn(t,r,f)):(Ge&&u&&m1(r),r.flags|=1,Mt(t,r,s,f),r.child)}function c0(t,r,s,u,f){if(Xt(s)){var h=!0;Rl(r)}else h=!1;if(xi(r,f),r.stateNode===null)pl(t,r),Kc(r,s,u),ka(r,s,u,f),u=!0;else if(t===null){var x=r.stateNode,A=r.memoizedProps;x.props=A;var y=x.context,w=s.contextType;typeof w=="object"&&w!==null?w=cn(w):(w=Xt(s)?Pr:Ot.current,w=mi(r,w));var T=s.getDerivedStateFromProps,N=typeof T=="function"||typeof x.getSnapshotBeforeUpdate=="function";N||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==u||y!==w)&&t0(r,x,u,w),nr=!1;var B=r.memoizedState;x.state=B,Pl(r,u,x,f),y=r.memoizedState,A!==u||B!==y||Gt.current||nr?(typeof T=="function"&&(ba(r,s,T,u),y=r.memoizedState),(A=nr||e0(r,s,A,u,B,y,w))?(N||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=y),x.props=u,x.state=y,x.context=w,u=A):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{x=r.stateNode,Yc(t,r),A=r.memoizedProps,w=r.type===r.elementType?A:pn(r.type,A),x.props=w,N=r.pendingProps,B=x.context,y=s.contextType,typeof y=="object"&&y!==null?y=cn(y):(y=Xt(s)?Pr:Ot.current,y=mi(r,y));var H=s.getDerivedStateFromProps;(T=typeof H=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==N||B!==y)&&t0(r,x,u,y),nr=!1,B=r.memoizedState,x.state=B,Pl(r,u,x,f);var Z=r.memoizedState;A!==N||B!==Z||Gt.current||nr?(typeof H=="function"&&(ba(r,s,H,u),Z=r.memoizedState),(w=nr||e0(r,s,w,u,B,Z,y)||!1)?(T||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Z,y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Z,y)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),x.props=u,x.state=Z,x.context=y,u=w):(typeof x.componentDidUpdate!="function"||A===t.memoizedProps&&B===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&B===t.memoizedState||(r.flags|=1024),u=!1)}return La(t,r,s,u,h,f)}function La(t,r,s,u,f,h){If(t,r);var x=(r.flags&128)!==0;if(!u&&!x)return f&&Ku(r,s,!1),Gn(t,r,h);u=r.stateNode,k2.current=r;var A=x&&typeof s.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&x?(r.child=Ci(r,t.child,null,h),r.child=Ci(r,null,A,h)):Mt(t,r,A,h),r.memoizedState=u.state,f&&Ku(r,s,!0),r.child}function Sf(t){var r=t.stateNode;r.pendingContext?Zu(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Zu(t,r.context,!1),T1(t,r.containerInfo)}function f0(t,r,s,u,f){return Ei(),C1(f),r.flags|=256,Mt(t,r,s,u),r.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function Ua(t){return{baseLanes:t,cachePool:null,transitions:null}}function vf(t,r,s){var u=r.pendingProps,f=Ye.current,h=!1,x=(r.flags&128)!==0,A;if((A=x)||(A=t!==null&&t.memoizedState===null?!1:(f&2)!==0),A?(h=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),Fe(Ye,f&1),t===null)return Da(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(x=u.children,t=u.fallback,h?(u=r.mode,h=r.child,x={mode:"hidden",children:x},!(u&1)&&h!==null?(h.childLanes=0,h.pendingProps=x):h=no(x,u,0,null),t=kr(t,u,s,null),h.return=r,t.return=r,h.sibling=t,r.child=h,r.child.memoizedState=Ua(s),r.memoizedState=Fa,t):k1(r,x));if(f=t.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return P2(t,r,x,u,A,f,s);if(h){h=u.fallback,x=r.mode,f=t.child,A=f.sibling;var y={mode:"hidden",children:u.children};return!(x&1)&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=y,r.deletions=null):(u=gr(f,y),u.subtreeFlags=f.subtreeFlags&14680064),A!==null?h=gr(A,h):(h=kr(h,x,s,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,x=t.child.memoizedState,x=x===null?Ua(s):{baseLanes:x.baseLanes|s,cachePool:null,transitions:x.transitions},h.memoizedState=x,h.childLanes=t.childLanes&~s,r.memoizedState=Fa,u}return h=t.child,t=h.sibling,u=gr(h,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=s),u.return=r,u.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=u,r.memoizedState=null,u}function k1(t,r){return r=no({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function il(t,r,s,u){return u!==null&&C1(u),Ci(r,t.child,null,s),t=k1(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function P2(t,r,s,u,f,h,x){if(s)return r.flags&256?(r.flags&=-257,u=Jo(Error(X(422))),il(t,r,x,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(h=u.fallback,f=r.mode,u=no({mode:"visible",children:u.children},f,0,null),h=kr(h,f,x,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,r.mode&1&&Ci(r,t.child,null,x),r.child.memoizedState=Ua(x),r.memoizedState=Fa,h);if(!(r.mode&1))return il(t,r,x,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var A=u.dgst;return u=A,h=Error(X(419)),u=Jo(h,u,void 0),il(t,r,x,u)}if(A=(x&t.childLanes)!==0,Ht||A){if(u=pt,u!==null){switch(x&-x){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(u.suspendedLanes|x)?0:f,f!==0&&f!==h.retryLane&&(h.retryLane=f,Hn(t,f),Cn(u,t,f,-1))}return z1(),u=Jo(Error(X(421))),il(t,r,x,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=Z2.bind(null,t),f._reactRetry=r,null):(t=h.treeContext,Kt=cr(f.nextSibling),Qt=r,Ge=!0,mn=null,t!==null&&(ln[on++]=Fn,ln[on++]=Un,ln[on++]=Br,Fn=t.id,Un=t.overflow,Br=r),r=k1(r,u.children),r.flags|=4096,r)}function h0(t,r,s){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Ma(t.return,r,s)}function $o(t,r,s,u,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=s,h.tailMode=f)}function Tf(t,r,s){var u=r.pendingProps,f=u.revealOrder,h=u.tail;if(Mt(t,r,u.children,s),u=Ye.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h0(t,s,r);else if(t.tag===19)h0(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Fe(Ye,u),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(s=r.child,f=null;s!==null;)t=s.alternate,t!==null&&Bl(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),$o(r,!1,f,s,h);break;case"backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Bl(t)===null){r.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}$o(r,!0,s,null,h);break;case"together":$o(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function pl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Gn(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),Fr|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(X(153));if(r.child!==null){for(t=r.child,s=gr(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=gr(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function B2(t,r,s){switch(r.tag){case 3:Sf(r),Ei();break;case 5:Jc(r);break;case 1:Xt(r.type)&&Rl(r);break;case 4:T1(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;Fe(bl,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Fe(Ye,Ye.current&1),r.flags|=128,null):s&r.child.childLanes?vf(t,r,s):(Fe(Ye,Ye.current&1),t=Gn(t,r,s),t!==null?t.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(u=(s&r.childLanes)!==0,t.flags&128){if(u)return Tf(t,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Fe(Ye,Ye.current),u)break;return null;case 22:case 23:return r.lanes=0,yf(t,r,s)}return Gn(t,r,s)}var Nf,za,_f,Of;Nf=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};za=function(){};_f=function(t,r,s,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,Dr(kn.current);var h=null;switch(s){case"input":f=aa(t,f),u=aa(t,u),h=[];break;case"select":f=Ke({},f,{value:void 0}),u=Ke({},u,{value:void 0}),h=[];break;case"textarea":f=fa(t,f),u=fa(t,u),h=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=_l)}da(s,u);var x;s=null;for(w in f)if(!u.hasOwnProperty(w)&&f.hasOwnProperty(w)&&f[w]!=null)if(w==="style"){var A=f[w];for(x in A)A.hasOwnProperty(x)&&(s||(s={}),s[x]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(os.hasOwnProperty(w)?h||(h=[]):(h=h||[]).push(w,null));for(w in u){var y=u[w];if(A=f!=null?f[w]:void 0,u.hasOwnProperty(w)&&y!==A&&(y!=null||A!=null))if(w==="style")if(A){for(x in A)!A.hasOwnProperty(x)||y&&y.hasOwnProperty(x)||(s||(s={}),s[x]="");for(x in y)y.hasOwnProperty(x)&&A[x]!==y[x]&&(s||(s={}),s[x]=y[x])}else s||(h||(h=[]),h.push(w,s)),s=y;else w==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,A=A?A.__html:void 0,y!=null&&A!==y&&(h=h||[]).push(w,y)):w==="children"?typeof y!="string"&&typeof y!="number"||(h=h||[]).push(w,""+y):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(os.hasOwnProperty(w)?(y!=null&&w==="onScroll"&&ze("scroll",t),h||A===y||(h=[])):(h=h||[]).push(w,y))}s&&(h=h||[]).push("style",s);var w=h;(r.updateQueue=w)&&(r.flags|=4)}};Of=function(t,r,s,u){s!==u&&(r.flags|=4)};function ji(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(r)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=s,r}function L2(t,r,s){var u=r.pendingProps;switch(E1(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return Xt(r.type)&&Ol(),Nt(r),null;case 3:return u=r.stateNode,Ai(),Ve(Gt),Ve(Ot),_1(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(nl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,mn!==null&&(Za(mn),mn=null))),za(t,r),Nt(r),null;case 5:N1(r);var f=Dr(Es.current);if(s=r.type,t!==null&&r.stateNode!=null)_f(t,r,s,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(X(166));return Nt(r),null}if(t=Dr(kn.current),nl(r)){u=r.stateNode,s=r.type;var h=r.memoizedProps;switch(u[Mn]=r,u[ws]=h,t=(r.mode&1)!==0,s){case"dialog":ze("cancel",u),ze("close",u);break;case"iframe":case"object":case"embed":ze("load",u);break;case"video":case"audio":for(f=0;f<qi.length;f++)ze(qi[f],u);break;case"source":ze("error",u);break;case"img":case"image":case"link":ze("error",u),ze("load",u);break;case"details":ze("toggle",u);break;case"input":Au(u,h),ze("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!h.multiple},ze("invalid",u);break;case"textarea":Iu(u,h),ze("invalid",u)}da(s,h),f=null;for(var x in h)if(h.hasOwnProperty(x)){var A=h[x];x==="children"?typeof A=="string"?u.textContent!==A&&(h.suppressHydrationWarning!==!0&&tl(u.textContent,A,t),f=["children",A]):typeof A=="number"&&u.textContent!==""+A&&(h.suppressHydrationWarning!==!0&&tl(u.textContent,A,t),f=["children",""+A]):os.hasOwnProperty(x)&&A!=null&&x==="onScroll"&&ze("scroll",u)}switch(s){case"input":Ys(u),yu(u,h,!0);break;case"textarea":Ys(u),Su(u);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(u.onclick=_l)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{x=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tc(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=x.createElement(s,{is:u.is}):(t=x.createElement(s),s==="select"&&(x=t,u.multiple?x.multiple=!0:u.size&&(x.size=u.size))):t=x.createElementNS(t,s),t[Mn]=r,t[ws]=u,Nf(t,r,!1,!1),r.stateNode=t;e:{switch(x=ga(s,u),s){case"dialog":ze("cancel",t),ze("close",t),f=u;break;case"iframe":case"object":case"embed":ze("load",t),f=u;break;case"video":case"audio":for(f=0;f<qi.length;f++)ze(qi[f],t);f=u;break;case"source":ze("error",t),f=u;break;case"img":case"image":case"link":ze("error",t),ze("load",t),f=u;break;case"details":ze("toggle",t),f=u;break;case"input":Au(t,u),f=aa(t,u),ze("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=Ke({},u,{value:void 0}),ze("invalid",t);break;case"textarea":Iu(t,u),f=fa(t,u),ze("invalid",t);break;default:f=u}da(s,f),A=f;for(h in A)if(A.hasOwnProperty(h)){var y=A[h];h==="style"?ic(t,y):h==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&nc(t,y)):h==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&as(t,y):typeof y=="number"&&as(t,""+y):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(os.hasOwnProperty(h)?y!=null&&h==="onScroll"&&ze("scroll",t):y!=null&&i1(t,h,y,x))}switch(s){case"input":Ys(t),yu(t,u,!1);break;case"textarea":Ys(t),Su(t);break;case"option":u.value!=null&&t.setAttribute("value",""+xr(u.value));break;case"select":t.multiple=!!u.multiple,h=u.value,h!=null?fi(t,!!u.multiple,h,!1):u.defaultValue!=null&&fi(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=_l)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)Of(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(X(166));if(s=Dr(Es.current),Dr(kn.current),nl(r)){if(u=r.stateNode,s=r.memoizedProps,u[Mn]=r,(h=u.nodeValue!==s)&&(t=Qt,t!==null))switch(t.tag){case 3:tl(u.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tl(u.nodeValue,s,(t.mode&1)!==0)}h&&(r.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[Mn]=r,r.stateNode=u}return Nt(r),null;case 13:if(Ve(Ye),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Kt!==null&&r.mode&1&&!(r.flags&128))Xc(),Ei(),r.flags|=98560,h=!1;else if(h=nl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(X(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(X(317));h[Mn]=r}else Ei(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),h=!1}else mn!==null&&(Za(mn),mn=null),h=!0;if(!h)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ye.current&1?ft===0&&(ft=3):z1())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Ai(),za(t,r),t===null&&xs(r.stateNode.containerInfo),Nt(r),null;case 10:return I1(r.type._context),Nt(r),null;case 17:return Xt(r.type)&&Ol(),Nt(r),null;case 19:if(Ve(Ye),h=r.memoizedState,h===null)return Nt(r),null;if(u=(r.flags&128)!==0,x=h.rendering,x===null)if(u)ji(h,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(x=Bl(t),x!==null){for(r.flags|=128,ji(h,!1),u=x.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=s,s=r.child;s!==null;)h=s,t=u,h.flags&=14680066,x=h.alternate,x===null?(h.childLanes=0,h.lanes=t,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=x.childLanes,h.lanes=x.lanes,h.child=x.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=x.memoizedProps,h.memoizedState=x.memoizedState,h.updateQueue=x.updateQueue,h.type=x.type,t=x.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Fe(Ye,Ye.current&1|2),r.child}t=t.sibling}h.tail!==null&&rt()>Ii&&(r.flags|=128,u=!0,ji(h,!1),r.lanes=4194304)}else{if(!u)if(t=Bl(x),t!==null){if(r.flags|=128,u=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),ji(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!Ge)return Nt(r),null}else 2*rt()-h.renderingStartTime>Ii&&s!==1073741824&&(r.flags|=128,u=!0,ji(h,!1),r.lanes=4194304);h.isBackwards?(x.sibling=r.child,r.child=x):(s=h.last,s!==null?s.sibling=x:r.child=x,h.last=x)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=rt(),r.sibling=null,s=Ye.current,Fe(Ye,u?s&1|2:s&1),r):(Nt(r),null);case 22:case 23:return U1(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?Zt&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(X(156,r.tag))}function F2(t,r){switch(E1(r),r.tag){case 1:return Xt(r.type)&&Ol(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ai(),Ve(Gt),Ve(Ot),_1(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return N1(r),null;case 13:if(Ve(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(X(340));Ei()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Ve(Ye),null;case 4:return Ai(),null;case 10:return I1(r.type._context),null;case 22:case 23:return U1(),null;case 24:return null;default:return null}}var sl=!1,_t=!1,U2=typeof WeakSet=="function"?WeakSet:Set,te=null;function ui(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){et(t,r,u)}else s.current=null}function Va(t,r,s){try{s()}catch(u){et(t,r,u)}}var d0=!1;function z2(t,r){if(Sa=vl,t=Mc(),w1(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var x=0,A=-1,y=-1,w=0,T=0,N=t,B=null;t:for(;;){for(var H;N!==s||f!==0&&N.nodeType!==3||(A=x+f),N!==h||u!==0&&N.nodeType!==3||(y=x+u),N.nodeType===3&&(x+=N.nodeValue.length),(H=N.firstChild)!==null;)B=N,N=H;for(;;){if(N===t)break t;if(B===s&&++w===f&&(A=x),B===h&&++T===u&&(y=x),(H=N.nextSibling)!==null)break;N=B,B=N.parentNode}N=H}s=A===-1||y===-1?null:{start:A,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(va={focusedElem:t,selectionRange:s},vl=!1,te=r;te!==null;)if(r=te,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,te=t;else for(;te!==null;){r=te;try{var Z=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var z=Z.memoizedProps,se=Z.memoizedState,D=r.stateNode,v=D.getSnapshotBeforeUpdate(r.elementType===r.type?z:pn(r.type,z),se);D.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(F){et(r,r.return,F)}if(t=r.sibling,t!==null){t.return=r.return,te=t;break}te=r.return}return Z=d0,d0=!1,Z}function is(t,r,s){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var h=f.destroy;f.destroy=void 0,h!==void 0&&Va(r,s,h)}f=f.next}while(f!==u)}}function eo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var u=s.create;s.destroy=u()}s=s.next}while(s!==r)}}function Wa(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function Rf(t){var r=t.alternate;r!==null&&(t.alternate=null,Rf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Mn],delete r[ws],delete r[_a],delete r[y2],delete r[I2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Df(t){return t.tag===5||t.tag===3||t.tag===4}function g0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Df(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ha(t,r,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=_l));else if(u!==4&&(t=t.child,t!==null))for(Ha(t,r,s),t=t.sibling;t!==null;)Ha(t,r,s),t=t.sibling}function Ga(t,r,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ga(t,r,s),t=t.sibling;t!==null;)Ga(t,r,s),t=t.sibling}var At=null,wn=!1;function er(t,r,s){for(s=s.child;s!==null;)Mf(t,r,s),s=s.sibling}function Mf(t,r,s){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(jl,s)}catch{}switch(s.tag){case 5:_t||ui(s,r);case 6:var u=At,f=wn;At=null,er(t,r,s),At=u,wn=f,At!==null&&(wn?(t=At,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):At.removeChild(s.stateNode));break;case 18:At!==null&&(wn?(t=At,s=s.stateNode,t.nodeType===8?jo(t.parentNode,s):t.nodeType===1&&jo(t,s),hs(t)):jo(At,s.stateNode));break;case 4:u=At,f=wn,At=s.stateNode.containerInfo,wn=!0,er(t,r,s),At=u,wn=f;break;case 0:case 11:case 14:case 15:if(!_t&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var h=f,x=h.destroy;h=h.tag,x!==void 0&&(h&2||h&4)&&Va(s,r,x),f=f.next}while(f!==u)}er(t,r,s);break;case 1:if(!_t&&(ui(s,r),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(A){et(s,r,A)}er(t,r,s);break;case 21:er(t,r,s);break;case 22:s.mode&1?(_t=(u=_t)||s.memoizedState!==null,er(t,r,s),_t=u):er(t,r,s);break;default:er(t,r,s)}}function x0(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new U2),r.forEach(function(u){var f=K2.bind(null,t,u);s.has(u)||(s.add(u),u.then(f,f))})}}function xn(t,r){var s=r.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];try{var h=t,x=r,A=x;e:for(;A!==null;){switch(A.tag){case 5:At=A.stateNode,wn=!1;break e;case 3:At=A.stateNode.containerInfo,wn=!0;break e;case 4:At=A.stateNode.containerInfo,wn=!0;break e}A=A.return}if(At===null)throw Error(X(160));Mf(h,x,f),At=null,wn=!1;var y=f.alternate;y!==null&&(y.return=null),f.return=null}catch(w){et(f,r,w)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)bf(r,t),r=r.sibling}function bf(t,r){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),Rn(t),u&4){try{is(3,t,t.return),eo(3,t)}catch(z){et(t,t.return,z)}try{is(5,t,t.return)}catch(z){et(t,t.return,z)}}break;case 1:xn(r,t),Rn(t),u&512&&s!==null&&ui(s,s.return);break;case 5:if(xn(r,t),Rn(t),u&512&&s!==null&&ui(s,s.return),t.flags&32){var f=t.stateNode;try{as(f,"")}catch(z){et(t,t.return,z)}}if(u&4&&(f=t.stateNode,f!=null)){var h=t.memoizedProps,x=s!==null?s.memoizedProps:h,A=t.type,y=t.updateQueue;if(t.updateQueue=null,y!==null)try{A==="input"&&h.type==="radio"&&h.name!=null&&$0(f,h),ga(A,x);var w=ga(A,h);for(x=0;x<y.length;x+=2){var T=y[x],N=y[x+1];T==="style"?ic(f,N):T==="dangerouslySetInnerHTML"?nc(f,N):T==="children"?as(f,N):i1(f,T,N,w)}switch(A){case"input":ua(f,h);break;case"textarea":ec(f,h);break;case"select":var B=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!h.multiple;var H=h.value;H!=null?fi(f,!!h.multiple,H,!1):B!==!!h.multiple&&(h.defaultValue!=null?fi(f,!!h.multiple,h.defaultValue,!0):fi(f,!!h.multiple,h.multiple?[]:"",!1))}f[ws]=h}catch(z){et(t,t.return,z)}}break;case 6:if(xn(r,t),Rn(t),u&4){if(t.stateNode===null)throw Error(X(162));f=t.stateNode,h=t.memoizedProps;try{f.nodeValue=h}catch(z){et(t,t.return,z)}}break;case 3:if(xn(r,t),Rn(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{hs(r.containerInfo)}catch(z){et(t,t.return,z)}break;case 4:xn(r,t),Rn(t);break;case 13:xn(r,t),Rn(t),f=t.child,f.flags&8192&&(h=f.memoizedState!==null,f.stateNode.isHidden=h,!h||f.alternate!==null&&f.alternate.memoizedState!==null||(L1=rt())),u&4&&x0(t);break;case 22:if(T=s!==null&&s.memoizedState!==null,t.mode&1?(_t=(w=_t)||T,xn(r,t),_t=w):xn(r,t),Rn(t),u&8192){if(w=t.memoizedState!==null,(t.stateNode.isHidden=w)&&!T&&t.mode&1)for(te=t,T=t.child;T!==null;){for(N=te=T;te!==null;){switch(B=te,H=B.child,B.tag){case 0:case 11:case 14:case 15:is(4,B,B.return);break;case 1:ui(B,B.return);var Z=B.stateNode;if(typeof Z.componentWillUnmount=="function"){u=B,s=B.return;try{r=u,Z.props=r.memoizedProps,Z.state=r.memoizedState,Z.componentWillUnmount()}catch(z){et(u,s,z)}}break;case 5:ui(B,B.return);break;case 22:if(B.memoizedState!==null){w0(N);continue}}H!==null?(H.return=B,te=H):w0(N)}T=T.sibling}e:for(T=null,N=t;;){if(N.tag===5){if(T===null){T=N;try{f=N.stateNode,w?(h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(A=N.stateNode,y=N.memoizedProps.style,x=y!=null&&y.hasOwnProperty("display")?y.display:null,A.style.display=rc("display",x))}catch(z){et(t,t.return,z)}}}else if(N.tag===6){if(T===null)try{N.stateNode.nodeValue=w?"":N.memoizedProps}catch(z){et(t,t.return,z)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===t)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===t)break e;for(;N.sibling===null;){if(N.return===null||N.return===t)break e;T===N&&(T=null),N=N.return}T===N&&(T=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:xn(r,t),Rn(t),u&4&&x0(t);break;case 21:break;default:xn(r,t),Rn(t)}}function Rn(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(Df(s)){var u=s;break e}s=s.return}throw Error(X(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(as(f,""),u.flags&=-33);var h=g0(t);Ga(t,h,f);break;case 3:case 4:var x=u.stateNode.containerInfo,A=g0(t);Ha(t,A,x);break;default:throw Error(X(161))}}catch(y){et(t,t.return,y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function V2(t,r,s){te=t,kf(t)}function kf(t,r,s){for(var u=(t.mode&1)!==0;te!==null;){var f=te,h=f.child;if(f.tag===22&&u){var x=f.memoizedState!==null||sl;if(!x){var A=f.alternate,y=A!==null&&A.memoizedState!==null||_t;A=sl;var w=_t;if(sl=x,(_t=y)&&!w)for(te=f;te!==null;)x=te,y=x.child,x.tag===22&&x.memoizedState!==null?m0(f):y!==null?(y.return=x,te=y):m0(f);for(;h!==null;)te=h,kf(h),h=h.sibling;te=f,sl=A,_t=w}p0(t)}else f.subtreeFlags&8772&&h!==null?(h.return=f,te=h):p0(t)}}function p0(t){for(;te!==null;){var r=te;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:_t||eo(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!_t)if(s===null)u.componentDidMount();else{var f=r.elementType===r.type?s.memoizedProps:pn(r.type,s.memoizedProps);u.componentDidUpdate(f,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var h=r.updateQueue;h!==null&&$u(r,h,u);break;case 3:var x=r.updateQueue;if(x!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}$u(r,x,s)}break;case 5:var A=r.stateNode;if(s===null&&r.flags&4){s=A;var y=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var w=r.alternate;if(w!==null){var T=w.memoizedState;if(T!==null){var N=T.dehydrated;N!==null&&hs(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}_t||r.flags&512&&Wa(r)}catch(B){et(r,r.return,B)}}if(r===t){te=null;break}if(s=r.sibling,s!==null){s.return=r.return,te=s;break}te=r.return}}function w0(t){for(;te!==null;){var r=te;if(r===t){te=null;break}var s=r.sibling;if(s!==null){s.return=r.return,te=s;break}te=r.return}}function m0(t){for(;te!==null;){var r=te;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{eo(4,r)}catch(y){et(r,s,y)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(y){et(r,f,y)}}var h=r.return;try{Wa(r)}catch(y){et(r,h,y)}break;case 5:var x=r.return;try{Wa(r)}catch(y){et(r,x,y)}}}catch(y){et(r,r.return,y)}if(r===t){te=null;break}var A=r.sibling;if(A!==null){A.return=r.return,te=A;break}te=r.return}}var W2=Math.ceil,Ul=Xn.ReactCurrentDispatcher,P1=Xn.ReactCurrentOwner,un=Xn.ReactCurrentBatchConfig,ve=0,pt=null,st=null,yt=0,Zt=0,ci=mr(0),ft=0,Is=null,Fr=0,to=0,B1=0,ss=null,Wt=null,L1=0,Ii=1/0,Bn=null,zl=!1,Xa=null,hr=null,ll=!1,lr=null,Vl=0,ls=0,ja=null,wl=-1,ml=0;function bt(){return ve&6?rt():wl!==-1?wl:wl=rt()}function dr(t){return t.mode&1?ve&2&&yt!==0?yt&-yt:v2.transition!==null?(ml===0&&(ml=pc()),ml):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Ic(t.type)),t):1}function Cn(t,r,s,u){if(50<ls)throw ls=0,ja=null,Error(X(185));Ts(t,s,u),(!(ve&2)||t!==pt)&&(t===pt&&(!(ve&2)&&(to|=s),ft===4&&ir(t,yt)),jt(t,u),s===1&&ve===0&&!(r.mode&1)&&(Ii=rt()+500,ql&&Er()))}function jt(t,r){var s=t.callbackNode;vd(t,r);var u=Sl(t,t===pt?yt:0);if(u===0)s!==null&&Nu(s),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(s!=null&&Nu(s),r===1)t.tag===0?S2(E0.bind(null,t)):Wc(E0.bind(null,t)),C2(function(){!(ve&6)&&Er()}),s=null;else{switch(wc(u)){case 1:s=u1;break;case 4:s=gc;break;case 16:s=Il;break;case 536870912:s=xc;break;default:s=Il}s=Wf(s,Pf.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function Pf(t,r){if(wl=-1,ml=0,ve&6)throw Error(X(327));var s=t.callbackNode;if(pi()&&t.callbackNode!==s)return null;var u=Sl(t,t===pt?yt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Wl(t,u);else{r=u;var f=ve;ve|=2;var h=Lf();(pt!==t||yt!==r)&&(Bn=null,Ii=rt()+500,br(t,r));do try{X2();break}catch(A){Bf(t,A)}while(1);y1(),Ul.current=h,ve=f,st!==null?r=0:(pt=null,yt=0,r=ft)}if(r!==0){if(r===2&&(f=Ea(t),f!==0&&(u=f,r=Ya(t,f))),r===1)throw s=Is,br(t,0),ir(t,u),jt(t,rt()),s;if(r===6)ir(t,u);else{if(f=t.current.alternate,!(u&30)&&!H2(f)&&(r=Wl(t,u),r===2&&(h=Ea(t),h!==0&&(u=h,r=Ya(t,h))),r===1))throw s=Is,br(t,0),ir(t,u),jt(t,rt()),s;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(X(345));case 2:_r(t,Wt,Bn);break;case 3:if(ir(t,u),(u&130023424)===u&&(r=L1+500-rt(),10<r)){if(Sl(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){bt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Na(_r.bind(null,t,Wt,Bn),r);break}_r(t,Wt,Bn);break;case 4:if(ir(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var x=31-En(u);h=1<<x,x=r[x],x>f&&(f=x),u&=~h}if(u=f,u=rt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*W2(u/1960))-u,10<u){t.timeoutHandle=Na(_r.bind(null,t,Wt,Bn),u);break}_r(t,Wt,Bn);break;case 5:_r(t,Wt,Bn);break;default:throw Error(X(329))}}}return jt(t,rt()),t.callbackNode===s?Pf.bind(null,t):null}function Ya(t,r){var s=ss;return t.current.memoizedState.isDehydrated&&(br(t,r).flags|=256),t=Wl(t,r),t!==2&&(r=Wt,Wt=s,r!==null&&Za(r)),t}function Za(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function H2(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var f=s[u],h=f.getSnapshot;f=f.value;try{if(!yn(h(),f))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ir(t,r){for(r&=~B1,r&=~to,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-En(r),u=1<<s;t[s]=-1,r&=~u}}function E0(t){if(ve&6)throw Error(X(327));pi();var r=Sl(t,0);if(!(r&1))return jt(t,rt()),null;var s=Wl(t,r);if(t.tag!==0&&s===2){var u=Ea(t);u!==0&&(r=u,s=Ya(t,u))}if(s===1)throw s=Is,br(t,0),ir(t,r),jt(t,rt()),s;if(s===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,_r(t,Wt,Bn),jt(t,rt()),null}function F1(t,r){var s=ve;ve|=1;try{return t(r)}finally{ve=s,ve===0&&(Ii=rt()+500,ql&&Er())}}function Ur(t){lr!==null&&lr.tag===0&&!(ve&6)&&pi();var r=ve;ve|=1;var s=un.transition,u=Re;try{if(un.transition=null,Re=1,t)return t()}finally{Re=u,un.transition=s,ve=r,!(ve&6)&&Er()}}function U1(){Zt=ci.current,Ve(ci)}function br(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,E2(s)),st!==null)for(s=st.return;s!==null;){var u=s;switch(E1(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ol();break;case 3:Ai(),Ve(Gt),Ve(Ot),_1();break;case 5:N1(u);break;case 4:Ai();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:I1(u.type._context);break;case 22:case 23:U1()}s=s.return}if(pt=t,st=t=gr(t.current,null),yt=Zt=r,ft=0,Is=null,B1=to=Fr=0,Wt=ss=null,Rr!==null){for(r=0;r<Rr.length;r++)if(s=Rr[r],u=s.interleaved,u!==null){s.interleaved=null;var f=u.next,h=s.pending;if(h!==null){var x=h.next;h.next=f,u.next=x}s.pending=u}Rr=null}return t}function Bf(t,r){do{var s=st;try{if(y1(),gl.current=Fl,Ll){for(var u=Ze.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Ll=!1}if(Lr=0,xt=ct=Ze=null,rs=!1,Cs=0,P1.current=null,s===null||s.return===null){ft=1,Is=r,st=null;break}e:{var h=t,x=s.return,A=s,y=r;if(r=yt,A.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var w=y,T=A,N=T.tag;if(!(T.mode&1)&&(N===0||N===11||N===15)){var B=T.alternate;B?(T.updateQueue=B.updateQueue,T.memoizedState=B.memoizedState,T.lanes=B.lanes):(T.updateQueue=null,T.memoizedState=null)}var H=l0(x);if(H!==null){H.flags&=-257,o0(H,x,A,h,r),H.mode&1&&s0(h,w,r),r=H,y=w;var Z=r.updateQueue;if(Z===null){var z=new Set;z.add(y),r.updateQueue=z}else Z.add(y);break e}else{if(!(r&1)){s0(h,w,r),z1();break e}y=Error(X(426))}}else if(Ge&&A.mode&1){var se=l0(x);if(se!==null){!(se.flags&65536)&&(se.flags|=256),o0(se,x,A,h,r),C1(yi(y,A));break e}}h=y=yi(y,A),ft!==4&&(ft=2),ss===null?ss=[h]:ss.push(h),h=x;do{switch(h.tag){case 3:h.flags|=65536,r&=-r,h.lanes|=r;var D=Ef(h,y,r);Ju(h,D);break e;case 1:A=y;var v=h.type,O=h.stateNode;if(!(h.flags&128)&&(typeof v.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(hr===null||!hr.has(O)))){h.flags|=65536,r&=-r,h.lanes|=r;var F=Cf(h,A,r);Ju(h,F);break e}}h=h.return}while(h!==null)}Uf(s)}catch(J){r=J,st===s&&s!==null&&(st=s=s.return);continue}break}while(1)}function Lf(){var t=Ul.current;return Ul.current=Fl,t===null?Fl:t}function z1(){(ft===0||ft===3||ft===2)&&(ft=4),pt===null||!(Fr&268435455)&&!(to&268435455)||ir(pt,yt)}function Wl(t,r){var s=ve;ve|=2;var u=Lf();(pt!==t||yt!==r)&&(Bn=null,br(t,r));do try{G2();break}catch(f){Bf(t,f)}while(1);if(y1(),ve=s,Ul.current=u,st!==null)throw Error(X(261));return pt=null,yt=0,ft}function G2(){for(;st!==null;)Ff(st)}function X2(){for(;st!==null&&!pd();)Ff(st)}function Ff(t){var r=Vf(t.alternate,t,Zt);t.memoizedProps=t.pendingProps,r===null?Uf(t):st=r,P1.current=null}function Uf(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=F2(s,r),s!==null){s.flags&=32767,st=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,st=null;return}}else if(s=L2(s,r,Zt),s!==null){st=s;return}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);ft===0&&(ft=5)}function _r(t,r,s){var u=Re,f=un.transition;try{un.transition=null,Re=1,j2(t,r,s,u)}finally{un.transition=f,Re=u}return null}function j2(t,r,s,u){do pi();while(lr!==null);if(ve&6)throw Error(X(327));s=t.finishedWork;var f=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var h=s.lanes|s.childLanes;if(Td(t,h),t===pt&&(st=pt=null,yt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||ll||(ll=!0,Wf(Il,function(){return pi(),null})),h=(s.flags&15990)!==0,s.subtreeFlags&15990||h){h=un.transition,un.transition=null;var x=Re;Re=1;var A=ve;ve|=4,P1.current=null,z2(t,s),bf(s,t),h2(va),vl=!!Sa,va=Sa=null,t.current=s,V2(s),wd(),ve=A,Re=x,un.transition=h}else t.current=s;if(ll&&(ll=!1,lr=t,Vl=f),h=t.pendingLanes,h===0&&(hr=null),Cd(s.stateNode),jt(t,rt()),r!==null)for(u=t.onRecoverableError,s=0;s<r.length;s++)f=r[s],u(f.value,{componentStack:f.stack,digest:f.digest});if(zl)throw zl=!1,t=Xa,Xa=null,t;return Vl&1&&t.tag!==0&&pi(),h=t.pendingLanes,h&1?t===ja?ls++:(ls=0,ja=t):ls=0,Er(),null}function pi(){if(lr!==null){var t=wc(Vl),r=un.transition,s=Re;try{if(un.transition=null,Re=16>t?16:t,lr===null)var u=!1;else{if(t=lr,lr=null,Vl=0,ve&6)throw Error(X(331));var f=ve;for(ve|=4,te=t.current;te!==null;){var h=te,x=h.child;if(te.flags&16){var A=h.deletions;if(A!==null){for(var y=0;y<A.length;y++){var w=A[y];for(te=w;te!==null;){var T=te;switch(T.tag){case 0:case 11:case 15:is(8,T,h)}var N=T.child;if(N!==null)N.return=T,te=N;else for(;te!==null;){T=te;var B=T.sibling,H=T.return;if(Rf(T),T===w){te=null;break}if(B!==null){B.return=H,te=B;break}te=H}}}var Z=h.alternate;if(Z!==null){var z=Z.child;if(z!==null){Z.child=null;do{var se=z.sibling;z.sibling=null,z=se}while(z!==null)}}te=h}}if(h.subtreeFlags&2064&&x!==null)x.return=h,te=x;else e:for(;te!==null;){if(h=te,h.flags&2048)switch(h.tag){case 0:case 11:case 15:is(9,h,h.return)}var D=h.sibling;if(D!==null){D.return=h.return,te=D;break e}te=h.return}}var v=t.current;for(te=v;te!==null;){x=te;var O=x.child;if(x.subtreeFlags&2064&&O!==null)O.return=x,te=O;else e:for(x=v;te!==null;){if(A=te,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:eo(9,A)}}catch(J){et(A,A.return,J)}if(A===x){te=null;break e}var F=A.sibling;if(F!==null){F.return=A.return,te=F;break e}te=A.return}}if(ve=f,Er(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(jl,t)}catch{}u=!0}return u}finally{Re=s,un.transition=r}}return!1}function C0(t,r,s){r=yi(s,r),r=Ef(t,r,1),t=fr(t,r,1),r=bt(),t!==null&&(Ts(t,1,r),jt(t,r))}function et(t,r,s){if(t.tag===3)C0(t,t,s);else for(;r!==null;){if(r.tag===3){C0(r,t,s);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hr===null||!hr.has(u))){t=yi(s,t),t=Cf(r,t,1),r=fr(r,t,1),t=bt(),r!==null&&(Ts(r,1,t),jt(r,t));break}}r=r.return}}function Y2(t,r,s){var u=t.pingCache;u!==null&&u.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&s,pt===t&&(yt&s)===s&&(ft===4||ft===3&&(yt&130023424)===yt&&500>rt()-L1?br(t,0):B1|=s),jt(t,r)}function zf(t,r){r===0&&(t.mode&1?(r=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):r=1);var s=bt();t=Hn(t,r),t!==null&&(Ts(t,r,s),jt(t,s))}function Z2(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),zf(t,s)}function K2(t,r){var s=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(X(314))}u!==null&&u.delete(r),zf(t,s)}var Vf;Vf=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||Gt.current)Ht=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return Ht=!1,B2(t,r,s);Ht=!!(t.flags&131072)}else Ht=!1,Ge&&r.flags&1048576&&Hc(r,Ml,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;pl(t,r),t=r.pendingProps;var f=mi(r,Ot.current);xi(r,s),f=R1(null,r,u,t,f,s);var h=D1();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Xt(u)?(h=!0,Rl(r)):h=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,v1(r),f.updater=Jl,r.stateNode=f,f._reactInternals=r,ka(r,u,t,s),r=La(null,r,u,!0,h,s)):(r.tag=0,Ge&&h&&m1(r),Mt(null,r,f,s),r=r.child),r;case 16:u=r.elementType;e:{switch(pl(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=q2(u),t=pn(u,t),f){case 0:r=Ba(null,r,u,t,s);break e;case 1:r=c0(null,r,u,t,s);break e;case 11:r=a0(null,r,u,t,s);break e;case 14:r=u0(null,r,u,pn(u.type,t),s);break e}throw Error(X(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:pn(u,f),Ba(t,r,u,f,s);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:pn(u,f),c0(t,r,u,f,s);case 3:e:{if(Sf(r),t===null)throw Error(X(387));u=r.pendingProps,h=r.memoizedState,f=h.element,Yc(t,r),Pl(r,u,null,s);var x=r.memoizedState;if(u=x.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){f=yi(Error(X(423)),r),r=f0(t,r,u,s,f);break e}else if(u!==f){f=yi(Error(X(424)),r),r=f0(t,r,u,s,f);break e}else for(Kt=cr(r.stateNode.containerInfo.firstChild),Qt=r,Ge=!0,mn=null,s=qc(r,null,u,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ei(),u===f){r=Gn(t,r,s);break e}Mt(t,r,u,s)}r=r.child}return r;case 5:return Jc(r),t===null&&Da(r),u=r.type,f=r.pendingProps,h=t!==null?t.memoizedProps:null,x=f.children,Ta(u,f)?x=null:h!==null&&Ta(u,h)&&(r.flags|=32),If(t,r),Mt(t,r,x,s),r.child;case 6:return t===null&&Da(r),null;case 13:return vf(t,r,s);case 4:return T1(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ci(r,null,u,s):Mt(t,r,u,s),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:pn(u,f),a0(t,r,u,f,s);case 7:return Mt(t,r,r.pendingProps,s),r.child;case 8:return Mt(t,r,r.pendingProps.children,s),r.child;case 12:return Mt(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,h=r.memoizedProps,x=f.value,Fe(bl,u._currentValue),u._currentValue=x,h!==null)if(yn(h.value,x)){if(h.children===f.children&&!Gt.current){r=Gn(t,r,s);break e}}else for(h=r.child,h!==null&&(h.return=r);h!==null;){var A=h.dependencies;if(A!==null){x=h.child;for(var y=A.firstContext;y!==null;){if(y.context===u){if(h.tag===1){y=zn(-1,s&-s),y.tag=2;var w=h.updateQueue;if(w!==null){w=w.shared;var T=w.pending;T===null?y.next=y:(y.next=T.next,T.next=y),w.pending=y}}h.lanes|=s,y=h.alternate,y!==null&&(y.lanes|=s),Ma(h.return,s,r),A.lanes|=s;break}y=y.next}}else if(h.tag===10)x=h.type===r.type?null:h.child;else if(h.tag===18){if(x=h.return,x===null)throw Error(X(341));x.lanes|=s,A=x.alternate,A!==null&&(A.lanes|=s),Ma(x,s,r),x=h.sibling}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===r){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}Mt(t,r,f.children,s),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,xi(r,s),f=cn(f),u=u(f),r.flags|=1,Mt(t,r,u,s),r.child;case 14:return u=r.type,f=pn(u,r.pendingProps),f=pn(u.type,f),u0(t,r,u,f,s);case 15:return Af(t,r,r.type,r.pendingProps,s);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:pn(u,f),pl(t,r),r.tag=1,Xt(u)?(t=!0,Rl(r)):t=!1,xi(r,s),Kc(r,u,f),ka(r,u,f,s),La(null,r,u,!0,t,s);case 19:return Tf(t,r,s);case 22:return yf(t,r,s)}throw Error(X(156,r.tag))};function Wf(t,r){return dc(t,r)}function Q2(t,r,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,r,s,u){return new Q2(t,r,s,u)}function V1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q2(t){if(typeof t=="function")return V1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l1)return 11;if(t===o1)return 14}return 2}function gr(t,r){var s=t.alternate;return s===null?(s=an(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function El(t,r,s,u,f,h){var x=2;if(u=t,typeof t=="function")V1(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case ei:return kr(s.children,f,h,r);case s1:x=8,f|=8;break;case ia:return t=an(12,s,r,f|2),t.elementType=ia,t.lanes=h,t;case sa:return t=an(13,s,r,f),t.elementType=sa,t.lanes=h,t;case la:return t=an(19,s,r,f),t.elementType=la,t.lanes=h,t;case Q0:return no(s,f,h,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z0:x=10;break e;case K0:x=9;break e;case l1:x=11;break e;case o1:x=14;break e;case tr:x=16,u=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return r=an(x,s,r,f),r.elementType=t,r.type=u,r.lanes=h,r}function kr(t,r,s,u){return t=an(7,t,u,r),t.lanes=s,t}function no(t,r,s,u){return t=an(22,t,u,r),t.elementType=Q0,t.lanes=s,t.stateNode={isHidden:!1},t}function ea(t,r,s){return t=an(6,t,null,r),t.lanes=s,t}function ta(t,r,s){return r=an(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function J2(t,r,s,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Po(0),this.expirationTimes=Po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Po(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function W1(t,r,s,u,f,h,x,A,y){return t=new J2(t,r,s,A,y),r===1?(r=1,h===!0&&(r|=8)):r=0,h=an(3,null,null,r),t.current=h,h.stateNode=t,h.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},v1(h),t}function $2(t,r,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:u==null?null:""+u,children:t,containerInfo:r,implementation:s}}function Hf(t){if(!t)return pr;t=t._reactInternals;e:{if(Vr(t)!==t||t.tag!==1)throw Error(X(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Xt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(X(171))}if(t.tag===1){var s=t.type;if(Xt(s))return Vc(t,s,r)}return r}function Gf(t,r,s,u,f,h,x,A,y){return t=W1(s,u,!0,t,f,h,x,A,y),t.context=Hf(null),s=t.current,u=bt(),f=dr(s),h=zn(u,f),h.callback=r??null,fr(s,h,f),t.current.lanes=f,Ts(t,f,u),jt(t,u),t}function ro(t,r,s,u){var f=r.current,h=bt(),x=dr(f);return s=Hf(s),r.context===null?r.context=s:r.pendingContext=s,r=zn(h,x),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=fr(f,r,x),t!==null&&(Cn(t,f,x,h),dl(t,f,x)),x}function Hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function A0(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function H1(t,r){A0(t,r),(t=t.alternate)&&A0(t,r)}function eg(){return null}var Xf=typeof reportError=="function"?reportError:function(t){console.error(t)};function G1(t){this._internalRoot=t}io.prototype.render=G1.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(X(409));ro(t,r,null,null)};io.prototype.unmount=G1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ur(function(){ro(null,t,null,null)}),r[Wn]=null}};function io(t){this._internalRoot=t}io.prototype.unstable_scheduleHydration=function(t){if(t){var r=Cc();t={blockedOn:null,target:t,priority:r};for(var s=0;s<rr.length&&r!==0&&r<rr[s].priority;s++);rr.splice(s,0,t),s===0&&yc(t)}};function X1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function so(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y0(){}function tg(t,r,s,u,f){if(f){if(typeof u=="function"){var h=u;u=function(){var w=Hl(x);h.call(w)}}var x=Gf(r,u,t,0,null,!1,!1,"",y0);return t._reactRootContainer=x,t[Wn]=x.current,xs(t.nodeType===8?t.parentNode:t),Ur(),x}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var A=u;u=function(){var w=Hl(y);A.call(w)}}var y=W1(t,0,!1,null,null,!1,!1,"",y0);return t._reactRootContainer=y,t[Wn]=y.current,xs(t.nodeType===8?t.parentNode:t),Ur(function(){ro(r,y,s,u)}),y}function lo(t,r,s,u,f){var h=s._reactRootContainer;if(h){var x=h;if(typeof f=="function"){var A=f;f=function(){var y=Hl(x);A.call(y)}}ro(r,x,t,f)}else x=tg(s,r,t,f,u);return Hl(x)}mc=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=Qi(r.pendingLanes);s!==0&&(c1(r,s|1),jt(r,rt()),!(ve&6)&&(Ii=rt()+500,Er()))}break;case 13:Ur(function(){var u=Hn(t,1);if(u!==null){var f=bt();Cn(u,t,1,f)}}),H1(t,1)}};f1=function(t){if(t.tag===13){var r=Hn(t,134217728);if(r!==null){var s=bt();Cn(r,t,134217728,s)}H1(t,134217728)}};Ec=function(t){if(t.tag===13){var r=dr(t),s=Hn(t,r);if(s!==null){var u=bt();Cn(s,t,r,u)}H1(t,r)}};Cc=function(){return Re};Ac=function(t,r){var s=Re;try{return Re=t,r()}finally{Re=s}};pa=function(t,r,s){switch(r){case"input":if(ua(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var u=s[r];if(u!==t&&u.form===t.form){var f=Ql(u);if(!f)throw Error(X(90));J0(u),ua(u,f)}}}break;case"textarea":ec(t,s);break;case"select":r=s.value,r!=null&&fi(t,!!s.multiple,r,!1)}};oc=F1;ac=Ur;var ng={usingClientEntryPoint:!1,Events:[_s,ii,Ql,sc,lc,F1]},Yi={findFiberByHostInstance:Or,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rg={bundleType:Yi.bundleType,version:Yi.version,rendererPackageName:Yi.rendererPackageName,rendererConfig:Yi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fc(t),t===null?null:t.stateNode},findFiberByHostInstance:Yi.findFiberByHostInstance||eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{jl=ol.inject(rg),bn=ol}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ng;Jt.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X1(r))throw Error(X(200));return $2(t,r,null,s)};Jt.createRoot=function(t,r){if(!X1(t))throw Error(X(299));var s=!1,u="",f=Xf;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=W1(t,1,!1,null,null,s,!1,u,f),t[Wn]=r.current,xs(t.nodeType===8?t.parentNode:t),new G1(r)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=fc(r),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Ur(t)};Jt.hydrate=function(t,r,s){if(!so(r))throw Error(X(200));return lo(null,t,r,!0,s)};Jt.hydrateRoot=function(t,r,s){if(!X1(t))throw Error(X(405));var u=s!=null&&s.hydratedSources||null,f=!1,h="",x=Xf;if(s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),r=Gf(r,null,t,1,s??null,f,!1,h,x),t[Wn]=r.current,xs(t),u)for(t=0;t<u.length;t++)s=u[t],f=s._getVersion,f=f(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,f]:r.mutableSourceEagerHydrationData.push(s,f);return new io(r)};Jt.render=function(t,r,s){if(!so(r))throw Error(X(200));return lo(null,t,r,!1,s)};Jt.unmountComponentAtNode=function(t){if(!so(t))throw Error(X(40));return t._reactRootContainer?(Ur(function(){lo(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0):!1};Jt.unstable_batchedUpdates=F1;Jt.unstable_renderSubtreeIntoContainer=function(t,r,s,u){if(!so(s))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return lo(t,r,s,!1,u)};Jt.version="18.2.0-next-9e3b772b8-20220608";function jf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jf)}catch(t){console.error(t)}}jf(),H0.exports=Jt;var ig=H0.exports,Yf,I0=ig;Yf=I0.createRoot,I0.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])}return t},Ss.apply(this,arguments)}var Mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mr||(Mr={}));const S0="popstate";function sg(t){t===void 0&&(t={});function r(f,h){let{pathname:x="/",search:A="",hash:y=""}=Rs(f.location.hash.substr(1));return!x.startsWith("/")&&!x.startsWith(".")&&(x="/"+x),Ka("",{pathname:x,search:A,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(f,h){let x=f.document.querySelector("base"),A="";if(x&&x.getAttribute("href")){let y=f.location.href,w=y.indexOf("#");A=w===-1?y:y.slice(0,w)}return A+"#"+(typeof h=="string"?h:Gl(h))}function u(f,h){lg(f.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(h)+")")}return ag(r,s,u,t)}function An(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function lg(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function og(){return Math.random().toString(36).substr(2,8)}function v0(t,r){return{usr:t.state,key:t.key,idx:r}}function Ka(t,r,s,u){return s===void 0&&(s=null),Ss({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Rs(r):r,{state:s,key:r&&r.key||u||og()})}function Gl(t){let{pathname:r="/",search:s="",hash:u=""}=t;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),u&&u!=="#"&&(r+=u.charAt(0)==="#"?u:"#"+u),r}function Rs(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substr(s),t=t.substr(0,s));let u=t.indexOf("?");u>=0&&(r.search=t.substr(u),t=t.substr(0,u)),t&&(r.pathname=t)}return r}function ag(t,r,s,u){u===void 0&&(u={});let{window:f=document.defaultView,v5Compat:h=!1}=u,x=f.history,A=Mr.Pop,y=null,w=T();w==null&&(w=0,x.replaceState(Ss({},x.state,{idx:w}),""));function T(){return(x.state||{idx:null}).idx}function N(){A=Mr.Pop;let se=T(),D=se==null?null:se-w;w=se,y&&y({action:A,location:z.location,delta:D})}function B(se,D){A=Mr.Push;let v=Ka(z.location,se,D);s&&s(v,se),w=T()+1;let O=v0(v,w),F=z.createHref(v);try{x.pushState(O,"",F)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;f.location.assign(F)}h&&y&&y({action:A,location:z.location,delta:1})}function H(se,D){A=Mr.Replace;let v=Ka(z.location,se,D);s&&s(v,se),w=T();let O=v0(v,w),F=z.createHref(v);x.replaceState(O,"",F),h&&y&&y({action:A,location:z.location,delta:0})}function Z(se){let D=f.location.origin!=="null"?f.location.origin:f.location.href,v=typeof se=="string"?se:Gl(se);return An(D,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,D)}let z={get action(){return A},get location(){return t(f,x)},listen(se){if(y)throw new Error("A history only accepts one active listener");return f.addEventListener(S0,N),y=se,()=>{f.removeEventListener(S0,N),y=null}},createHref(se){return r(f,se)},createURL:Z,encodeLocation(se){let D=Z(se);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:B,replace:H,go(se){return x.go(se)}};return z}var T0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T0||(T0={}));function Zf(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,u=t.charAt(s);return u&&u!=="/"?null:t.slice(s)||"/"}function ug(t,r){r===void 0&&(r="/");let{pathname:s,search:u="",hash:f=""}=typeof t=="string"?Rs(t):t;return{pathname:s?s.startsWith("/")?s:cg(s,r):r,search:fg(u),hash:hg(f)}}function cg(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(f=>{f===".."?s.length>1&&s.pop():f!=="."&&s.push(f)}),s.length>1?s.join("/"):"/"}function na(t,r,s,u){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(u)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kf(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Qf(t,r,s,u){u===void 0&&(u=!1);let f;typeof t=="string"?f=Rs(t):(f=Ss({},t),An(!f.pathname||!f.pathname.includes("?"),na("?","pathname","search",f)),An(!f.pathname||!f.pathname.includes("#"),na("#","pathname","hash",f)),An(!f.search||!f.search.includes("#"),na("#","search","hash",f)));let h=t===""||f.pathname==="",x=h?"/":f.pathname,A;if(u||x==null)A=s;else{let N=r.length-1;if(x.startsWith("..")){let B=x.split("/");for(;B[0]==="..";)B.shift(),N-=1;f.pathname=B.join("/")}A=N>=0?r[N]:"/"}let y=ug(f,A),w=x&&x!=="/"&&x.endsWith("/"),T=(h||x===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(w||T)&&(y.pathname+="/"),y}const qf=t=>t.join("/").replace(/\/\/+/g,"/"),fg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hg=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Jf=["post","put","patch","delete"];new Set(Jf);const dg=["get",...Jf];new Set(dg);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])}return t},Qa.apply(this,arguments)}const $f=oe.createContext(null),Ds=oe.createContext(null),j1=oe.createContext(null),oo=oe.createContext({outlet:null,matches:[],isDataRoute:!1});function gg(t,r){let{relative:s}=r===void 0?{}:r;ao()||An(!1);let{basename:u,navigator:f}=oe.useContext(Ds),{hash:h,pathname:x,search:A}=th(t,{relative:s}),y=x;return u!=="/"&&(y=x==="/"?u:qf([u,x])),f.createHref({pathname:y,search:A,hash:h})}function ao(){return oe.useContext(j1)!=null}function Y1(){return ao()||An(!1),oe.useContext(j1).location}function eh(t){oe.useContext(Ds).static||oe.useLayoutEffect(t)}function xg(){let{isDataRoute:t}=oe.useContext(oo);return t?Cg():pg()}function pg(){ao()||An(!1);let t=oe.useContext($f),{basename:r,navigator:s}=oe.useContext(Ds),{matches:u}=oe.useContext(oo),{pathname:f}=Y1(),h=JSON.stringify(Kf(u).map(y=>y.pathnameBase)),x=oe.useRef(!1);return eh(()=>{x.current=!0}),oe.useCallback(function(y,w){if(w===void 0&&(w={}),!x.current)return;if(typeof y=="number"){s.go(y);return}let T=Qf(y,JSON.parse(h),f,w.relative==="path");t==null&&r!=="/"&&(T.pathname=T.pathname==="/"?r:qf([r,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[r,s,h,f,t])}function th(t,r){let{relative:s}=r===void 0?{}:r,{matches:u}=oe.useContext(oo),{pathname:f}=Y1(),h=JSON.stringify(Kf(u).map(x=>x.pathnameBase));return oe.useMemo(()=>Qf(t,JSON.parse(h),f,s==="path"),[t,h,f,s])}var nh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nh||{}),rh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rh||{});function wg(t){let r=oe.useContext($f);return r||An(!1),r}function mg(t){let r=oe.useContext(oo);return r||An(!1),r}function Eg(t){let r=mg(),s=r.matches[r.matches.length-1];return s.route.id||An(!1),s.route.id}function Cg(){let{router:t}=wg(nh.UseNavigateStable),r=Eg(rh.UseNavigateStable),s=oe.useRef(!1);return eh(()=>{s.current=!0}),oe.useCallback(function(f,h){h===void 0&&(h={}),s.current&&(typeof f=="number"?t.navigate(f):t.navigate(f,Qa({fromRouteId:r},h)))},[t,r])}function Ag(t){let{basename:r="/",children:s=null,location:u,navigationType:f=Mr.Pop,navigator:h,static:x=!1}=t;ao()&&An(!1);let A=r.replace(/^\/*/,"/"),y=oe.useMemo(()=>({basename:A,navigator:h,static:x}),[A,h,x]);typeof u=="string"&&(u=Rs(u));let{pathname:w="/",search:T="",hash:N="",state:B=null,key:H="default"}=u,Z=oe.useMemo(()=>{let z=Zf(w,A);return z==null?null:{location:{pathname:z,search:T,hash:N,state:B,key:H},navigationType:f}},[A,w,T,N,B,H,f]);return Z==null?null:oe.createElement(Ds.Provider,{value:y},oe.createElement(j1.Provider,{children:s,value:Z}))}new Promise(()=>{});/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(t[u]=s[u])}return t},qa.apply(this,arguments)}function yg(t,r){if(t==null)return{};var s={},u=Object.keys(t),f,h;for(h=0;h<u.length;h++)f=u[h],!(r.indexOf(f)>=0)&&(s[f]=t[f]);return s}function Ig(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sg(t,r){return t.button===0&&(!r||r==="_self")&&!Ig(t)}const vg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Tg="startTransition",N0=ed[Tg];function Ng(t){let{basename:r,children:s,future:u,window:f}=t,h=oe.useRef();h.current==null&&(h.current=sg({window:f,v5Compat:!0}));let x=h.current,[A,y]=oe.useState({action:x.action,location:x.location}),{v7_startTransition:w}=u||{},T=oe.useCallback(N=>{w&&N0?N0(()=>y(N)):y(N)},[y,w]);return oe.useLayoutEffect(()=>x.listen(T),[x,T]),oe.createElement(Ag,{basename:r,children:s,location:A.location,navigationType:A.action,navigator:x})}const _g=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Og=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rg=oe.forwardRef(function(r,s){let{onClick:u,relative:f,reloadDocument:h,replace:x,state:A,target:y,to:w,preventScrollReset:T,unstable_viewTransition:N}=r,B=yg(r,vg),{basename:H}=oe.useContext(Ds),Z,z=!1;if(typeof w=="string"&&Og.test(w)&&(Z=w,_g))try{let O=new URL(window.location.href),F=w.startsWith("//")?new URL(O.protocol+w):new URL(w),J=Zf(F.pathname,H);F.origin===O.origin&&J!=null?w=J+F.search+F.hash:z=!0}catch{}let se=gg(w,{relative:f}),D=Dg(w,{replace:x,state:A,target:y,preventScrollReset:T,relative:f,unstable_viewTransition:N});function v(O){u&&u(O),O.defaultPrevented||D(O)}return oe.createElement("a",qa({},B,{href:Z||se,onClick:z||h?u:v,ref:s,target:y}))});var _0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_0||(_0={}));var O0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(O0||(O0={}));function Dg(t,r){let{target:s,replace:u,state:f,preventScrollReset:h,relative:x,unstable_viewTransition:A}=r===void 0?{}:r,y=xg(),w=Y1(),T=th(t,{relative:x});return oe.useCallback(N=>{if(Sg(N,s)){N.preventDefault();let B=u!==void 0?u:Gl(w)===Gl(T);y(t,{replace:B,state:f,preventScrollReset:h,relative:x,unstable_viewTransition:A})}},[w,y,T,u,f,s,t,h,x,A])}var ut;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ut||(ut={}));ut.QR_CODE,ut.AZTEC,ut.CODABAR,ut.CODE_39,ut.CODE_93,ut.CODE_128,ut.DATA_MATRIX,ut.MAXICODE,ut.ITF,ut.EAN_13,ut.EAN_8,ut.PDF_417,ut.RSS_14,ut.RSS_EXPANDED,ut.UPC_A,ut.UPC_E,ut.UPC_EAN_EXTENSION;var R0;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(R0||(R0={}));var Xl;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Xl||(Xl={}));var Mg=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Xl.SCAN_TYPE_CAMERA,Xl.SCAN_TYPE_FILE],t}(),D0;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(D0||(D0={}));var M0={exports:{}};(function(t,r){(function(s,u){u(r)})(Ui,function(s){function u(m){return m==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,e){m.__proto__=e}||function(m,e){for(var n in e)e.hasOwnProperty(n)&&(m[n]=e[n])};function h(m,e){f(m,e);function n(){this.constructor=m}m.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function x(m,e){var n=Object.setPrototypeOf;n?n(m,e):m.__proto__=e}function A(m,e){e===void 0&&(e=m.constructor);var n=Error.captureStackTrace;n&&n(m,e)}var y=function(m){h(e,m);function e(n){var i=this.constructor,l=m.call(this,n)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),x(l,i.prototype),A(l),l}return e}(Error);class w extends y{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}w.kind="Exception";class T extends w{}T.kind="ArgumentException";class N extends w{}N.kind="IllegalArgumentException";class B{constructor(e){if(this.binarizer=e,e===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,l){const o=this.binarizer.getLuminanceSource().crop(e,n,i,l);return new B(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new B(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new B(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class H extends w{static getChecksumInstance(){return new H}}H.kind="ChecksumException";class Z{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class z{static arraycopy(e,n,i,l,o){for(;o--;)i[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class se extends w{}se.kind="IndexOutOfBoundsException";class D extends se{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}D.kind="ArrayIndexOutOfBoundsException";class v{static fill(e,n){for(let i=0,l=e.length;i<l;i++)e[i]=n}static fillWithin(e,n,i,l){v.rangeCheck(e.length,n,i);for(let o=n;o<i;o++)e[o]=l}static rangeCheck(e,n,i){if(n>i)throw new N("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new D(n);if(i>e)throw new D(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,l=e.length;i<l;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const l=i-n,o=new Int32Array(l);return z.arraycopy(e,n,o,0,l),o}static binarySearch(e,n,i){i===void 0&&(i=v.numberComparator);let l=0,o=e.length-1;for(;l<=o;){const a=o+l>>1,c=i(n,e[a]);if(c>0)l=a+1;else if(c<0)o=a-1;else return a}return-l-1}static numberComparator(e,n){return e-n}}class O{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=F.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=F.makeArray(e);z.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),o=i[l];o&=~((1<<(e&31))-1);const a=i.length;for(;o===0;){if(++l===a)return n;o=i[l]}const c=l*32+O.numberOfTrailingZeros(o);return c>n?n:c}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),o=~i[l];o&=~((1<<(e&31))-1);const a=i.length;for(;o===0;){if(++l===a)return n;o=~i[l]}const c=l*32+O.numberOfTrailingZeros(o);return c>n?n:c}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new N;if(n===e)return;n--;const i=Math.floor(e/32),l=Math.floor(n/32),o=this.bits;for(let a=i;a<=l;a++){const c=a>i?0:e&31,g=(2<<(a<l?31:n&31))-(1<<c);o[a]|=g}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new N;if(n===e)return!0;n--;const l=Math.floor(e/32),o=Math.floor(n/32),a=this.bits;for(let c=l;c<=o;c++){const d=c>l?0:e&31,p=(2<<(c<o?31:n&31))-(1<<d)&4294967295;if((a[c]&p)!==(i?p:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new N("Sizes don't match");const n=this.bits;for(let i=0,l=n.length;i<l;i++)n[i]^=e.bits[i]}toBytes(e,n,i,l){for(let o=0;o<l;o++){let a=0;for(let c=0;c<8;c++)this.get(e)&&(a|=1<<7-c),e++;n[i+o]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,l=this.bits;for(let o=0;o<i;o++){let a=l[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[n-o]=a}if(this.size!==i*32){const o=i*32-this.size;let a=e[0]>>>o;for(let c=1;c<i;c++){const d=e[c];a|=d<<32-o,e[c-1]=a,a=d>>>o}e[i-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof F))return!1;const n=e;return this.size===n.size&&v.equals(this.bits,n.bits)}hashCode(){return 31*this.size+v.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new F(this.size,this.bits.slice())}}var J;(function(m){m[m.OTHER=0]="OTHER",m[m.PURE_BARCODE=1]="PURE_BARCODE",m[m.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",m[m.TRY_HARDER=3]="TRY_HARDER",m[m.CHARACTER_SET=4]="CHARACTER_SET",m[m.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",m[m.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",m[m.ASSUME_GS1=7]="ASSUME_GS1",m[m.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",m[m.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",m[m.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(J||(J={}));var Q=J;class L extends w{static getFormatInstance(){return new L}}L.kind="FormatException";var K;(function(m){m[m.Cp437=0]="Cp437",m[m.ISO8859_1=1]="ISO8859_1",m[m.ISO8859_2=2]="ISO8859_2",m[m.ISO8859_3=3]="ISO8859_3",m[m.ISO8859_4=4]="ISO8859_4",m[m.ISO8859_5=5]="ISO8859_5",m[m.ISO8859_6=6]="ISO8859_6",m[m.ISO8859_7=7]="ISO8859_7",m[m.ISO8859_8=8]="ISO8859_8",m[m.ISO8859_9=9]="ISO8859_9",m[m.ISO8859_10=10]="ISO8859_10",m[m.ISO8859_11=11]="ISO8859_11",m[m.ISO8859_13=12]="ISO8859_13",m[m.ISO8859_14=13]="ISO8859_14",m[m.ISO8859_15=14]="ISO8859_15",m[m.ISO8859_16=15]="ISO8859_16",m[m.SJIS=16]="SJIS",m[m.Cp1250=17]="Cp1250",m[m.Cp1251=18]="Cp1251",m[m.Cp1252=19]="Cp1252",m[m.Cp1256=20]="Cp1256",m[m.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",m[m.UTF8=22]="UTF8",m[m.ASCII=23]="ASCII",m[m.Big5=24]="Big5",m[m.GB18030=25]="GB18030",m[m.EUC_KR=26]="EUC_KR"})(K||(K={}));class V{constructor(e,n,i,...l){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,V.VALUE_IDENTIFIER_TO_ECI.set(e,this),V.NAME_TO_ECI.set(i,this);const o=this.values;for(let a=0,c=o.length;a!==c;a++){const d=o[a];V.VALUES_TO_ECI.set(d,this)}for(const a of l)V.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new L("incorect value");const n=V.VALUES_TO_ECI.get(e);if(n===void 0)throw new L("incorect value");return n}static getCharacterSetECIByName(e){const n=V.NAME_TO_ECI.get(e);if(n===void 0)throw new L("incorect value");return n}equals(e){if(!(e instanceof V))return!1;const n=e;return this.getName()===n.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(K.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(K.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(K.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(K.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(K.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(K.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(K.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(K.Big5,28,"Big5"),V.GB18030=new V(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(K.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends w{}ge.kind="UnsupportedOperationException";class Pe{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Pe.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof V?e:V.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(Pe.isDecodeFallbackSupported(i)){let l="";for(let o=0,a=e.length;o<a;o++){let c=e[o].toString(16);c.length<2&&(c="0"+c),l+="%"+c}return decodeURIComponent(l)}if(i.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ge(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(V.UTF8)||e.equals(V.ISO8859_1)||e.equals(V.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let o=0;o<i.length;o++)l.push(i[o].charCodeAt(0));return new Uint8Array(l)}}class ae{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return Pe.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get(Q.CHARACTER_SET)!==void 0)return n.get(Q.CHARACTER_SET).toString();const i=e.length;let l=!0,o=!0,a=!0,c=0,d=0,g=0,p=0,E=0,C=0,S=0,_=0,R=0,M=0,P=0;const j=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Y=0;Y<i&&(l||o||a);Y++){const G=e[Y]&255;a&&(c>0?G&128?c--:a=!1:G&128&&(G&64?(c++,G&32?(c++,G&16?(c++,G&8?a=!1:p++):g++):d++):a=!1)),l&&(G>127&&G<160?l=!1:G>159&&(G<192||G===215||G===247)&&P++),o&&(E>0?G<64||G===127||G>252?o=!1:E--:G===128||G===160||G>239?o=!1:G>160&&G<224?(C++,_=0,S++,S>R&&(R=S)):G>127?(E++,S=0,_++,_>M&&(M=_)):(S=0,_=0))}return a&&c>0&&(a=!1),o&&E>0&&(o=!1),a&&(j||d+g+p>0)?ae.UTF8:o&&(ae.ASSUME_SHIFT_JIS||R>=3||M>=3)?ae.SHIFT_JIS:l&&o?R===2&&C===2||P*10>=i?ae.SHIFT_JIS:ae.ISO88591:l?ae.ISO88591:o?ae.SHIFT_JIS:a?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function l(a,c,d,g,p,E){if(a==="%%")return"%";if(n[++i]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let C=p?parseInt(p.substr(1)):void 0,S;switch(E){case"s":S=n[i];break;case"c":S=n[i][0];break;case"f":S=parseFloat(n[i]).toFixed(a);break;case"p":S=parseFloat(n[i]).toPrecision(a);break;case"e":S=parseFloat(n[i]).toExponential(a);break;case"x":S=parseInt(n[i]).toString(C||16);break;case"d":S=parseFloat(parseInt(n[i],C||10).toPrecision(a)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(C);let _=parseInt(d),R=d&&d[0]+""=="0"?"0":" ";for(;S.length<_;)S=c!==void 0?S+R:R+S;return S}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,l)}static getBytes(e,n){return Pe.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}ae.SHIFT_JIS=V.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=V.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=V.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class Ae{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let l=n;n<n+i;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class tt{constructor(e,n,i,l){if(this.width=e,this.height=n,this.rowSize=i,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new N("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,l=new tt(i,n);for(let o=0;o<n;o++){const a=e[o];for(let c=0;c<i;c++)a[c]&&l.set(c,o)}return l}static parseFromString(e,n,i){if(e===null)throw new N("stringRepresentation cannot be null");const l=new Array(e.length);let o=0,a=0,c=-1,d=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(o>a){if(c===-1)c=o-a;else if(o-a!==c)throw new N("row lengths do not match");a=o,d++}g++}else if(e.substring(g,g+n.length)===n)g+=n.length,l[o]=!0,o++;else if(e.substring(g,g+i.length)===i)g+=i.length,l[o]=!1,o++;else throw new N("illegal character encountered: "+e.substring(g));if(o>a){if(c===-1)c=o-a;else if(o-a!==c)throw new N("row lengths do not match");d++}const p=new tt(c,d);for(let E=0;E<o;E++)l[E]&&p.set(Math.floor(E%c),Math.floor(E/c));return p}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new N("input matrix dimensions do not match");const n=new F(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let o=0,a=this.height;o<a;o++){const c=o*i,d=e.getRow(o,n).getBitArray();for(let g=0;g<i;g++)l[c+g]^=d[g]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,l){if(n<0||e<0)throw new N("Left and top must be nonnegative");if(l<1||i<1)throw new N("Height and width must be at least 1");const o=e+i,a=n+l;if(a>this.height||o>this.width)throw new N("The region must fit inside the matrix");const c=this.rowSize,d=this.bits;for(let g=n;g<a;g++){const p=g*c;for(let E=e;E<o;E++)d[p+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new F(this.width):n.clear();const i=this.rowSize,l=this.bits,o=e*i;for(let a=0;a<i;a++)n.setBulk(a*32,l[o+a]);return n}setRow(e,n){z.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new F(e),l=new F(e);for(let o=0,a=Math.floor((n+1)/2);o<a;o++)i=this.getRow(o,i),l=this.getRow(n-1-o,l),i.reverse(),l.reverse(),this.setRow(o,l),this.setRow(n-1-o,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,l=this.bits;let o=e,a=n,c=-1,d=-1;for(let g=0;g<n;g++)for(let p=0;p<i;p++){const E=l[g*i+p];if(E!==0){if(g<a&&(a=g),g>d&&(d=g),p*32<o){let C=0;for(;!(E<<31-C&4294967295);)C++;p*32+C<o&&(o=p*32+C)}if(p*32+31>c){let C=31;for(;!(E>>>C);)C--;p*32+C>c&&(c=p*32+C)}}}return c<o||d<a?null:Int32Array.from([o,a,c-o+1,d-a+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const l=i/e;let o=i%e*32;const a=n[i];let c=0;for(;!(a<<31-c&4294967295);)c++;return o+=c,Int32Array.from([o,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/e);let o=Math.floor(i%e)*32;const a=n[i];let c=31;for(;!(a>>>c);)c--;return o+=c,Int32Array.from([o,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof tt))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&v.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+v.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let l=new Ae;for(let o=0,a=this.height;o<a;o++){for(let c=0,d=this.width;c<d;c++)l.append(this.get(c,o)?e:n);l.append(i)}return l.toString()}clone(){return new tt(this.width,this.height,this.rowSize,this.bits.slice())}}class U extends w{static getNotFoundInstance(){return new U}}U.kind="NotFoundException";class Qe extends Z{constructor(e){super(e),this.luminances=Qe.EMPTY,this.buckets=new Int32Array(Qe.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),l=i.getWidth();n==null||n.getSize()<l?n=new F(l):n.clear(),this.initArrays(l);const o=i.getRow(e,this.luminances),a=this.buckets;for(let d=0;d<l;d++)a[(o[d]&255)>>Qe.LUMINANCE_SHIFT]++;const c=Qe.estimateBlackPoint(a);if(l<3)for(let d=0;d<l;d++)(o[d]&255)<c&&n.set(d);else{let d=o[0]&255,g=o[1]&255;for(let p=1;p<l-1;p++){const E=o[p+1]&255;(g*4-d-E)/2<c&&n.set(p),d=g,g=E}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),l=new tt(n,i);this.initArrays(n);const o=this.buckets;for(let d=1;d<5;d++){const g=Math.floor(i*d/5),p=e.getRow(g,this.luminances),E=Math.floor(n*4/5);for(let C=Math.floor(n/5);C<E;C++){const S=p[C]&255;o[S>>Qe.LUMINANCE_SHIFT]++}}const a=Qe.estimateBlackPoint(o),c=e.getMatrix();for(let d=0;d<i;d++){const g=d*n;for(let p=0;p<n;p++)(c[g+p]&255)<a&&l.set(p,d)}return l}createBinarizer(e){return new Qe(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<Qe.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,l=0,o=0;for(let p=0;p<n;p++)e[p]>o&&(l=p,o=e[p]),e[p]>i&&(i=e[p]);let a=0,c=0;for(let p=0;p<n;p++){const E=p-l,C=e[p]*E*E;C>c&&(a=p,c=C)}if(l>a){const p=l;l=a,a=p}if(a-l<=n/16)throw new U;let d=a-1,g=-1;for(let p=a-1;p>l;p--){const E=p-l,C=E*E*(a-p)*(i-e[p]);C>g&&(d=p,g=C)}return d<<Qe.LUMINANCE_SHIFT}}Qe.LUMINANCE_BITS=5,Qe.LUMINANCE_SHIFT=8-Qe.LUMINANCE_BITS,Qe.LUMINANCE_BUCKETS=1<<Qe.LUMINANCE_BITS,Qe.EMPTY=Uint8ClampedArray.from([0]);class de extends Qe{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=de.MINIMUM_DIMENSION&&i>=de.MINIMUM_DIMENSION){const l=e.getMatrix();let o=n>>de.BLOCK_SIZE_POWER;n&de.BLOCK_SIZE_MASK&&o++;let a=i>>de.BLOCK_SIZE_POWER;i&de.BLOCK_SIZE_MASK&&a++;const c=de.calculateBlackPoints(l,o,a,n,i),d=new tt(n,i);de.calculateThresholdForBlock(l,o,a,n,i,c,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new de(e)}static calculateThresholdForBlock(e,n,i,l,o,a,c){const d=o-de.BLOCK_SIZE,g=l-de.BLOCK_SIZE;for(let p=0;p<i;p++){let E=p<<de.BLOCK_SIZE_POWER;E>d&&(E=d);const C=de.cap(p,2,i-3);for(let S=0;S<n;S++){let _=S<<de.BLOCK_SIZE_POWER;_>g&&(_=g);const R=de.cap(S,2,n-3);let M=0;for(let j=-2;j<=2;j++){const Y=a[C+j];M+=Y[R-2]+Y[R-1]+Y[R]+Y[R+1]+Y[R+2]}const P=M/25;de.thresholdBlock(e,_,E,P,l,c)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,l,o,a){for(let c=0,d=i*o+n;c<de.BLOCK_SIZE;c++,d+=o)for(let g=0;g<de.BLOCK_SIZE;g++)(e[d+g]&255)<=l&&a.set(n+g,i+c)}static calculateBlackPoints(e,n,i,l,o){const a=o-de.BLOCK_SIZE,c=l-de.BLOCK_SIZE,d=new Array(i);for(let g=0;g<i;g++){d[g]=new Int32Array(n);let p=g<<de.BLOCK_SIZE_POWER;p>a&&(p=a);for(let E=0;E<n;E++){let C=E<<de.BLOCK_SIZE_POWER;C>c&&(C=c);let S=0,_=255,R=0;for(let P=0,j=p*l+C;P<de.BLOCK_SIZE;P++,j+=l){for(let Y=0;Y<de.BLOCK_SIZE;Y++){const G=e[j+Y]&255;S+=G,G<_&&(_=G),G>R&&(R=G)}if(R-_>de.MIN_DYNAMIC_RANGE)for(P++,j+=l;P<de.BLOCK_SIZE;P++,j+=l)for(let Y=0;Y<de.BLOCK_SIZE;Y++)S+=e[j+Y]&255}let M=S>>de.BLOCK_SIZE_POWER*2;if(R-_<=de.MIN_DYNAMIC_RANGE&&(M=_/2,g>0&&E>0)){const P=(d[g-1][E]+2*d[g][E-1]+d[g-1][E-1])/4;_<P&&(M=P)}d[g][E]=M}}return d}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class ${constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,l){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Ae;for(let i=0;i<this.height;i++){const l=this.getRow(i,e);for(let o=0;o<this.width;o++){const a=l[o]&255;let c;a<64?c="#":a<128?c="+":a<192?c=".":c=" ",n.append(c)}n.append(`
`)}return n.toString()}}class ce extends ${constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),l=this.getWidth();for(let o=0;o<l;o++)i[o]=255-(i[o]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let l=0;l<n;l++)i[l]=255-(e[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,l){return new ce(this.delegate.crop(e,n,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ce(this.delegate.rotateCounterClockwise45())}}class he extends ${constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return he.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const l=new Uint8ClampedArray(n*i);for(let o=0,a=0,c=e.length;o<c;o+=4,a++){let d;if(e[o+3]===0)d=255;else{const p=e[o],E=e[o+1],C=e[o+2];d=306*p+601*E+117*C+512>>10}l[a]=d}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new N("Requested row is outside the image: "+e);const i=this.getWidth(),l=e*i;return n===null?n=this.buffer.slice(l,l+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(l,l+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,l){return super.crop(e,n,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),l=e*he.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(l))*o+Math.abs(Math.sin(l))*a),d=Math.ceil(Math.abs(Math.sin(l))*o+Math.abs(Math.cos(l))*a);return n.width=c,n.height=d,i.translate(c/2,d/2),i.rotate(l),i.drawImage(this.canvas,o/-2,a/-2),this.buffer=he.makeBufferFromCanvasImageData(n),this}invert(){return new ce(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class We{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ye=(globalThis||Ui||self||window||void 0)&&(globalThis||Ui||self||window||void 0).__awaiter||function(m,e,n,i){function l(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(p){try{g(i.next(p))}catch(E){a(E)}}function d(p){try{g(i.throw(p))}catch(E){a(E)}}function g(p){p.done?o(p.value):l(p.value).then(c,d)}g((i=i.apply(m,e||[])).next())})};class en{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ye(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const o=i.deviceId||i.id,a=i.label||`Video device ${n.length+1}`,c=i.groupId,d={deviceId:o,label:a,kind:l,groupId:c};n.push(d)}return n})}getVideoInputDevices(){return ye(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new We(n.deviceId,n.label))})}findDeviceById(e){return ye(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return ye(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return ye(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return ye(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return ye(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return ye(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return ye(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const o={video:l};return yield this.decodeFromConstraints(o,n,i)})}decodeFromConstraints(e,n,i){return ye(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,i)})}decodeFromStream(e,n,i){return ye(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return ye(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ye(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new T(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new T(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new T("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new T("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new T("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new T("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new T("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new T("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new T("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,n);return i.src=e,l}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ye(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return ye(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const l=(o,a)=>{if(this._stopAsyncDecode){a(new U("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);o(c)}catch(c){const d=n&&c instanceof U,p=(c instanceof H||c instanceof L)&&i;if(d||p)return setTimeout(l,this._timeBetweenDecodingAttempts,o,a);a(c)}};return new Promise((o,a)=>l(o,a))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){n(null,l);const o=l instanceof H||l instanceof L,a=l instanceof U;(o||a)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,i){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),i=new he(n),l=new de(i);return new B(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=l+"px",n.width=i,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Xe{constructor(e,n,i=n==null?0:8*n.length,l,o,a=z.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=l,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=l,this.format=o,this.resultMetadata=null,a==null?this.timestamp=z.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);z.arraycopy(n,0,i,0,n.length),z.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Cr;(function(m){m[m.AZTEC=0]="AZTEC",m[m.CODABAR=1]="CODABAR",m[m.CODE_39=2]="CODE_39",m[m.CODE_93=3]="CODE_93",m[m.CODE_128=4]="CODE_128",m[m.DATA_MATRIX=5]="DATA_MATRIX",m[m.EAN_8=6]="EAN_8",m[m.EAN_13=7]="EAN_13",m[m.ITF=8]="ITF",m[m.MAXICODE=9]="MAXICODE",m[m.PDF_417=10]="PDF_417",m[m.QR_CODE=11]="QR_CODE",m[m.RSS_14=12]="RSS_14",m[m.RSS_EXPANDED=13]="RSS_EXPANDED",m[m.UPC_A=14]="UPC_A",m[m.UPC_E=15]="UPC_E",m[m.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Cr||(Cr={}));var re=Cr,jn;(function(m){m[m.OTHER=0]="OTHER",m[m.ORIENTATION=1]="ORIENTATION",m[m.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",m[m.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",m[m.ISSUE_NUMBER=4]="ISSUE_NUMBER",m[m.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",m[m.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",m[m.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",m[m.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",m[m.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",m[m.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(jn||(jn={}));var ht=jn;class Ni{constructor(e,n,i,l,o=-1,a=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class _i{exp(e){return this.expTable[e]}log(e){if(e===0)throw new N;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Bt{constructor(e,n){if(n.length===0)throw new N;this.field=e;const i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),z.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let a=0,c=n.length;a!==c;a++){const d=n[a];i=_i.addOrSubtract(i,d)}return i}i=n[0];const l=n.length,o=this.field;for(let a=1;a<l;a++)i=_i.addOrSubtract(o.multiply(e,i),n[a]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const a=n;n=i,i=a}let l=new Int32Array(i.length);const o=i.length-n.length;z.arraycopy(i,0,l,0,o);for(let a=o;a<i.length;a++)l[a]=_i.addOrSubtract(n[a-o],i[a]);return new Bt(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,l=e.coefficients,o=l.length,a=new Int32Array(i+o-1),c=this.field;for(let d=0;d<i;d++){const g=n[d];for(let p=0;p<o;p++)a[d+p]=_i.addOrSubtract(a[d+p],c.multiply(g,l[p]))}return new Bt(c,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,l=new Int32Array(n),o=this.coefficients;for(let a=0;a<n;a++)l[a]=i.multiply(o[a],e);return new Bt(i,l)}multiplyByMonomial(e,n){if(e<0)throw new N;if(n===0)return this.field.getZero();const i=this.coefficients,l=i.length,o=new Int32Array(l+e),a=this.field;for(let c=0;c<l;c++)o[c]=a.multiply(i[c],n);return new Bt(a,o)}divide(e){if(!this.field.equals(e.field))throw new N("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new N("Divide by 0");const n=this.field;let i=n.getZero(),l=this;const o=e.getCoefficient(e.getDegree()),a=n.inverse(o);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const c=l.getDegree()-e.getDegree(),d=n.multiply(l.getCoefficient(l.getDegree()),a),g=e.multiplyByMonomial(c,d),p=n.buildMonomial(c,d);i=i.addOrSubtract(p),l=l.addOrSubtract(g)}return[i,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const l=this.field.log(i);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Ms extends w{}Ms.kind="ArithmeticException";class Te extends _i{constructor(e,n,i){super(),this.primitive=e,this.size=n,this.generatorBase=i;const l=new Int32Array(n);let o=1;for(let c=0;c<n;c++)l[c]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=l;const a=new Int32Array(n);for(let c=0;c<n-1;c++)a[l[c]]=c;this.logTable=a,this.zero=new Bt(this,Int32Array.from([0])),this.one=new Bt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new N;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new Bt(this,i)}inverse(e){if(e===0)throw new Ms;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Te.AZTEC_DATA_12=new Te(4201,4096,1),Te.AZTEC_DATA_10=new Te(1033,1024,1),Te.AZTEC_DATA_6=new Te(67,64,1),Te.AZTEC_PARAM=new Te(19,16,1),Te.QR_CODE_FIELD_256=new Te(285,256,0),Te.DATA_MATRIX_FIELD_256=new Te(301,256,1),Te.AZTEC_DATA_8=Te.DATA_MATRIX_FIELD_256,Te.MAXICODE_FIELD_64=Te.AZTEC_DATA_6;class Wr extends w{}Wr.kind="ReedSolomonException";class In extends w{}In.kind="IllegalStateException";class Oi{constructor(e){this.field=e}decode(e,n){const i=this.field,l=new Bt(i,e),o=new Int32Array(n);let a=!0;for(let S=0;S<n;S++){const _=l.evaluateAt(i.exp(S+i.getGeneratorBase()));o[o.length-1-S]=_,_!==0&&(a=!1)}if(a)return;const c=new Bt(i,o),d=this.runEuclideanAlgorithm(i.buildMonomial(n,1),c,n),g=d[0],p=d[1],E=this.findErrorLocations(g),C=this.findErrorMagnitudes(p,E);for(let S=0;S<E.length;S++){const _=e.length-1-i.log(E[S]);if(_<0)throw new Wr("Bad error location");e[_]=Te.addOrSubtract(e[_],C[S])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const S=e;e=n,n=S}const l=this.field;let o=e,a=n,c=l.getZero(),d=l.getOne();for(;a.getDegree()>=(i/2|0);){let S=o,_=c;if(o=a,c=d,o.isZero())throw new Wr("r_{i-1} was zero");a=S;let R=l.getZero();const M=o.getCoefficient(o.getDegree()),P=l.inverse(M);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){const j=a.getDegree()-o.getDegree(),Y=l.multiply(a.getCoefficient(a.getDegree()),P);R=R.addOrSubtract(l.buildMonomial(j,Y)),a=a.addOrSubtract(o.multiplyByMonomial(j,Y))}if(d=R.multiply(c).addOrSubtract(_),a.getDegree()>=o.getDegree())throw new In("Division algorithm failed to reduce polynomial?")}const g=d.getCoefficient(0);if(g===0)throw new Wr("sigmaTilde(0) was zero");const p=l.inverse(g),E=d.multiplyScalar(p),C=a.multiplyScalar(p);return[E,C]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let l=0;const o=this.field;for(let a=1;a<o.getSize()&&l<n;a++)e.evaluateAt(a)===0&&(i[l]=o.inverse(a),l++);if(l!==n)throw new Wr("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,l=new Int32Array(i),o=this.field;for(let a=0;a<i;a++){const c=o.inverse(n[a]);let d=1;for(let g=0;g<i;g++)if(a!==g){const p=o.multiply(n[g],c),E=p&1?p&-2:p|1;d=o.multiply(d,E)}l[a]=o.multiply(e.evaluateAt(c),o.inverse(d)),o.getGeneratorBase()!==0&&(l[a]=o.multiply(l[a],c))}return l}}var wt;(function(m){m[m.UPPER=0]="UPPER",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.DIGIT=3]="DIGIT",m[m.PUNCT=4]="PUNCT",m[m.BINARY=5]="BINARY"})(wt||(wt={}));class Be{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),l=this.correctBits(i),o=Be.convertBoolArrayToByteArray(l),a=Be.getEncodedData(l),c=new Ni(o,a,null,null);return c.setNumBits(l.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=wt.UPPER,l=wt.UPPER,o="",a=0;for(;a<n;)if(l===wt.BINARY){if(n-a<5)break;let c=Be.readCode(e,a,5);if(a+=5,c===0){if(n-a<11)break;c=Be.readCode(e,a,11)+31,a+=11}for(let d=0;d<c;d++){if(n-a<8){a=n;break}const g=Be.readCode(e,a,8);o+=ae.castAsNonUtf8Char(g),a+=8}l=i}else{let c=l===wt.DIGIT?4:5;if(n-a<c)break;let d=Be.readCode(e,a,c);a+=c;let g=Be.getCharacter(l,d);g.startsWith("CTRL_")?(i=l,l=Be.getTable(g.charAt(5)),g.charAt(6)==="L"&&(i=l)):(o+=g,l=i)}return o}static getTable(e){switch(e){case"L":return wt.LOWER;case"P":return wt.PUNCT;case"M":return wt.MIXED;case"D":return wt.DIGIT;case"B":return wt.BINARY;case"U":default:return wt.UPPER}}static getCharacter(e,n){switch(e){case wt.UPPER:return Be.UPPER_TABLE[n];case wt.LOWER:return Be.LOWER_TABLE[n];case wt.MIXED:return Be.MIXED_TABLE[n];case wt.PUNCT:return Be.PUNCT_TABLE[n];case wt.DIGIT:return Be.DIGIT_TABLE[n];default:throw new In("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=Te.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=Te.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=Te.AZTEC_DATA_10):(i=12,n=Te.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),o=e.length/i;if(o<l)throw new L;let a=e.length%i,c=new Int32Array(o);for(let C=0;C<o;C++,a+=i)c[C]=Be.readCode(e,a,i);try{new Oi(n).decode(c,o-l)}catch(C){throw new L(C)}let d=(1<<i)-1,g=0;for(let C=0;C<l;C++){let S=c[C];if(S===0||S===d)throw new L;(S===1||S===d-1)&&g++}let p=new Array(l*i-g),E=0;for(let C=0;C<l;C++){let S=c[C];if(S===1||S===d-1)p.fill(S>1,E,E+i-1),E+=i-1;else for(let _=i-1;_>=0;--_)p[E++]=(S&1<<_)!==0}return p}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(n?11:14)+i*4,o=new Int32Array(l),a=new Array(this.totalBitsInLayer(i,n));if(n)for(let c=0;c<o.length;c++)o[c]=c;else{let c=l+1+2*O.truncDivision(O.truncDivision(l,2)-1,15),d=l/2,g=O.truncDivision(c,2);for(let p=0;p<d;p++){let E=p+O.truncDivision(p,15);o[d-p-1]=g-E-1,o[d+p]=g+E+1}}for(let c=0,d=0;c<i;c++){let g=(i-c)*4+(n?9:12),p=c*2,E=l-1-p;for(let C=0;C<g;C++){let S=C*2;for(let _=0;_<2;_++)a[d+S+_]=e.get(o[p+_],o[p+C]),a[d+2*g+S+_]=e.get(o[p+C],o[E-_]),a[d+4*g+S+_]=e.get(o[E-_],o[E-C]),a[d+6*g+S+_]=e.get(o[E-C],o[p+_])}d+=g*8}return a}static readCode(e,n,i){let l=0;for(let o=n;o<n+i;o++)l<<=1,e[o]&&(l|=1);return l}static readByte(e,n){let i=e.length-n;return i>=8?Be.readCode(e,n,8):Be.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=Be.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Be.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Be.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Be.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Be.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Be.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ie{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,l){const o=e-i,a=n-l;return Math.sqrt(o*o+a*a)}static sum(e){let n=0;for(let i=0,l=e.length;i!==l;i++){const o=e[i];n+=o}return n}}class bs{static floatToIntBits(e){return e}}bs.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ne{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ne){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*bs.floatToIntBits(this.x)+bs.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let o,a,c;if(i>=n&&i>=l?(a=e[0],o=e[1],c=e[2]):l>=i&&l>=n?(a=e[1],o=e[0],c=e[2]):(a=e[2],o=e[0],c=e[1]),this.crossProductZ(o,a,c)<0){const d=o;o=c,c=d}e[0]=o,e[1]=a,e[2]=c}static distance(e,n){return Ie.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const l=n.x,o=n.y;return(i.x-l)*(e.y-o)-(i.y-o)*(e.x-l)}}class ks{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class K1 extends ks{constructor(e,n,i,l,o){super(e,n),this.compact=i,this.nbDatablocks=l,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pn{constructor(e,n,i,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Pn.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=i-o,this.rightInit=i+o,this.upInit=l-o,this.downInit=l+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new U}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,l=this.downInit,o=!1,a=!0,c=!1,d=!1,g=!1,p=!1,E=!1;const C=this.width,S=this.height;for(;a;){a=!1;let _=!0;for(;(_||!d)&&n<C;)_=this.containsBlackPoint(i,l,n,!1),_?(n++,a=!0,d=!0):d||n++;if(n>=C){o=!0;break}let R=!0;for(;(R||!g)&&l<S;)R=this.containsBlackPoint(e,n,l,!0),R?(l++,a=!0,g=!0):g||l++;if(l>=S){o=!0;break}let M=!0;for(;(M||!p)&&e>=0;)M=this.containsBlackPoint(i,l,e,!1),M?(e--,a=!0,p=!0):p||e--;if(e<0){o=!0;break}let P=!0;for(;(P||!E)&&i>=0;)P=this.containsBlackPoint(e,n,i,!0),P?(i--,a=!0,E=!0):E||i--;if(i<0){o=!0;break}a&&(c=!0)}if(!o&&c){const _=n-e;let R=null;for(let Y=1;R===null&&Y<_;Y++)R=this.getBlackPointOnSegment(e,l-Y,e+Y,l);if(R==null)throw new U;let M=null;for(let Y=1;M===null&&Y<_;Y++)M=this.getBlackPointOnSegment(e,i+Y,e+Y,i);if(M==null)throw new U;let P=null;for(let Y=1;P===null&&Y<_;Y++)P=this.getBlackPointOnSegment(n,i+Y,n-Y,i);if(P==null)throw new U;let j=null;for(let Y=1;j===null&&Y<_;Y++)j=this.getBlackPointOnSegment(n,l-Y,n-Y,l);if(j==null)throw new U;return this.centerEdges(j,R,P,M)}else throw new U}getBlackPointOnSegment(e,n,i,l){const o=Ie.round(Ie.distance(e,n,i,l)),a=(i-e)/o,c=(l-n)/o,d=this.image;for(let g=0;g<o;g++){const p=Ie.round(e+g*a),E=Ie.round(n+g*c);if(d.get(p,E))return new ne(p,E)}return null}centerEdges(e,n,i,l){const o=e.getX(),a=e.getY(),c=n.getX(),d=n.getY(),g=i.getX(),p=i.getY(),E=l.getX(),C=l.getY(),S=Pn.CORR;return o<this.width/2?[new ne(E-S,C+S),new ne(c+S,d+S),new ne(g-S,p-S),new ne(o+S,a-S)]:[new ne(E+S,C+S),new ne(c+S,d-S),new ne(g-S,p+S),new ne(o-S,a-S)]}containsBlackPoint(e,n,i,l){const o=this.image;if(l){for(let a=e;a<=n;a++)if(o.get(a,i))return!0}else for(let a=e;a<=n;a++)if(o.get(i,a))return!0;return!1}}Pn.INIT_SIZE=10,Pn.CORR=1;class uo{static checkAndNudgePoints(e,n){const i=e.getWidth(),l=e.getHeight();let o=!0;for(let a=0;a<n.length&&o;a+=2){const c=Math.floor(n[a]),d=Math.floor(n[a+1]);if(c<-1||c>i||d<-1||d>l)throw new U;o=!1,c===-1?(n[a]=0,o=!0):c===i&&(n[a]=i-1,o=!0),d===-1?(n[a+1]=0,o=!0):d===l&&(n[a+1]=l-1,o=!0)}o=!0;for(let a=n.length-2;a>=0&&o;a-=2){const c=Math.floor(n[a]),d=Math.floor(n[a+1]);if(c<-1||c>i||d<-1||d>l)throw new U;o=!1,c===-1?(n[a]=0,o=!0):c===i&&(n[a]=i-1,o=!0),d===-1?(n[a+1]=0,o=!0):d===l&&(n[a+1]=l-1,o=!0)}}}class hn{constructor(e,n,i,l,o,a,c,d,g){this.a11=e,this.a21=n,this.a31=i,this.a12=l,this.a22=o,this.a32=a,this.a13=c,this.a23=d,this.a33=g}static quadrilateralToQuadrilateral(e,n,i,l,o,a,c,d,g,p,E,C,S,_,R,M){const P=hn.quadrilateralToSquare(e,n,i,l,o,a,c,d);return hn.squareToQuadrilateral(g,p,E,C,S,_,R,M).times(P)}transformPoints(e){const n=e.length,i=this.a11,l=this.a12,o=this.a13,a=this.a21,c=this.a22,d=this.a23,g=this.a31,p=this.a32,E=this.a33;for(let C=0;C<n;C+=2){const S=e[C],_=e[C+1],R=o*S+d*_+E;e[C]=(i*S+a*_+g)/R,e[C+1]=(l*S+c*_+p)/R}}transformPointsWithValues(e,n){const i=this.a11,l=this.a12,o=this.a13,a=this.a21,c=this.a22,d=this.a23,g=this.a31,p=this.a32,E=this.a33,C=e.length;for(let S=0;S<C;S++){const _=e[S],R=n[S],M=o*_+d*R+E;e[S]=(i*_+a*R+g)/M,n[S]=(l*_+c*R+p)/M}}static squareToQuadrilateral(e,n,i,l,o,a,c,d){const g=e-i+o-c,p=n-l+a-d;if(g===0&&p===0)return new hn(i-e,o-i,e,l-n,a-l,n,0,0,1);{const E=i-o,C=c-o,S=l-a,_=d-a,R=E*_-C*S,M=(g*_-C*p)/R,P=(E*p-g*S)/R;return new hn(i-e+M*i,c-e+P*c,e,l-n+M*l,d-n+P*d,n,M,P,1)}}static quadrilateralToSquare(e,n,i,l,o,a,c,d){return hn.squareToQuadrilateral(e,n,i,l,o,a,c,d).buildAdjoint()}buildAdjoint(){return new hn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new hn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Q1 extends uo{sampleGrid(e,n,i,l,o,a,c,d,g,p,E,C,S,_,R,M,P,j,Y){const G=hn.quadrilateralToQuadrilateral(l,o,a,c,d,g,p,E,C,S,_,R,M,P,j,Y);return this.sampleGridWithTransform(e,n,i,G)}sampleGridWithTransform(e,n,i,l){if(n<=0||i<=0)throw new U;const o=new tt(n,i),a=new Float32Array(2*n);for(let c=0;c<i;c++){const d=a.length,g=c+.5;for(let p=0;p<d;p+=2)a[p]=p/2+.5,a[p+1]=g;l.transformPoints(a),uo.checkAndNudgePoints(e,a);try{for(let p=0;p<d;p+=2)e.get(Math.floor(a[p]),Math.floor(a[p+1]))&&o.set(p/2,c)}catch{throw new U}}return o}}class Yn{static setGridSampler(e){Yn.gridSampler=e}static getInstance(){return Yn.gridSampler}}Yn.gridSampler=new Q1;class Rt{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class q1{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let a=i[0];i[0]=i[2],i[2]=a}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),o=this.getMatrixCornerPoints(i);return new K1(l,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new U;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let l=0;for(let a=0;a<4;a++){let c=i[(this.shift+a)%4];this.compact?(l<<=7,l+=c>>1&127):(l<<=10,l+=(c>>2&992)+(c>>1&31))}let o=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let i=0;e.forEach((l,o,a)=>{let c=(l>>n-2<<1)+(l&1);i=(i<<3)+c}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(O.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new U}getCorrectedParameterData(e,n){let i,l;n?(i=7,l=2):(i=10,l=4);let o=i-l,a=new Int32Array(i);for(let d=i-1;d>=0;--d)a[d]=e&15,e>>=4;try{new Oi(Te.AZTEC_PARAM).decode(a,o)}catch{throw new U}let c=0;for(let d=0;d<l;d++)c=(c<<4)+a[d];return c}getBullsEyeCorners(e){let n=e,i=e,l=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(n,a,1,-1),C=this.getFirstDifferent(i,a,1,1),S=this.getFirstDifferent(l,a,-1,1),_=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){let R=this.distancePoint(_,E)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(R<.75||R>1.25||!this.isWhiteOrBlackRectangle(E,C,S,_))break}n=E,i=C,l=S,o=_,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new U;this.compact=this.nbCenterLayers===5;let c=new ne(n.getX()+.5,n.getY()-.5),d=new ne(i.getX()+.5,i.getY()+.5),g=new ne(l.getX()-.5,l.getY()+.5),p=new ne(o.getX()-.5,o.getY()-.5);return this.expandSquare([c,d,g,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,l;try{let c=new Pn(this.image).detect();e=c[0],n=c[1],i=c[2],l=c[3]}catch{let d=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Rt(d+7,g-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Rt(d+7,g+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Rt(d-7,g+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Rt(d-7,g-7),!1,-1,-1).toResultPoint()}let o=Ie.round((e.getX()+l.getX()+n.getX()+i.getX())/4),a=Ie.round((e.getY()+l.getY()+n.getY()+i.getY())/4);try{let c=new Pn(this.image,15,o,a).detect();e=c[0],n=c[1],i=c[2],l=c[3]}catch{e=this.getFirstDifferent(new Rt(o+7,a-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Rt(o+7,a+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Rt(o-7,a+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Rt(o-7,a-7),!1,-1,-1).toResultPoint()}return o=Ie.round((e.getX()+l.getX()+n.getX()+i.getX())/4),a=Ie.round((e.getY()+l.getY()+n.getY()+i.getY())/4),new Rt(o,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,l,o){let a=Yn.getInstance(),c=this.getDimension(),d=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return a.sampleGrid(e,c,c,d,d,g,d,g,g,d,g,n.getX(),n.getY(),i.getX(),i.getY(),l.getX(),l.getY(),o.getX(),o.getY())}sampleLine(e,n,i){let l=0,o=this.distanceResultPoint(e,n),a=o/i,c=e.getX(),d=e.getY(),g=a*(n.getX()-e.getX())/o,p=a*(n.getY()-e.getY())/o;for(let E=0;E<i;E++)this.image.get(Ie.round(c+E*g),Ie.round(d+E*p))&&(l|=1<<i-E-1);return l}isWhiteOrBlackRectangle(e,n,i,l){let o=3;e=new Rt(e.getX()-o,e.getY()+o),n=new Rt(n.getX()-o,n.getY()-o),i=new Rt(i.getX()+o,i.getY()-o),l=new Rt(l.getX()+o,l.getY()+o);let a=this.getColor(l,e);if(a===0)return!1;let c=this.getColor(e,n);return c!==a||(c=this.getColor(n,i),c!==a)?!1:(c=this.getColor(i,l),c===a)}getColor(e,n){let i=this.distancePoint(e,n),l=(n.getX()-e.getX())/i,o=(n.getY()-e.getY())/i,a=0,c=e.getX(),d=e.getY(),g=this.image.get(e.getX(),e.getY()),p=Math.ceil(i);for(let C=0;C<p;C++)c+=l,d+=o,this.image.get(Ie.round(c),Ie.round(d))!==g&&a++;let E=a/i;return E>.1&&E<.9?0:E<=.1===g?1:-1}getFirstDifferent(e,n,i,l){let o=e.getX()+i,a=e.getY()+l;for(;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=i,a+=l;for(o-=i,a-=l;this.isValid(o,a)&&this.image.get(o,a)===n;)o+=i;for(o-=i;this.isValid(o,a)&&this.image.get(o,a)===n;)a+=l;return a-=l,new Rt(o,a)}expandSquare(e,n,i){let l=i/(2*n),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,g=new ne(c+l*o,d+l*a),p=new ne(c-l*o,d-l*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let E=new ne(c+l*o,d+l*a),C=new ne(c-l*o,d-l*a);return[g,E,p,C]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=Ie.round(e.getX()),i=Ie.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return Ie.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return Ie.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class Ps{decode(e,n=null){let i=null,l=new q1(e.getBlackMatrix()),o=null,a=null;try{let p=l.detectMirror(!1);o=p.getPoints(),this.reportFoundResultPoints(n,o),a=new Be().decode(p)}catch(p){i=p}if(a==null)try{let p=l.detectMirror(!0);o=p.getPoints(),this.reportFoundResultPoints(n,o),a=new Be().decode(p)}catch(p){throw i??p}let c=new Xe(a.getText(),a.getRawBytes(),a.getNumBits(),o,re.AZTEC,z.currentTimeMillis()),d=a.getByteSegments();d!=null&&c.putMetadata(ht.BYTE_SEGMENTS,d);let g=a.getECLevel();return g!=null&&c.putMetadata(ht.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,n){if(e!=null){let i=e.get(Q.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((l,o,a)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class sh extends en{constructor(e=500){super(new Ps,e)}}class it{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Q.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),a=this.doDecode(o,n),c=a.getResultMetadata();let d=270;c!==null&&c.get(ht.ORIENTATION)===!0&&(d=d+c.get(ht.ORIENTATION)%360),a.putMetadata(ht.ORIENTATION,d);const g=a.getResultPoints();if(g!==null){const p=o.getHeight();for(let E=0;E<g.length;E++)g[E]=new ne(p-g[E].getY()-1,g[E].getX())}return a}else throw new U}}reset(){}doDecode(e,n){const i=e.getWidth(),l=e.getHeight();let o=new F(i);const a=n&&n.get(Q.TRY_HARDER)===!0,c=Math.max(1,l>>(a?8:5));let d;a?d=l:d=15;const g=Math.trunc(l/2);for(let p=0;p<d;p++){const E=Math.trunc((p+1)/2),C=(p&1)===0,S=g+c*(C?E:-E);if(S<0||S>=l)break;try{o=e.getBlackRow(S,o)}catch{continue}for(let _=0;_<2;_++){if(_===1&&(o.reverse(),n&&n.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const R=new Map;n.forEach((M,P)=>R.set(P,M)),R.delete(Q.NEED_RESULT_POINT_CALLBACK),n=R}try{const R=this.decodeRow(S,o,n);if(_===1){R.putMetadata(ht.ORIENTATION,180);const M=R.getResultPoints();M!==null&&(M[0]=new ne(i-M[0].getX()-1,M[0].getY()),M[1]=new ne(i-M[1].getX()-1,M[1].getY()))}return R}catch{}}}throw new U}static recordPattern(e,n,i){const l=i.length;for(let g=0;g<l;g++)i[g]=0;const o=e.getSize();if(n>=o)throw new U;let a=!e.get(n),c=0,d=n;for(;d<o;){if(e.get(d)!==a)i[c]++;else{if(++c===l)break;i[c]=1,a=!a}d++}if(!(c===l||c===l-1&&d===o))throw new U}static recordPatternInReverse(e,n,i){let l=i.length,o=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==o&&(l--,o=!o);if(l>=0)throw new U;it.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const l=e.length;let o=0,a=0;for(let g=0;g<l;g++)o+=e[g],a+=n[g];if(o<a)return Number.POSITIVE_INFINITY;const c=o/a;i*=c;let d=0;for(let g=0;g<l;g++){const p=e[g],E=n[g]*c,C=p>E?p-E:E-p;if(C>i)return Number.POSITIVE_INFINITY;d+=C}return d/o}}class q extends it{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let l=0,o=Int32Array.from([0,0,0,0,0,0]),a=i,c=!1;const d=6;for(let g=i;g<n;g++)if(e.get(g)!==c)o[l]++;else{if(l===d-1){let p=q.MAX_AVG_VARIANCE,E=-1;for(let C=q.CODE_START_A;C<=q.CODE_START_C;C++){const S=it.patternMatchVariance(o,q.CODE_PATTERNS[C],q.MAX_INDIVIDUAL_VARIANCE);S<p&&(p=S,E=C)}if(E>=0&&e.isRange(Math.max(0,a-(g-a)/2),a,!1))return Int32Array.from([a,g,E]);a+=o[0]+o[1],o=o.slice(2,o.length-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,c=!c}throw new U}static decodeCode(e,n,i){it.recordPattern(e,i,n);let l=q.MAX_AVG_VARIANCE,o=-1;for(let a=0;a<q.CODE_PATTERNS.length;a++){const c=q.CODE_PATTERNS[a],d=this.patternMatchVariance(n,c,q.MAX_INDIVIDUAL_VARIANCE);d<l&&(l=d,o=a)}if(o>=0)return o;throw new U}decodeRow(e,n,i){const l=i&&i.get(Q.ASSUME_GS1)===!0,o=q.findStartPattern(n),a=o[2];let c=0;const d=new Uint8Array(20);d[c++]=a;let g;switch(a){case q.CODE_START_A:g=q.CODE_CODE_A;break;case q.CODE_START_B:g=q.CODE_CODE_B;break;case q.CODE_START_C:g=q.CODE_CODE_C;break;default:throw new L}let p=!1,E=!1,C="",S=o[0],_=o[1];const R=Int32Array.from([0,0,0,0,0,0]);let M=0,P=0,j=a,Y=0,G=!0,me=!1,xe=!1;for(;!p;){const qr=E;switch(E=!1,M=P,P=q.decodeCode(n,R,_),d[c++]=P,P!==q.CODE_STOP&&(G=!0),P!==q.CODE_STOP&&(Y++,j+=Y*P),S=_,_+=R.reduce((kh,Ph)=>kh+Ph,0),P){case q.CODE_START_A:case q.CODE_START_B:case q.CODE_START_C:throw new L}switch(g){case q.CODE_CODE_A:if(P<64)xe===me?C+=String.fromCharCode(" ".charCodeAt(0)+P):C+=String.fromCharCode(" ".charCodeAt(0)+P+128),xe=!1;else if(P<96)xe===me?C+=String.fromCharCode(P-64):C+=String.fromCharCode(P+64),xe=!1;else switch(P!==q.CODE_STOP&&(G=!1),P){case q.CODE_FNC_1:l&&(C.length===0?C+="]C1":C+=String.fromCharCode(29));break;case q.CODE_FNC_2:case q.CODE_FNC_3:break;case q.CODE_FNC_4_A:!me&&xe?(me=!0,xe=!1):me&&xe?(me=!1,xe=!1):xe=!0;break;case q.CODE_SHIFT:E=!0,g=q.CODE_CODE_B;break;case q.CODE_CODE_B:g=q.CODE_CODE_B;break;case q.CODE_CODE_C:g=q.CODE_CODE_C;break;case q.CODE_STOP:p=!0;break}break;case q.CODE_CODE_B:if(P<96)xe===me?C+=String.fromCharCode(" ".charCodeAt(0)+P):C+=String.fromCharCode(" ".charCodeAt(0)+P+128),xe=!1;else switch(P!==q.CODE_STOP&&(G=!1),P){case q.CODE_FNC_1:l&&(C.length===0?C+="]C1":C+=String.fromCharCode(29));break;case q.CODE_FNC_2:case q.CODE_FNC_3:break;case q.CODE_FNC_4_B:!me&&xe?(me=!0,xe=!1):me&&xe?(me=!1,xe=!1):xe=!0;break;case q.CODE_SHIFT:E=!0,g=q.CODE_CODE_A;break;case q.CODE_CODE_A:g=q.CODE_CODE_A;break;case q.CODE_CODE_C:g=q.CODE_CODE_C;break;case q.CODE_STOP:p=!0;break}break;case q.CODE_CODE_C:if(P<100)P<10&&(C+="0"),C+=P;else switch(P!==q.CODE_STOP&&(G=!1),P){case q.CODE_FNC_1:l&&(C.length===0?C+="]C1":C+=String.fromCharCode(29));break;case q.CODE_CODE_A:g=q.CODE_CODE_A;break;case q.CODE_CODE_B:g=q.CODE_CODE_B;break;case q.CODE_STOP:p=!0;break}break}qr&&(g=g===q.CODE_CODE_A?q.CODE_CODE_B:q.CODE_CODE_A)}const zt=_-S;if(_=n.getNextUnset(_),!n.isRange(_,Math.min(n.getSize(),_+(_-S)/2),!1))throw new U;if(j-=Y*M,j%103!==M)throw new H;const gn=C.length;if(gn===0)throw new U;gn>0&&G&&(g===q.CODE_CODE_C?C=C.substring(0,gn-2):C=C.substring(0,gn-1));const Vt=(o[1]+o[0])/2,ke=S+zt/2,Ct=d.length,Yt=new Uint8Array(Ct);for(let qr=0;qr<Ct;qr++)Yt[qr]=d[qr];const Qr=[new ne(Vt,e),new ne(ke,e)];return new Xe(C,Yt,0,Qr,re.CODE_128,new Date().getTime())}}q.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],q.MAX_AVG_VARIANCE=.25,q.MAX_INDIVIDUAL_VARIANCE=.7,q.CODE_SHIFT=98,q.CODE_CODE_C=99,q.CODE_CODE_B=100,q.CODE_CODE_A=101,q.CODE_FNC_1=102,q.CODE_FNC_2=97,q.CODE_FNC_3=96,q.CODE_FNC_4_A=101,q.CODE_FNC_4_B=100,q.CODE_START_A=103,q.CODE_START_B=104,q.CODE_START_C=105,q.CODE_STOP=106;class lt extends it{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let o=lt.findAsteriskPattern(n,l),a=n.getNextSet(o[1]),c=n.getSize(),d,g;do{lt.recordPattern(n,a,l);let R=lt.toNarrowWidePattern(l);if(R<0)throw new U;d=lt.patternToChar(R),this.decodeRowResult+=d,g=a;for(let M of l)a+=M;a=n.getNextSet(a)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let p=0;for(let R of l)p+=R;let E=a-g-p;if(a!==c&&E*2<p)throw new U;if(this.usingCheckDigit){let R=this.decodeRowResult.length-1,M=0;for(let P=0;P<R;P++)M+=lt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(R)!==lt.ALPHABET_STRING.charAt(M%43))throw new H;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new U;let C;this.extendedMode?C=lt.decodeExtended(this.decodeRowResult):C=this.decodeRowResult;let S=(o[1]+o[0])/2,_=g+p/2;return new Xe(C,null,0,[new ne(S,e),new ne(_,e)],re.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),l=e.getNextSet(0),o=0,a=l,c=!1,d=n.length;for(let g=l;g<i;g++)if(e.get(g)!==c)n[o]++;else{if(o===d-1){if(this.toNarrowWidePattern(n)===lt.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((g-a)/2)),a,!1))return[a,g];a+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,c=!c}throw new U}static toNarrowWidePattern(e){let n=e.length,i=0,l;do{let o=2147483647;for(let d of e)d<o&&d>i&&(o=d);i=o,l=0;let a=0,c=0;for(let d=0;d<n;d++){let g=e[d];g>i&&(c|=1<<n-1-d,l++,a+=g)}if(l===3){for(let d=0;d<n&&l>0;d++){let g=e[d];if(g>i&&(l--,g*2>=a))return-1}return c}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<lt.CHARACTER_ENCODINGS.length;n++)if(lt.CHARACTER_ENCODINGS[n]===e)return lt.ALPHABET_STRING.charAt(n);if(e===lt.ASTERISK_ENCODING)return"*";throw new U}static decodeExtended(e){let n=e.length,i="";for(let l=0;l<n;l++){let o=e.charAt(l);if(o==="+"||o==="$"||o==="%"||o==="/"){let a=e.charAt(l+1),c="\0";switch(o){case"+":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)+32);else throw new L;break;case"$":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)-64);else throw new L;break;case"%":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")c="\0";else if(a==="V")c="@";else if(a==="W")c="`";else if(a==="X"||a==="Y"||a==="Z")c="";else throw new L;break;case"/":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")c=":";else throw new L;break}i+=c,l++}else i+=o}return i}}lt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",lt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],lt.ASTERISK_ENCODING=148;class Me extends it{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,i){let l=this.decodeStart(n),o=this.decodeEnd(n),a=new Ae;Me.decodeMiddle(n,l[1],o[0],a);let c=a.toString(),d=null;i!=null&&(d=i.get(Q.ALLOWED_LENGTHS)),d==null&&(d=Me.DEFAULT_ALLOWED_LENGTHS);let g=c.length,p=!1,E=0;for(let _ of d){if(g===_){p=!0;break}_>E&&(E=_)}if(!p&&g>E&&(p=!0),!p)throw new L;const C=[new ne(l[1],e),new ne(o[0],e)];return new Xe(c,null,0,C,re.ITF,new Date().getTime())}static decodeMiddle(e,n,i,l){let o=new Int32Array(10),a=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),a.fill(0),c.fill(0);n<i;){it.recordPattern(e,n,o);for(let g=0;g<5;g++){let p=2*g;a[g]=o[p],c[g]=o[p+1]}let d=Me.decodeDigit(a);l.append(d.toString()),d=this.decodeDigit(c),l.append(d.toString()),o.forEach(function(g){n+=g})}}decodeStart(e){let n=Me.skipWhiteSpace(e),i=Me.findGuardPattern(e,n,Me.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let l=n-1;i>0&&l>=0&&!e.get(l);l--)i--;if(i!==0)throw new U}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new U;return i}decodeEnd(e){e.reverse();try{let n=Me.skipWhiteSpace(e),i;try{i=Me.findGuardPattern(e,n,Me.END_PATTERN_REVERSED[0])}catch(o){o instanceof U&&(i=Me.findGuardPattern(e,n,Me.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let l=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-l,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let l=i.length,o=new Int32Array(l),a=e.getSize(),c=!1,d=0,g=n;o.fill(0);for(let p=n;p<a;p++)if(e.get(p)!==c)o[d]++;else{if(d===l-1){if(it.patternMatchVariance(o,i,Me.MAX_INDIVIDUAL_VARIANCE)<Me.MAX_AVG_VARIANCE)return[g,p];g+=o[0]+o[1],z.arraycopy(o,2,o,0,d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,c=!c}throw new U}static decodeDigit(e){let n=Me.MAX_AVG_VARIANCE,i=-1,l=Me.PATTERNS.length;for(let o=0;o<l;o++){let a=Me.PATTERNS[o],c=it.patternMatchVariance(e,a,Me.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=o):c===n&&(i=-1)}if(i>=0)return i%10;throw new U}}Me.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Me.MAX_AVG_VARIANCE=.38,Me.MAX_INDIVIDUAL_VARIANCE=.5,Me.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Me.START_PATTERN=Int32Array.from([1,1,1,1]),Me.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class qe extends it{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,l=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),i=qe.findGuardPattern(e,l,!1,this.START_END_PATTERN,o);let a=i[0];l=i[1];let c=a-(l-a);c>=0&&(n=e.isRange(c,a,!1))}return i}static checkChecksum(e){return qe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return qe.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let o=e.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new L;i+=o}i*=3;for(let l=n-2;l>=0;l-=2){let o=e.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new L;i+=o}return(1e3-i)%10}static decodeEnd(e,n){return qe.findGuardPattern(e,n,!1,qe.START_END_PATTERN,new Int32Array(qe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,l){return this.findGuardPattern(e,n,i,l,new Int32Array(l.length))}static findGuardPattern(e,n,i,l,o){let a=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let c=0,d=n,g=l.length,p=i;for(let E=n;E<a;E++)if(e.get(E)!==p)o[c]++;else{if(c===g-1){if(it.patternMatchVariance(o,l,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return Int32Array.from([d,E]);d+=o[0]+o[1];let C=o.slice(2,o.length-1);for(let S=0;S<c-1;S++)o[S]=C[S];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,p=!p}throw new U}static decodeDigit(e,n,i,l){this.recordPattern(e,i,n);let o=this.MAX_AVG_VARIANCE,a=-1,c=l.length;for(let d=0;d<c;d++){let g=l[d],p=it.patternMatchVariance(n,g,qe.MAX_INDIVIDUAL_VARIANCE);p<o&&(o=p,a=d)}if(a>=0)return a;throw new U}}qe.MAX_AVG_VARIANCE=.48,qe.MAX_INDIVIDUAL_VARIANCE=.7,qe.START_END_PATTERN=Int32Array.from([1,1,1]),qe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),qe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ri{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,o=this.decodeMiddle(n,i,l),a=l.toString(),c=Ri.parseExtensionString(a),d=[new ne((i[0]+i[1])/2,e),new ne(o,e)],g=new Xe(a,null,0,d,re.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let o=e.getSize(),a=n[1],c=0;for(let g=0;g<5&&a<o;g++){let p=qe.decodeDigit(e,l,a,qe.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let E of l)a+=E;p>=10&&(c|=1<<4-g),g!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(i.length!==5)throw new U;let d=this.determineCheckDigit(c);if(Ri.extensionChecksum(i.toString())!==d)throw new U;return a}static extensionChecksum(e){let n=e.length,i=0;for(let l=n-2;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-"0".charCodeAt(0);i*=3;for(let l=n-1;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-"0".charCodeAt(0);return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new U}static parseExtensionString(e){if(e.length!==5)return null;let n=Ri.parseExtension5String(e);return n==null?null:new Map([[ht.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),l=(i/100).toString(),o=i%100,a=o<10?"0"+o:o.toString();return n+l+"."+a}}class co{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,o=this.decodeMiddle(n,i,l),a=l.toString(),c=co.parseExtensionString(a),d=[new ne((i[0]+i[1])/2,e),new ne(o,e)],g=new Xe(a,null,0,d,re.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let o=e.getSize(),a=n[1],c=0;for(let d=0;d<2&&a<o;d++){let g=qe.decodeDigit(e,l,a,qe.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let p of l)a+=p;g>=10&&(c|=1<<1-d),d!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(i.length!==2)throw new U;if(parseInt(i.toString())%4!==c)throw new U;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[ht.ISSUE_NUMBER,parseInt(e)]])}}class J1{static decodeRow(e,n,i){let l=qe.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ri().decodeRow(e,n,l)}catch{return new co().decodeRow(e,n,l)}}}J1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ne extends qe{constructor(){super(),this.decodeRowStringBuffer="",Ne.L_AND_G_PATTERNS=Ne.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=Ne.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let l=0;l<n.length;l++)i[l]=n[n.length-l-1];Ne.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let l=Ne.findStartGuardPattern(n),o=i==null?null:i.get(Q.NEED_RESULT_POINT_CALLBACK);if(o!=null){const G=new ne((l[0]+l[1])/2,e);o.foundPossibleResultPoint(G)}let a=this.decodeMiddle(n,l,this.decodeRowStringBuffer),c=a.rowOffset,d=a.resultString;if(o!=null){const G=new ne(c,e);o.foundPossibleResultPoint(G)}let g=this.decodeEnd(n,c);if(o!=null){const G=new ne((g[0]+g[1])/2,e);o.foundPossibleResultPoint(G)}let p=g[1],E=p+(p-g[0]);if(E>=n.getSize()||!n.isRange(p,E,!1))throw new U;let C=d.toString();if(C.length<8)throw new L;if(!Ne.checkChecksum(C))throw new H;let S=(l[1]+l[0])/2,_=(g[1]+g[0])/2,R=this.getBarcodeFormat(),M=[new ne(S,e),new ne(_,e)],P=new Xe(C,null,0,M,R,new Date().getTime()),j=0;try{let G=J1.decodeRow(e,n,g[1]);P.putMetadata(ht.UPC_EAN_EXTENSION,G.getText()),P.putAllMetadata(G.getResultMetadata()),P.addResultPoints(G.getResultPoints()),j=G.getText().length}catch{}let Y=i==null?null:i.get(Q.ALLOWED_EAN_EXTENSIONS);if(Y!=null){let G=!1;for(let me in Y)if(j.toString()===me){G=!0;break}if(!G)throw new U}return P}decodeEnd(e,n){return Ne.findGuardPattern(e,n,!1,Ne.START_END_PATTERN,new Int32Array(Ne.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ne.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Ne.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let o=e.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new L;i+=o}i*=3;for(let l=n-2;l>=0;l-=2){let o=e.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new L;i+=o}return(1e3-i)%10}}class Ar extends Ne{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let o=e.getSize(),a=n[1],c=0;for(let g=0;g<6&&a<o;g++){let p=Ne.decodeDigit(e,l,a,Ne.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let E of l)a+=E;p>=10&&(c|=1<<5-g)}i=Ar.determineFirstDigit(i,c),a=Ne.findGuardPattern(e,a,!0,Ne.MIDDLE_PATTERN,new Int32Array(Ne.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&a<o;g++){let p=Ne.decodeDigit(e,l,a,Ne.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);for(let E of l)a+=E}return{rowOffset:a,resultString:i}}getBarcodeFormat(){return re.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode("0".charCodeAt(0)+i)+e,e;throw new U}}Ar.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class $1 extends Ne{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let o=e.getSize(),a=n[1];for(let d=0;d<4&&a<o;d++){let g=Ne.decodeDigit(e,l,a,Ne.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g);for(let p of l)a+=p}a=Ne.findGuardPattern(e,a,!0,Ne.MIDDLE_PATTERN,new Int32Array(Ne.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&a<o;d++){let g=Ne.decodeDigit(e,l,a,Ne.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g);for(let p of l)a+=p}return{rowOffset:a,resultString:i}}getBarcodeFormat(){return re.EAN_8}}class eu extends Ne{constructor(){super(...arguments),this.ean13Reader=new Ar}getBarcodeFormat(){return re.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new Xe(n.substring(1),null,null,e.getResultPoints(),re.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new U}reset(){this.ean13Reader.reset()}}class dn extends Ne{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters.map(g=>g);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const o=e.getSize();let a=n[1],c=0;for(let g=0;g<6&&a<o;g++){const p=dn.decodeDigit(e,l,a,dn.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let E of l)a+=E;p>=10&&(c|=1<<5-g)}let d=dn.determineNumSysAndCheckDigit(i,c);return{rowOffset:a,resultString:d}}decodeEnd(e,n){return dn.findGuardPatternWithoutCounters(e,n,!0,dn.MIDDLE_END_PATTERN)}checkChecksum(e){return Ne.checkChecksum(dn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let o=String.fromCharCode("0".charCodeAt(0)+i),a=String.fromCharCode("0".charCodeAt(0)+l);return o+e+a}throw U.getNotFoundInstance()}getBarcodeFormat(){return re.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),i=new Ae;i.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(l),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(l);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class fo extends it{constructor(e){super();let n=e==null?null:e.get(Q.POSSIBLE_FORMATS),i=[];u(n)?(i.push(new Ar),i.push(new eu),i.push(new $1),i.push(new dn)):(n.indexOf(re.EAN_13)>-1&&i.push(new Ar),n.indexOf(re.UPC_A)>-1&&i.push(new eu),n.indexOf(re.EAN_8)>-1&&i.push(new $1),n.indexOf(re.UPC_E)>-1&&i.push(new dn)),this.readers=i}decodeRow(e,n,i){for(let l of this.readers)try{const o=l.decodeRow(e,n,i),a=o.getBarcodeFormat()===re.EAN_13&&o.getText().charAt(0)==="0",c=i==null?null:i.get(Q.POSSIBLE_FORMATS),d=c==null||c.includes(re.UPC_A);if(a&&d){const g=o.getRawBytes(),p=new Xe(o.getText().substring(1),g,g?g.length:null,o.getResultPoints(),re.UPC_A);return p.putAllMetadata(o.getResultMetadata()),p}return o}catch{}throw new U}reset(){for(let e of this.readers)e.reset()}}class St extends it{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(it.patternMatchVariance(e,n[i],St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return i;throw new U}static count(e){return Ie.sum(new Int32Array(e))}static increment(e,n){let i=0,l=n[0];for(let o=1;o<e.length;o++)n[o]>l&&(l=n[o],i=o);e[i]++}static decrement(e,n){let i=0,l=n[0];for(let o=1;o<e.length;o++)n[o]<l&&(l=n[o],i=o);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],l=n/i;if(l>=St.MIN_FINDER_PATTERN_RATIO&&l<=St.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let c of e)c>a&&(a=c),c<o&&(o=c);return a<10*o}return!1}}St.MAX_AVG_VARIANCE=.2,St.MAX_INDIVIDUAL_VARIANCE=.45,St.MIN_FINDER_PATTERN_RATIO=9.5/12,St.MAX_FINDER_PATTERN_RATIO=12.5/14;class Hr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Hr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Bs{constructor(e,n,i,l,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new ne(i,o)),this.resultPoints.push(new ne(l,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Bs))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class Sn{constructor(){}static getRSSvalue(e,n,i){let l=0;for(let d of e)l+=d;let o=0,a=0,c=e.length;for(let d=0;d<c-1;d++){let g;for(g=1,a|=1<<d;g<e[d];g++,a&=~(1<<d)){let p=Sn.combins(l-g-1,c-d-2);if(i&&a===0&&l-g-(c-d-1)>=c-d-1&&(p-=Sn.combins(l-g-(c-d),c-d-2)),c-d-1>1){let E=0;for(let C=l-g-(c-d-2);C>n;C--)E+=Sn.combins(l-g-C-1,c-d-3);p-=E*(c-1-d)}else l-g>n&&p--;o+=p}l-=g}return o}static combins(e,n){let i,l;e-n>n?(l=n,i=e-n):(l=e-n,i=n);let o=1,a=1;for(let c=e;c>i;c--)o*=c,a<=l&&(o/=a,a++);for(;a<=l;)o/=a,a++;return o}}class lh{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,l=new F(i),o=0,c=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)c&1<<d&&l.set(o),o++;for(let d=1;d<e.length;++d){let g=e[d],p=g.getLeftChar().getValue();for(let E=11;E>=0;--E)p&1<<E&&l.set(o),o++;if(g.getRightChar()!=null){let E=g.getRightChar().getValue();for(let C=11;C>=0;--C)E&1<<C&&l.set(o),o++}}return l}}class yr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ho{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Lt extends ho{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===Lt.FNC1}}Lt.FNC1="$";class Ir extends ho{constructor(e,n,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class tn extends ho{constructor(e,n,i){if(super(e),n<0||n>10||i<0||i>10)throw new L;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===tn.FNC1}isSecondDigitFNC1(){return this.secondDigit===tn.FNC1}isAnyFNC1(){return this.firstDigit===tn.FNC1||this.secondDigit===tn.FNC1}}tn.FNC1=10;class ee{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new U;let n=e.substring(0,2);for(let o of ee.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(2,o[2],e):ee.processFixedAI(2,o[1],e);if(e.length<3)throw new U;let i=e.substring(0,3);for(let o of ee.THREE_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(3,o[2],e):ee.processFixedAI(3,o[1],e);for(let o of ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(4,o[2],e):ee.processFixedAI(4,o[1],e);if(e.length<4)throw new U;let l=e.substring(0,4);for(let o of ee.FOUR_DIGIT_DATA_LENGTH)if(o[0]===l)return o[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(4,o[2],e):ee.processFixedAI(4,o[1],e);throw new U}static processFixedAI(e,n,i){if(i.length<e)throw new U;let l=i.substring(0,e);if(i.length<e+n)throw new U;let o=i.substring(e,e+n),a=i.substring(e+n),c="("+l+")"+o,d=ee.parseFieldsInGeneralPurpose(a);return d==null?c:c+d}static processVariableAI(e,n,i){let l=i.substring(0,e),o;i.length<e+n?o=i.length:o=e+n;let a=i.substring(e,o),c=i.substring(o),d="("+l+")"+a,g=ee.parseFieldsInGeneralPurpose(c);return g==null?d:d+g}}ee.VARIABLE_LENGTH=[],ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ee.VARIABLE_LENGTH,20],["22",ee.VARIABLE_LENGTH,29],["30",ee.VARIABLE_LENGTH,8],["37",ee.VARIABLE_LENGTH,8],["90",ee.VARIABLE_LENGTH,30],["91",ee.VARIABLE_LENGTH,30],["92",ee.VARIABLE_LENGTH,30],["93",ee.VARIABLE_LENGTH,30],["94",ee.VARIABLE_LENGTH,30],["95",ee.VARIABLE_LENGTH,30],["96",ee.VARIABLE_LENGTH,30],["97",ee.VARIABLE_LENGTH,3],["98",ee.VARIABLE_LENGTH,30],["99",ee.VARIABLE_LENGTH,30]],ee.THREE_DIGIT_DATA_LENGTH=[["240",ee.VARIABLE_LENGTH,30],["241",ee.VARIABLE_LENGTH,30],["242",ee.VARIABLE_LENGTH,6],["250",ee.VARIABLE_LENGTH,30],["251",ee.VARIABLE_LENGTH,30],["253",ee.VARIABLE_LENGTH,17],["254",ee.VARIABLE_LENGTH,20],["400",ee.VARIABLE_LENGTH,30],["401",ee.VARIABLE_LENGTH,30],["402",17],["403",ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ee.VARIABLE_LENGTH,20],["421",ee.VARIABLE_LENGTH,15],["422",3],["423",ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ee.VARIABLE_LENGTH,15],["391",ee.VARIABLE_LENGTH,18],["392",ee.VARIABLE_LENGTH,15],["393",ee.VARIABLE_LENGTH,18],["703",ee.VARIABLE_LENGTH,30]],ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ee.VARIABLE_LENGTH,20],["8003",ee.VARIABLE_LENGTH,30],["8004",ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ee.VARIABLE_LENGTH,30],["8008",ee.VARIABLE_LENGTH,12],["8018",18],["8020",ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ee.VARIABLE_LENGTH,70],["8200",ee.VARIABLE_LENGTH,70]];class Gr{constructor(e){this.buffer=new Ae,this.information=e}decodeAllCodes(e,n){let i=n,l=null;do{let o=this.decodeGeneralPurposeField(i,l),a=ee.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?l=""+o.getRemainingValue():l=null,i===o.getNewPosition())break;i=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new tn(this.information.getSize(),tn.FNC1,tn.FNC1):new tn(this.information.getSize(),o-1,tn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,l=(n-8)%11;return new tn(e+7,i,l)}extractNumericValueFromBitArray(e,n){return Gr.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let l=0;for(let o=0;o<i;++o)e.get(n+o)&&(l|=1<<i-o-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Ir(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Ir(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new Ir(this.current.getPosition(),this.buffer.toString()):n=new Ir(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new yr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new Ir(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new yr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Ir(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new yr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Ir(this.current.getPosition(),this.buffer.toString());return new yr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new yr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Lt(e+5,Lt.FNC1);if(n>=5&&n<15)return new Lt(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new Lt(e+7,""+(i+1));if(i>=90&&i<116)return new Lt(e+7,""+(i+7));let l=this.extractNumericValueFromBitArray(e,8),o;switch(l){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new L}return new Lt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new Lt(e+5,Lt.FNC1);if(n>=5&&n<15)return new Lt(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new Lt(e+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new In("Decoding invalid alphanumeric value: "+i)}return new Lt(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class go{constructor(e){this.information=e,this.generalDecoder=new Gr(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ft extends go{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let l=0;l<4;++l){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}Ft.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let l=0;l<13;l++){let o=e.charAt(l+n).charCodeAt(0)-"0".charCodeAt(0);i+=l&1?o:3*o}i=10-i%10,i===10&&(i=0),e.append(i)}}Ft.GTIN_SIZE=40;class Xr extends Ft{constructor(e){super(e)}parseInformation(){let e=new Ae;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xr.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,Xr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Xr.HEADER_SIZE+44)}}Xr.HEADER_SIZE=1+1+2;class Ls extends go{constructor(e){super(e)}parseInformation(){let e=new Ae;return this.getGeneralDecoder().decodeAllCodes(e,Ls.HEADER_SIZE)}}Ls.HEADER_SIZE=2+1+2;class Fs extends Ft{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,l);let o=this.checkWeight(l),a=1e5;for(let c=0;c<5;++c)o/a===0&&e.append("0"),a/=10;e.append(o)}}class vn extends Fs{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=vn.HEADER_SIZE+Fs.GTIN_SIZE+vn.WEIGHT_SIZE)throw new U;let e=new Ae;return this.encodeCompressedGtin(e,vn.HEADER_SIZE),this.encodeCompressedWeight(e,vn.HEADER_SIZE+Fs.GTIN_SIZE,vn.WEIGHT_SIZE),e.toString()}}vn.HEADER_SIZE=4+1,vn.WEIGHT_SIZE=15;class oh extends vn{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class ah extends vn{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Tn extends Ft{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Tn.HEADER_SIZE+Ft.GTIN_SIZE)throw new U;let e=new Ae;this.encodeCompressedGtin(e,Tn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Tn.HEADER_SIZE+Ft.GTIN_SIZE,Tn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Tn.HEADER_SIZE+Ft.GTIN_SIZE+Tn.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}Tn.HEADER_SIZE=5+1+2,Tn.LAST_DIGIT_SIZE=2;class Dt extends Ft{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Dt.HEADER_SIZE+Ft.GTIN_SIZE)throw new U;let e=new Ae;this.encodeCompressedGtin(e,Dt.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Dt.HEADER_SIZE+Ft.GTIN_SIZE,Dt.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Dt.HEADER_SIZE+Ft.GTIN_SIZE+Dt.LAST_DIGIT_SIZE,Dt.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Dt.HEADER_SIZE+Ft.GTIN_SIZE+Dt.LAST_DIGIT_SIZE+Dt.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Dt.HEADER_SIZE=5+1+2,Dt.LAST_DIGIT_SIZE=2,Dt.FIRST_THREE_DIGITS_SIZE=10;class He extends Fs{constructor(e,n,i){super(e),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE+He.DATE_SIZE)throw new U;let e=new Ae;return this.encodeCompressedGtin(e,He.HEADER_SIZE),this.encodeCompressedWeight(e,He.HEADER_SIZE+He.GTIN_SIZE,He.WEIGHT_SIZE),this.encodeCompressedDate(e,He.HEADER_SIZE+He.GTIN_SIZE+He.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,He.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=i%32;i/=32;let o=i%12+1;i/=12;let a=i;a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}He.HEADER_SIZE=7+1,He.WEIGHT_SIZE=20,He.DATE_SIZE=16;function tu(m){try{if(m.get(1))return new Xr(m);if(!m.get(2))return new Ls(m);switch(Gr.extractNumericValueFromBitArray(m,1,4)){case 4:return new oh(m);case 5:return new ah(m)}switch(Gr.extractNumericValueFromBitArray(m,1,5)){case 12:return new Tn(m);case 13:return new Dt(m)}switch(Gr.extractNumericValueFromBitArray(m,1,7)){case 56:return new He(m,"310","11");case 57:return new He(m,"320","11");case 58:return new He(m,"310","13");case 59:return new He(m,"320","13");case 60:return new He(m,"310","15");case 61:return new He(m,"320","15");case 62:return new He(m,"310","17");case 63:return new He(m,"320","17")}}catch(e){throw console.log(e),new In("unknown decoder: "+m)}}class Zn{constructor(e,n,i,l){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof Zn?Zn.equalsOrNull(e.leftchar,n.leftchar)&&Zn.equalsOrNull(e.rightchar,n.rightchar)&&Zn.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:Zn.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class xo{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof xo?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((l,o)=>{n.forEach(a=>{l.getLeftChar().getValue()===a.getLeftChar().getValue()&&l.getRightChar().getValue()===a.getRightChar().getValue()&&l.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(i=!0)})}),i}}class W extends St{constructor(e){super(...arguments),this.pairs=new Array(W.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return W.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,W.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof U){if(!this.pairs.length)throw new U;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new U}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(l.getPairs()),!W.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(l);try{return this.checkRows(o,i+1)}catch(a){this.verbose&&console.log(a)}}throw new U}static isValidSequence(e){for(let n of W.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,l=!1,o=!1;for(;i<this.rows.length;){let a=this.rows[i];if(a.getRowNumber()>e){o=a.isEquivalent(this.pairs);break}l=a.isEquivalent(this.pairs),i++}o||l||W.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new xo(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let l of i.getPairs())for(let o of e)if(Zn.equals(l,o))break}}static isPartialRow(e,n){for(let i of n){let l=!0;for(let o of e){let a=!1;for(let c of i.getPairs())if(o.equals(c)){a=!0;break}if(!a){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=lh.buildBitArray(e),l=tu(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],a[0],a[1]];return new Xe(l,null,null,c,re.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),o=2;for(let c=1;c<this.pairs.size();++c){let d=this.pairs.get(c);l+=d.getLeftChar().getChecksumPortion(),o++;let g=d.getRightChar();g!=null&&(l+=g.getChecksumPortion(),o++)}return l%=211,211*(o-4)+l==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let l=n.length%2==0;this.startFromEven&&(l=!l);let o,a=!0,c=-1;do this.findNextPair(e,n,c),o=this.parseFoundFinderPattern(e,i,l),o==null?c=W.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let d=this.decodeDataCharacter(e,o,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new U;let g;try{g=this.decodeDataCharacter(e,o,l,!1)}catch(p){g=null,this.verbose&&console.log(p)}return new Zn(d,g,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let o=e.getSize(),a;i>=0?a=i:this.isEmptyPair(n)?a=0:a=n[n.length-1].getFinderPattern().getStartEnd()[1];let c=n.length%2!=0;this.startFromEven&&(c=!c);let d=!1;for(;a<o&&(d=!e.get(a),!!d);)a++;let g=0,p=a;for(let E=a;E<o;E++)if(e.get(E)!=d)l[g]++;else{if(g==3){if(c&&W.reverseCounters(l),W.isFinderPattern(l)){this.startEnd[0]=p,this.startEnd[1]=E;return}c&&W.reverseCounters(l),p+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,d=!d}throw new U}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let l=e[i];e[i]=e[n-i-1],e[n-i-1]=l}}parseFoundFinderPattern(e,n,i){let l,o,a;if(i){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,l=this.startEnd[0]-g,o=g,a=this.startEnd[1]}else o=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),l=a-this.startEnd[1];let c=this.getDecodeFinderCounters();z.arraycopy(c,0,c,1,c.length-1),c[0]=l;let d;try{d=this.parseFinderValue(c,W.FINDER_PATTERNS)}catch{return null}return new Bs(d,[o,a],o,a,n)}decodeDataCharacter(e,n,i,l){let o=this.getDataCharacterCounters();for(let ke=0;ke<o.length;ke++)o[ke]=0;if(l)W.recordPatternInReverse(e,n.getStartEnd()[0],o);else{W.recordPattern(e,n.getStartEnd()[1],o);for(let ke=0,Ct=o.length-1;ke<Ct;ke++,Ct--){let Yt=o[ke];o[ke]=o[Ct],o[Ct]=Yt}}let a=17,c=Ie.sum(new Int32Array(o))/a,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(c-d)/d>.3)throw new U;let g=this.getOddCounts(),p=this.getEvenCounts(),E=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let ke=0;ke<o.length;ke++){let Ct=1*o[ke]/c,Yt=Ct+.5;if(Yt<1){if(Ct<.3)throw new U;Yt=1}else if(Yt>8){if(Ct>8.7)throw new U;Yt=8}let Qr=ke/2;ke&1?(p[Qr]=Yt,C[Qr]=Ct-Yt):(g[Qr]=Yt,E[Qr]=Ct-Yt)}this.adjustOddEvenCounts(a);let S=4*n.getValue()+(i?0:2)+(l?0:1)-1,_=0,R=0;for(let ke=g.length-1;ke>=0;ke--){if(W.isNotA1left(n,i,l)){let Ct=W.WEIGHTS[S][2*ke];R+=g[ke]*Ct}_+=g[ke]}let M=0;for(let ke=p.length-1;ke>=0;ke--)if(W.isNotA1left(n,i,l)){let Ct=W.WEIGHTS[S][2*ke+1];M+=p[ke]*Ct}let P=R+M;if(_&1||_>13||_<4)throw new U;let j=(13-_)/2,Y=W.SYMBOL_WIDEST[j],G=9-Y,me=Sn.getRSSvalue(g,Y,!0),xe=Sn.getRSSvalue(p,G,!1),zt=W.EVEN_TOTAL_SUBSET[j],gn=W.GSUM[j],Vt=me*zt+xe+gn;return new Hr(Vt,P)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=Ie.sum(new Int32Array(this.getOddCounts())),i=Ie.sum(new Int32Array(this.getEvenCounts())),l=!1,o=!1;n>13?o=!0:n<4&&(l=!0);let a=!1,c=!1;i>13?c=!0:i<4&&(a=!0);let d=n+i-e,g=(n&1)==1,p=(i&1)==0;if(d==1)if(g){if(p)throw new U;o=!0}else{if(!p)throw new U;c=!0}else if(d==-1)if(g){if(p)throw new U;l=!0}else{if(!p)throw new U;a=!0}else if(d==0){if(g){if(!p)throw new U;n<i?(l=!0,c=!0):(o=!0,a=!0)}else if(p)throw new U}else throw new U;if(l){if(o)throw new U;W.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&W.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(c)throw new U;W.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&W.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}W.SYMBOL_WIDEST=[7,5,4,3,1],W.EVEN_TOTAL_SUBSET=[4,20,52,104,204],W.GSUM=[0,348,1388,2948,3988],W.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],W.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],W.FINDER_PAT_A=0,W.FINDER_PAT_B=1,W.FINDER_PAT_C=2,W.FINDER_PAT_D=3,W.FINDER_PAT_E=4,W.FINDER_PAT_F=5,W.FINDER_PATTERN_SEQUENCES=[[W.FINDER_PAT_A,W.FINDER_PAT_A],[W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B],[W.FINDER_PAT_A,W.FINDER_PAT_C,W.FINDER_PAT_B,W.FINDER_PAT_D],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_C],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_D,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_D],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_E],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F]],W.MAX_PAIRS=11;class uh extends Hr{constructor(e,n,i){super(e,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Je extends St{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const l=this.decodePair(n,!1,e,i);Je.addOrTally(this.possibleLeftPairs,l),n.reverse();let o=this.decodePair(n,!0,e,i);Je.addOrTally(this.possibleRightPairs,o),n.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&Je.checkChecksum(a,c))return Je.constructResult(a,c)}throw new U}static addOrTally(e,n){if(n==null)return;let i=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),l=new String(i).toString(),o=new Ae;for(let g=13-l.length;g>0;g--)o.append("0");o.append(l);let a=0;for(let g=0;g<13;g++){let p=o.charAt(g).charCodeAt(0)-"0".charCodeAt(0);a+=g&1?p:3*p}a=10-a%10,a===10&&(a=0),o.append(a.toString());let c=e.getFinderPattern().getResultPoints(),d=n.getFinderPattern().getResultPoints();return new Xe(o.toString(),null,0,[c[0],c[1],d[0],d[1]],re.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(e,n,i,l){try{let o=this.findFinderPattern(e,n),a=this.parseFoundFinderPattern(e,i,n,o),c=l==null?null:l.get(Q.NEED_RESULT_POINT_CALLBACK);if(c!=null){let p=(o[0]+o[1])/2;n&&(p=e.getSize()-1-p),c.foundPossibleResultPoint(new ne(p,i))}let d=this.decodeDataCharacter(e,a,!0),g=this.decodeDataCharacter(e,a,!1);return new uh(1597*d.getValue()+g.getValue(),d.getChecksumPortion()+4*g.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,n,i){let l=this.getDataCharacterCounters();for(let M=0;M<l.length;M++)l[M]=0;if(i)it.recordPatternInReverse(e,n.getStartEnd()[0],l);else{it.recordPattern(e,n.getStartEnd()[1]+1,l);for(let M=0,P=l.length-1;M<P;M++,P--){let j=l[M];l[M]=l[P],l[P]=j}}let o=i?16:15,a=Ie.sum(new Int32Array(l))/o,c=this.getOddCounts(),d=this.getEvenCounts(),g=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(let M=0;M<l.length;M++){let P=l[M]/a,j=Math.floor(P+.5);j<1?j=1:j>8&&(j=8);let Y=Math.floor(M/2);M&1?(d[Y]=j,p[Y]=P-j):(c[Y]=j,g[Y]=P-j)}this.adjustOddEvenCounts(i,o);let E=0,C=0;for(let M=c.length-1;M>=0;M--)C*=9,C+=c[M],E+=c[M];let S=0,_=0;for(let M=d.length-1;M>=0;M--)S*=9,S+=d[M],_+=d[M];let R=C+3*S;if(i){if(E&1||E>12||E<4)throw new U;let M=(12-E)/2,P=Je.OUTSIDE_ODD_WIDEST[M],j=9-P,Y=Sn.getRSSvalue(c,P,!1),G=Sn.getRSSvalue(d,j,!0),me=Je.OUTSIDE_EVEN_TOTAL_SUBSET[M],xe=Je.OUTSIDE_GSUM[M];return new Hr(Y*me+G+xe,R)}else{if(_&1||_>10||_<4)throw new U;let M=(10-_)/2,P=Je.INSIDE_ODD_WIDEST[M],j=9-P,Y=Sn.getRSSvalue(c,P,!0),G=Sn.getRSSvalue(d,j,!1),me=Je.INSIDE_ODD_TOTAL_SUBSET[M],xe=Je.INSIDE_GSUM[M];return new Hr(G*me+Y+xe,R)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=e.getSize(),o=!1,a=0;for(;a<l&&(o=!e.get(a),n!==o);)a++;let c=0,d=a;for(let g=a;g<l;g++)if(e.get(g)!==o)i[c]++;else{if(c===3){if(St.isFinderPattern(i))return[d,g];d+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,o=!o}throw new U}parseFoundFinderPattern(e,n,i,l){let o=e.get(l[0]),a=l[0]-1;for(;a>=0&&o!==e.get(a);)a--;a++;const c=l[0]-a,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);z.arraycopy(d,0,g,1,d.length-1),g[0]=c;const p=this.parseFinderValue(g,Je.FINDER_PATTERNS);let E=a,C=l[1];return i&&(E=e.getSize()-1-E,C=e.getSize()-1-C),new Bs(p,[a,l[1]],E,C,n)}adjustOddEvenCounts(e,n){let i=Ie.sum(new Int32Array(this.getOddCounts())),l=Ie.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1,c=!1,d=!1;e?(i>12?a=!0:i<4&&(o=!0),l>12?d=!0:l<4&&(c=!0)):(i>11?a=!0:i<5&&(o=!0),l>10?d=!0:l<4&&(c=!0));let g=i+l-n,p=(i&1)===(e?1:0),E=(l&1)===1;if(g===1)if(p){if(E)throw new U;a=!0}else{if(!E)throw new U;d=!0}else if(g===-1)if(p){if(E)throw new U;o=!0}else{if(!E)throw new U;c=!0}else if(g===0){if(p){if(!E)throw new U;i<l?(o=!0,d=!0):(a=!0,c=!0)}else if(E)throw new U}else throw new U;if(o){if(a)throw new U;St.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&St.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new U;St.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&St.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Je.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Je.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Je.OUTSIDE_GSUM=[0,161,961,2015,2715],Je.INSIDE_GSUM=[0,336,1036,1516],Je.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Je.INSIDE_ODD_WIDEST=[2,4,6,8],Je.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class jr extends it{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const i=e?e.get(Q.POSSIBLE_FORMATS):null,l=e&&e.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(re.EAN_13)||i.includes(re.UPC_A)||i.includes(re.EAN_8)||i.includes(re.UPC_E))&&this.readers.push(new fo(e)),i.includes(re.CODE_39)&&this.readers.push(new lt(l)),i.includes(re.CODE_128)&&this.readers.push(new q),i.includes(re.ITF)&&this.readers.push(new Me),i.includes(re.RSS_14)&&this.readers.push(new Je),i.includes(re.RSS_EXPANDED)&&this.readers.push(new W(this.verbose))):(this.readers.push(new fo(e)),this.readers.push(new lt),this.readers.push(new fo(e)),this.readers.push(new q),this.readers.push(new Me),this.readers.push(new Je),this.readers.push(new W(this.verbose)))}decodeRow(e,n,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,i)}catch{}throw new U}reset(){this.readers.forEach(e=>e.reset())}}class ch extends en{constructor(e=500,n){super(new jr(n),e,n)}}class Oe{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class _e{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ce{constructor(e,n,i,l,o,a){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=o,this.ecBlocks=a;let c=0;const d=a.getECCodewords(),g=a.getECBlocks();for(let p of g)c+=p.getCount()*(p.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new L;for(let i of Ce.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Ce(1,10,10,8,8,new Oe(5,new _e(1,3))),new Ce(2,12,12,10,10,new Oe(7,new _e(1,5))),new Ce(3,14,14,12,12,new Oe(10,new _e(1,8))),new Ce(4,16,16,14,14,new Oe(12,new _e(1,12))),new Ce(5,18,18,16,16,new Oe(14,new _e(1,18))),new Ce(6,20,20,18,18,new Oe(18,new _e(1,22))),new Ce(7,22,22,20,20,new Oe(20,new _e(1,30))),new Ce(8,24,24,22,22,new Oe(24,new _e(1,36))),new Ce(9,26,26,24,24,new Oe(28,new _e(1,44))),new Ce(10,32,32,14,14,new Oe(36,new _e(1,62))),new Ce(11,36,36,16,16,new Oe(42,new _e(1,86))),new Ce(12,40,40,18,18,new Oe(48,new _e(1,114))),new Ce(13,44,44,20,20,new Oe(56,new _e(1,144))),new Ce(14,48,48,22,22,new Oe(68,new _e(1,174))),new Ce(15,52,52,24,24,new Oe(42,new _e(2,102))),new Ce(16,64,64,14,14,new Oe(56,new _e(2,140))),new Ce(17,72,72,16,16,new Oe(36,new _e(4,92))),new Ce(18,80,80,18,18,new Oe(48,new _e(4,114))),new Ce(19,88,88,20,20,new Oe(56,new _e(4,144))),new Ce(20,96,96,22,22,new Oe(68,new _e(4,174))),new Ce(21,104,104,24,24,new Oe(56,new _e(6,136))),new Ce(22,120,120,18,18,new Oe(68,new _e(6,175))),new Ce(23,132,132,20,20,new Oe(62,new _e(8,163))),new Ce(24,144,144,22,22,new Oe(62,new _e(8,156),new _e(2,155))),new Ce(25,8,18,6,16,new Oe(7,new _e(1,5))),new Ce(26,8,32,6,14,new Oe(11,new _e(1,10))),new Ce(27,12,26,10,24,new Oe(14,new _e(1,16))),new Ce(28,12,36,10,16,new Oe(18,new _e(1,22))),new Ce(29,16,36,14,16,new Oe(24,new _e(1,32))),new Ce(30,16,48,14,22,new Oe(28,new _e(1,49)))]}}Ce.VERSIONS=Ce.buildVersions();class po{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new L;this.version=po.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new tt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return Ce.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,l=0;const o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let c=!1,d=!1,g=!1,p=!1;do if(i===o&&l===0&&!c)e[n++]=this.readCorner1(o,a)&255,i-=2,l+=2,c=!0;else if(i===o-2&&l===0&&a&3&&!d)e[n++]=this.readCorner2(o,a)&255,i-=2,l+=2,d=!0;else if(i===o+4&&l===2&&!(a&7)&&!g)e[n++]=this.readCorner3(o,a)&255,i-=2,l+=2,g=!0;else if(i===o-2&&l===0&&(a&7)===4&&!p)e[n++]=this.readCorner4(o,a)&255,i-=2,l+=2,p=!0;else{do i<o&&l>=0&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,o,a)&255),i-=2,l+=2;while(i>=0&&l<a);i+=1,l+=3;do i>=0&&l<a&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,o,a)&255),i+=2,l-=2;while(i<o&&l>=0);i+=3,l+=1}while(i<o||l<a);if(n!==this.version.getTotalCodewords())throw new L;return e}readModule(e,n,i,l){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,l){let o=0;return this.readModule(e-2,n-2,i,l)&&(o|=1),o<<=1,this.readModule(e-2,n-1,i,l)&&(o|=1),o<<=1,this.readModule(e-1,n-2,i,l)&&(o|=1),o<<=1,this.readModule(e-1,n-1,i,l)&&(o|=1),o<<=1,this.readModule(e-1,n,i,l)&&(o|=1),o<<=1,this.readModule(e,n-2,i,l)&&(o|=1),o<<=1,this.readModule(e,n-1,i,l)&&(o|=1),o<<=1,this.readModule(e,n,i,l)&&(o|=1),o}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new N("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=n/l|0,c=i/o|0,d=a*l,g=c*o,p=new tt(g,d);for(let E=0;E<a;++E){const C=E*l;for(let S=0;S<c;++S){const _=S*o;for(let R=0;R<l;++R){const M=E*(l+2)+1+R,P=C+R;for(let j=0;j<o;++j){const Y=S*(o+2)+1+j;if(e.get(Y,M)){const G=_+j;p.set(G,P)}}}}}return p}}class wo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let l=0;const o=i.getECBlocks();for(let R of o)l+=R.getCount();const a=new Array(l);let c=0;for(let R of o)for(let M=0;M<R.getCount();M++){const P=R.getDataCodewords(),j=i.getECCodewords()+P;a[c++]=new wo(P,new Uint8Array(j))}const g=a[0].codewords.length-i.getECCodewords(),p=g-1;let E=0;for(let R=0;R<p;R++)for(let M=0;M<c;M++)a[M].codewords[R]=e[E++];const C=n.getVersionNumber()===24,S=C?8:c;for(let R=0;R<S;R++)a[R].codewords[g-1]=e[E++];const _=a[0].codewords.length;for(let R=g;R<_;R++)for(let M=0;M<c;M++){const P=C?(M+8)%c:M,j=C&&P>7?R-1:R;a[P].codewords[j]=e[E++]}if(E!==e.length)throw new N;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class mo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new N(""+e);let n=0,i=this.bitOffset,l=this.byteOffset;const o=this.bytes;if(i>0){const a=8-i,c=e<a?e:a,d=a-c,g=255>>8-c<<d;n=(o[l]&g)>>d,e-=c,i+=c,i===8&&(i=0,l++)}if(e>0){for(;e>=8;)n=n<<8|o[l]&255,l++,e-=8;if(e>0){const a=8-e,c=255>>a<<a;n=n<<e|(o[l]&c)>>a,i+=e}}return this.bitOffset=i,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ot;(function(m){m[m.PAD_ENCODE=0]="PAD_ENCODE",m[m.ASCII_ENCODE=1]="ASCII_ENCODE",m[m.C40_ENCODE=2]="C40_ENCODE",m[m.TEXT_ENCODE=3]="TEXT_ENCODE",m[m.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",m[m.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",m[m.BASE256_ENCODE=6]="BASE256_ENCODE"})(ot||(ot={}));class Kn{static decode(e){const n=new mo(e),i=new Ae,l=new Ae,o=new Array;let a=ot.ASCII_ENCODE;do if(a===ot.ASCII_ENCODE)a=this.decodeAsciiSegment(n,i,l);else{switch(a){case ot.C40_ENCODE:this.decodeC40Segment(n,i);break;case ot.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case ot.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case ot.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case ot.BASE256_ENCODE:this.decodeBase256Segment(n,i,o);break;default:throw new L}a=ot.ASCII_ENCODE}while(a!==ot.PAD_ENCODE&&n.available()>0);return l.length()>0&&i.append(l.toString()),new Ni(e,i.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,i){let l=!1;do{let o=e.readBits(8);if(o===0)throw new L;if(o<=128)return l&&(o+=128),n.append(String.fromCharCode(o-1)),ot.ASCII_ENCODE;if(o===129)return ot.PAD_ENCODE;if(o<=229){const a=o-130;a<10&&n.append("0"),n.append(""+a)}else switch(o){case 230:return ot.C40_ENCODE;case 231:return ot.BASE256_ENCODE;case 232:n.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return ot.ANSIX12_ENCODE;case 239:return ot.TEXT_ENCODE;case 240:return ot.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new L;break}}while(e.available()>0);return ot.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const l=[];let o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),l);for(let c=0;c<3;c++){const d=l[c];switch(o){case 0:if(d<3)o=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else throw new L;break;case 1:i?(n.append(String.fromCharCode(d+128)),i=!1):n.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else switch(d){case 27:n.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new L}o=0;break;case 3:i?(n.append(String.fromCharCode(d+224)),i=!1):n.append(String.fromCharCode(d+96)),o=0;break;default:throw new L}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,l=[],o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),l);for(let c=0;c<3;c++){const d=l[c];switch(o){case 0:if(d<3)o=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else throw new L;break;case 1:i?(n.append(String.fromCharCode(d+128)),i=!1):n.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g)}else switch(d){case 27:n.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new L}o=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[d];i?(n.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):n.append(g),o=0}else throw new L;break;default:throw new L}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(let o=0;o<3;o++){const a=i[o];switch(a){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(a<14)n.append(String.fromCharCode(a+44));else if(a<40)n.append(String.fromCharCode(a+51));else throw new L;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let l=(e<<8)+n-1,o=Math.floor(l/1600);i[0]=o,l-=o*1600,o=Math.floor(l/40),i[1]=o,i[2]=l-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let l=e.readBits(6);if(l===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}l&32||(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let l=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),l++);let a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),l++),a<0)throw new L;const c=new Uint8Array(a);for(let d=0;d<a;d++){if(e.available()<8)throw new L;c[d]=this.unrandomize255State(e.readBits(8),l++)}i.push(c);try{n.append(Pe.decode(c,ae.ISO88591))}catch(d){throw new In("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,n){const i=149*n%255+1,l=e-i;return l>=0?l:l+256}}Kn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Kn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Kn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Kn.TEXT_SHIFT2_SET_CHARS=Kn.C40_SHIFT2_SET_CHARS,Kn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class fh{constructor(){this.rsDecoder=new Oi(Te.DATA_MATRIX_FIELD_256)}decode(e){const n=new po(e),i=n.getVersion(),l=n.readCodewords(),o=wo.getDataBlocks(l,i);let a=0;for(let g of o)a+=g.getNumDataCodewords();const c=new Uint8Array(a),d=o.length;for(let g=0;g<d;g++){const p=o[g],E=p.getCodewords(),C=p.getNumDataCodewords();this.correctErrors(E,C);for(let S=0;S<C;S++)c[S*d+g]=E[S]}return Kn.decode(c)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new H}for(let l=0;l<n;l++)e[l]=i[l]}}class nt{constructor(e){this.image=e,this.rectangleDetector=new Pn(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new U;n=this.shiftToModuleCenter(n);const i=n[0],l=n[1],o=n[2],a=n[3];let c=this.transitionsBetween(i,a)+1,d=this.transitionsBetween(o,a)+1;(c&1)===1&&(c+=1),(d&1)===1&&(d+=1),4*c<7*d&&4*d<7*c&&(c=d=Math.max(c,d));let g=nt.sampleGrid(this.image,i,l,o,a,c,d);return new ks(g,[i,l,o,a])}static shiftPoint(e,n,i){let l=(n.getX()-e.getX())/(i+1),o=(n.getY()-e.getY())/(i+1);return new ne(e.getX()+l,e.getY()+o)}static moveAway(e,n,i){let l=e.getX(),o=e.getY();return l<n?l-=1:l+=1,o<i?o-=1:o+=1,new ne(l,o)}detectSolid1(e){let n=e[0],i=e[1],l=e[3],o=e[2],a=this.transitionsBetween(n,i),c=this.transitionsBetween(i,l),d=this.transitionsBetween(l,o),g=this.transitionsBetween(o,n),p=a,E=[o,n,i,l];return p>c&&(p=c,E[0]=n,E[1]=i,E[2]=l,E[3]=o),p>d&&(p=d,E[0]=i,E[1]=l,E[2]=o,E[3]=n),p>g&&(E[0]=l,E[1]=o,E[2]=n,E[3]=i),E}detectSolid2(e){let n=e[0],i=e[1],l=e[2],o=e[3],a=this.transitionsBetween(n,o),c=nt.shiftPoint(i,l,(a+1)*4),d=nt.shiftPoint(l,i,(a+1)*4),g=this.transitionsBetween(c,n),p=this.transitionsBetween(d,o);return g<p?(e[0]=n,e[1]=i,e[2]=l,e[3]=o):(e[0]=i,e[1]=l,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],l=e[2],o=e[3],a=this.transitionsBetween(n,o),c=this.transitionsBetween(i,o),d=nt.shiftPoint(n,i,(c+1)*4),g=nt.shiftPoint(l,i,(a+1)*4);a=this.transitionsBetween(d,o),c=this.transitionsBetween(g,o);let p=new ne(o.getX()+(l.getX()-i.getX())/(a+1),o.getY()+(l.getY()-i.getY())/(a+1)),E=new ne(o.getX()+(n.getX()-i.getX())/(c+1),o.getY()+(n.getY()-i.getY())/(c+1));if(!this.isValid(p))return this.isValid(E)?E:null;if(!this.isValid(E))return p;let C=this.transitionsBetween(d,p)+this.transitionsBetween(g,p),S=this.transitionsBetween(d,E)+this.transitionsBetween(g,E);return C>S?p:E}shiftToModuleCenter(e){let n=e[0],i=e[1],l=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,c=this.transitionsBetween(l,o)+1,d=nt.shiftPoint(n,i,c*4),g=nt.shiftPoint(l,i,a*4);a=this.transitionsBetween(d,o)+1,c=this.transitionsBetween(g,o)+1,(a&1)===1&&(a+=1),(c&1)===1&&(c+=1);let p=(n.getX()+i.getX()+l.getX()+o.getX())/4,E=(n.getY()+i.getY()+l.getY()+o.getY())/4;n=nt.moveAway(n,p,E),i=nt.moveAway(i,p,E),l=nt.moveAway(l,p,E),o=nt.moveAway(o,p,E);let C,S;return d=nt.shiftPoint(n,i,c*4),d=nt.shiftPoint(d,o,a*4),C=nt.shiftPoint(i,n,c*4),C=nt.shiftPoint(C,l,a*4),g=nt.shiftPoint(l,o,c*4),g=nt.shiftPoint(g,i,a*4),S=nt.shiftPoint(o,l,c*4),S=nt.shiftPoint(S,n,a*4),[d,C,g,S]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,l,o,a,c){return Yn.getInstance().sampleGrid(e,a,c,.5,.5,a-.5,.5,a-.5,c-.5,.5,c-.5,n.getX(),n.getY(),o.getX(),o.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),l=Math.trunc(e.getY()),o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),c=Math.abs(a-l)>Math.abs(o-i);if(c){let R=i;i=l,l=R,R=o,o=a,a=R}let d=Math.abs(o-i),g=Math.abs(a-l),p=-d/2,E=l<a?1:-1,C=i<o?1:-1,S=0,_=this.image.get(c?l:i,c?i:l);for(let R=i,M=l;R!==o;R+=C){let P=this.image.get(c?M:R,c?R:M);if(P!==_&&(S++,_=P),p+=g,p>0){if(M===a)break;M+=E,p-=d}}return S}}class Qn{constructor(){this.decoder=new fh}decode(e,n=null){let i,l;if(n!=null&&n.has(Q.PURE_BARCODE)){const g=Qn.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(g),l=Qn.NO_POINTS}else{const g=new nt(e.getBlackMatrix()).detect();i=this.decoder.decode(g.getBits()),l=g.getPoints()}const o=i.getRawBytes(),a=new Xe(i.getText(),o,8*o.length,l,re.DATA_MATRIX,z.currentTimeMillis()),c=i.getByteSegments();c!=null&&a.putMetadata(ht.BYTE_SEGMENTS,c);const d=i.getECLevel();return d!=null&&a.putMetadata(ht.ERROR_CORRECTION_LEVEL,d),a}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new U;const l=this.moduleSize(n,e);let o=n[1];const a=i[1];let c=n[0];const g=(i[0]-c+1)/l,p=(a-o+1)/l;if(g<=0||p<=0)throw new U;const E=l/2;o+=E,c+=E;const C=new tt(g,p);for(let S=0;S<p;S++){const _=o+S*l;for(let R=0;R<g;R++)e.get(c+R*l,_)&&C.set(R,S)}return C}static moduleSize(e,n){const i=n.getWidth();let l=e[0];const o=e[1];for(;l<i&&n.get(l,o);)l++;if(l===i)throw new U;const a=l-e[0];if(a===0)throw new U;return a}}Qn.NO_POINTS=[];class hh extends en{constructor(e=500){super(new Qn,e)}}var Yr;(function(m){m[m.L=0]="L",m[m.M=1]="M",m[m.Q=2]="Q",m[m.H=3]="H"})(Yr||(Yr={}));class Le{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,Le.FOR_BITS.set(i,this),Le.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Le.L;case"M":return Le.M;case"Q":return Le.Q;case"H":return Le.H;default:throw new T(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Le))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=Le.FOR_BITS.size)throw new N;return Le.FOR_BITS.get(e)}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.L=new Le(Yr.L,"L",1),Le.M=new Le(Yr.M,"M",0),Le.Q=new Le(Yr.Q,"Q",3),Le.H=new Le(Yr.H,"H",2);class vt{constructor(e){this.errorCorrectionLevel=Le.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return O.bitCount(e^n)}static decodeFormatInformation(e,n){const i=vt.doDecodeFormatInformation(e,n);return i!==null?i:vt.doDecodeFormatInformation(e^vt.FORMAT_INFO_MASK_QR,n^vt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,l=0;for(const o of vt.FORMAT_INFO_DECODE_LOOKUP){const a=o[0];if(a===e||a===n)return new vt(o[1]);let c=vt.numBitsDiffering(e,a);c<i&&(l=o[1],i=c),e!==n&&(c=vt.numBitsDiffering(n,a),c<i&&(l=o[1],i=c))}return i<=3?new vt(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof vt))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}vt.FORMAT_INFO_MASK_QR=21522,vt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class b{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ie{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let l=0;const o=i[0].getECCodewordsPerBlock(),a=i[0].getECBlocks();for(const c of a)l+=c.getCount()*(c.getDataCodewords()+o);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new L;try{return this.getVersionForNumber((e-17)/4)}catch{throw new L}}static getVersionForNumber(e){if(e<1||e>40)throw new N;return ie.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<ie.VERSION_DECODE_INFO.length;l++){const o=ie.VERSION_DECODE_INFO[l];if(o===e)return ie.getVersionForNumber(l+7);const a=vt.numBitsDiffering(e,o);a<n&&(i=l+7,n=a)}return n<=3?ie.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new tt(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const o=this.alignmentPatternCenters[l]-2;for(let a=0;a<i;a++)l===0&&(a===0||a===i-1)||l===i-1&&a===0||n.setRegion(this.alignmentPatternCenters[a]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ie.VERSIONS=[new ie(1,new Int32Array(0),new b(7,new I(1,19)),new b(10,new I(1,16)),new b(13,new I(1,13)),new b(17,new I(1,9))),new ie(2,Int32Array.from([6,18]),new b(10,new I(1,34)),new b(16,new I(1,28)),new b(22,new I(1,22)),new b(28,new I(1,16))),new ie(3,Int32Array.from([6,22]),new b(15,new I(1,55)),new b(26,new I(1,44)),new b(18,new I(2,17)),new b(22,new I(2,13))),new ie(4,Int32Array.from([6,26]),new b(20,new I(1,80)),new b(18,new I(2,32)),new b(26,new I(2,24)),new b(16,new I(4,9))),new ie(5,Int32Array.from([6,30]),new b(26,new I(1,108)),new b(24,new I(2,43)),new b(18,new I(2,15),new I(2,16)),new b(22,new I(2,11),new I(2,12))),new ie(6,Int32Array.from([6,34]),new b(18,new I(2,68)),new b(16,new I(4,27)),new b(24,new I(4,19)),new b(28,new I(4,15))),new ie(7,Int32Array.from([6,22,38]),new b(20,new I(2,78)),new b(18,new I(4,31)),new b(18,new I(2,14),new I(4,15)),new b(26,new I(4,13),new I(1,14))),new ie(8,Int32Array.from([6,24,42]),new b(24,new I(2,97)),new b(22,new I(2,38),new I(2,39)),new b(22,new I(4,18),new I(2,19)),new b(26,new I(4,14),new I(2,15))),new ie(9,Int32Array.from([6,26,46]),new b(30,new I(2,116)),new b(22,new I(3,36),new I(2,37)),new b(20,new I(4,16),new I(4,17)),new b(24,new I(4,12),new I(4,13))),new ie(10,Int32Array.from([6,28,50]),new b(18,new I(2,68),new I(2,69)),new b(26,new I(4,43),new I(1,44)),new b(24,new I(6,19),new I(2,20)),new b(28,new I(6,15),new I(2,16))),new ie(11,Int32Array.from([6,30,54]),new b(20,new I(4,81)),new b(30,new I(1,50),new I(4,51)),new b(28,new I(4,22),new I(4,23)),new b(24,new I(3,12),new I(8,13))),new ie(12,Int32Array.from([6,32,58]),new b(24,new I(2,92),new I(2,93)),new b(22,new I(6,36),new I(2,37)),new b(26,new I(4,20),new I(6,21)),new b(28,new I(7,14),new I(4,15))),new ie(13,Int32Array.from([6,34,62]),new b(26,new I(4,107)),new b(22,new I(8,37),new I(1,38)),new b(24,new I(8,20),new I(4,21)),new b(22,new I(12,11),new I(4,12))),new ie(14,Int32Array.from([6,26,46,66]),new b(30,new I(3,115),new I(1,116)),new b(24,new I(4,40),new I(5,41)),new b(20,new I(11,16),new I(5,17)),new b(24,new I(11,12),new I(5,13))),new ie(15,Int32Array.from([6,26,48,70]),new b(22,new I(5,87),new I(1,88)),new b(24,new I(5,41),new I(5,42)),new b(30,new I(5,24),new I(7,25)),new b(24,new I(11,12),new I(7,13))),new ie(16,Int32Array.from([6,26,50,74]),new b(24,new I(5,98),new I(1,99)),new b(28,new I(7,45),new I(3,46)),new b(24,new I(15,19),new I(2,20)),new b(30,new I(3,15),new I(13,16))),new ie(17,Int32Array.from([6,30,54,78]),new b(28,new I(1,107),new I(5,108)),new b(28,new I(10,46),new I(1,47)),new b(28,new I(1,22),new I(15,23)),new b(28,new I(2,14),new I(17,15))),new ie(18,Int32Array.from([6,30,56,82]),new b(30,new I(5,120),new I(1,121)),new b(26,new I(9,43),new I(4,44)),new b(28,new I(17,22),new I(1,23)),new b(28,new I(2,14),new I(19,15))),new ie(19,Int32Array.from([6,30,58,86]),new b(28,new I(3,113),new I(4,114)),new b(26,new I(3,44),new I(11,45)),new b(26,new I(17,21),new I(4,22)),new b(26,new I(9,13),new I(16,14))),new ie(20,Int32Array.from([6,34,62,90]),new b(28,new I(3,107),new I(5,108)),new b(26,new I(3,41),new I(13,42)),new b(30,new I(15,24),new I(5,25)),new b(28,new I(15,15),new I(10,16))),new ie(21,Int32Array.from([6,28,50,72,94]),new b(28,new I(4,116),new I(4,117)),new b(26,new I(17,42)),new b(28,new I(17,22),new I(6,23)),new b(30,new I(19,16),new I(6,17))),new ie(22,Int32Array.from([6,26,50,74,98]),new b(28,new I(2,111),new I(7,112)),new b(28,new I(17,46)),new b(30,new I(7,24),new I(16,25)),new b(24,new I(34,13))),new ie(23,Int32Array.from([6,30,54,78,102]),new b(30,new I(4,121),new I(5,122)),new b(28,new I(4,47),new I(14,48)),new b(30,new I(11,24),new I(14,25)),new b(30,new I(16,15),new I(14,16))),new ie(24,Int32Array.from([6,28,54,80,106]),new b(30,new I(6,117),new I(4,118)),new b(28,new I(6,45),new I(14,46)),new b(30,new I(11,24),new I(16,25)),new b(30,new I(30,16),new I(2,17))),new ie(25,Int32Array.from([6,32,58,84,110]),new b(26,new I(8,106),new I(4,107)),new b(28,new I(8,47),new I(13,48)),new b(30,new I(7,24),new I(22,25)),new b(30,new I(22,15),new I(13,16))),new ie(26,Int32Array.from([6,30,58,86,114]),new b(28,new I(10,114),new I(2,115)),new b(28,new I(19,46),new I(4,47)),new b(28,new I(28,22),new I(6,23)),new b(30,new I(33,16),new I(4,17))),new ie(27,Int32Array.from([6,34,62,90,118]),new b(30,new I(8,122),new I(4,123)),new b(28,new I(22,45),new I(3,46)),new b(30,new I(8,23),new I(26,24)),new b(30,new I(12,15),new I(28,16))),new ie(28,Int32Array.from([6,26,50,74,98,122]),new b(30,new I(3,117),new I(10,118)),new b(28,new I(3,45),new I(23,46)),new b(30,new I(4,24),new I(31,25)),new b(30,new I(11,15),new I(31,16))),new ie(29,Int32Array.from([6,30,54,78,102,126]),new b(30,new I(7,116),new I(7,117)),new b(28,new I(21,45),new I(7,46)),new b(30,new I(1,23),new I(37,24)),new b(30,new I(19,15),new I(26,16))),new ie(30,Int32Array.from([6,26,52,78,104,130]),new b(30,new I(5,115),new I(10,116)),new b(28,new I(19,47),new I(10,48)),new b(30,new I(15,24),new I(25,25)),new b(30,new I(23,15),new I(25,16))),new ie(31,Int32Array.from([6,30,56,82,108,134]),new b(30,new I(13,115),new I(3,116)),new b(28,new I(2,46),new I(29,47)),new b(30,new I(42,24),new I(1,25)),new b(30,new I(23,15),new I(28,16))),new ie(32,Int32Array.from([6,34,60,86,112,138]),new b(30,new I(17,115)),new b(28,new I(10,46),new I(23,47)),new b(30,new I(10,24),new I(35,25)),new b(30,new I(19,15),new I(35,16))),new ie(33,Int32Array.from([6,30,58,86,114,142]),new b(30,new I(17,115),new I(1,116)),new b(28,new I(14,46),new I(21,47)),new b(30,new I(29,24),new I(19,25)),new b(30,new I(11,15),new I(46,16))),new ie(34,Int32Array.from([6,34,62,90,118,146]),new b(30,new I(13,115),new I(6,116)),new b(28,new I(14,46),new I(23,47)),new b(30,new I(44,24),new I(7,25)),new b(30,new I(59,16),new I(1,17))),new ie(35,Int32Array.from([6,30,54,78,102,126,150]),new b(30,new I(12,121),new I(7,122)),new b(28,new I(12,47),new I(26,48)),new b(30,new I(39,24),new I(14,25)),new b(30,new I(22,15),new I(41,16))),new ie(36,Int32Array.from([6,24,50,76,102,128,154]),new b(30,new I(6,121),new I(14,122)),new b(28,new I(6,47),new I(34,48)),new b(30,new I(46,24),new I(10,25)),new b(30,new I(2,15),new I(64,16))),new ie(37,Int32Array.from([6,28,54,80,106,132,158]),new b(30,new I(17,122),new I(4,123)),new b(28,new I(29,46),new I(14,47)),new b(30,new I(49,24),new I(10,25)),new b(30,new I(24,15),new I(46,16))),new ie(38,Int32Array.from([6,32,58,84,110,136,162]),new b(30,new I(4,122),new I(18,123)),new b(28,new I(13,46),new I(32,47)),new b(30,new I(48,24),new I(14,25)),new b(30,new I(42,15),new I(32,16))),new ie(39,Int32Array.from([6,26,54,82,110,138,166]),new b(30,new I(20,117),new I(4,118)),new b(28,new I(40,47),new I(7,48)),new b(30,new I(43,24),new I(22,25)),new b(30,new I(10,15),new I(67,16))),new ie(40,Int32Array.from([6,30,58,86,114,142,170]),new b(30,new I(19,118),new I(6,119)),new b(28,new I(18,47),new I(31,48)),new b(30,new I(34,24),new I(34,25)),new b(30,new I(20,15),new I(61,16)))];var dt;(function(m){m[m.DATA_MASK_000=0]="DATA_MASK_000",m[m.DATA_MASK_001=1]="DATA_MASK_001",m[m.DATA_MASK_010=2]="DATA_MASK_010",m[m.DATA_MASK_011=3]="DATA_MASK_011",m[m.DATA_MASK_100=4]="DATA_MASK_100",m[m.DATA_MASK_101=5]="DATA_MASK_101",m[m.DATA_MASK_110=6]="DATA_MASK_110",m[m.DATA_MASK_111=7]="DATA_MASK_111"})(dt||(dt={}));class nn{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let l=0;l<n;l++)this.isMasked(i,l)&&e.flip(l,i)}}nn.values=new Map([[dt.DATA_MASK_000,new nn(dt.DATA_MASK_000,(m,e)=>(m+e&1)===0)],[dt.DATA_MASK_001,new nn(dt.DATA_MASK_001,(m,e)=>(m&1)===0)],[dt.DATA_MASK_010,new nn(dt.DATA_MASK_010,(m,e)=>e%3===0)],[dt.DATA_MASK_011,new nn(dt.DATA_MASK_011,(m,e)=>(m+e)%3===0)],[dt.DATA_MASK_100,new nn(dt.DATA_MASK_100,(m,e)=>(Math.floor(m/2)+Math.floor(e/3)&1)===0)],[dt.DATA_MASK_101,new nn(dt.DATA_MASK_101,(m,e)=>m*e%6===0)],[dt.DATA_MASK_110,new nn(dt.DATA_MASK_110,(m,e)=>m*e%6<3)],[dt.DATA_MASK_111,new nn(dt.DATA_MASK_111,(m,e)=>(m+e+m*e%3&1)===0)]]);class dh{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new L;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let i=0;const l=n-7;for(let o=n-1;o>=l;o--)i=this.copyBit(8,o,i);for(let o=n-8;o<n;o++)i=this.copyBit(o,8,i);if(this.parsedFormatInfo=vt.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return ie.getVersionForNumber(n);let i=0;const l=e-11;for(let a=5;a>=0;a--)for(let c=e-9;c>=l;c--)i=this.copyBit(c,a,i);let o=ie.decodeVersionInformation(i);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;i=0;for(let a=5;a>=0;a--)for(let c=e-9;c>=l;c--)i=this.copyBit(a,c,i);if(o=ie.decodeVersionInformation(i),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new L}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=nn.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const o=n.buildFunctionPattern();let a=!0;const c=new Uint8Array(n.getTotalCodewords());let d=0,g=0,p=0;for(let E=l-1;E>0;E-=2){E===6&&E--;for(let C=0;C<l;C++){const S=a?l-1-C:C;for(let _=0;_<2;_++)o.get(E-_,S)||(p++,g<<=1,this.bitMatrix.get(E-_,S)&&(g|=1),p===8&&(c[d++]=g,p=0,g=0))}a=!a}if(d!==n.getTotalCodewords())throw new L;return c}remask(){if(this.parsedFormatInfo===null)return;const e=nn.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let l=n+1,o=e.getHeight();l<o;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class Eo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new N;const l=n.getECBlocksForLevel(i);let o=0;const a=l.getECBlocks();for(const _ of a)o+=_.getCount();const c=new Array(o);let d=0;for(const _ of a)for(let R=0;R<_.getCount();R++){const M=_.getDataCodewords(),P=l.getECCodewordsPerBlock()+M;c[d++]=new Eo(M,new Uint8Array(P))}const g=c[0].codewords.length;let p=c.length-1;for(;p>=0&&c[p].codewords.length!==g;)p--;p++;const E=g-l.getECCodewordsPerBlock();let C=0;for(let _=0;_<E;_++)for(let R=0;R<d;R++)c[R].codewords[_]=e[C++];for(let _=p;_<d;_++)c[_].codewords[E]=e[C++];const S=c[0].codewords.length;for(let _=E;_<S;_++)for(let R=0;R<d;R++){const M=R<p?_:_+1;c[R].codewords[M]=e[C++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var rn;(function(m){m[m.TERMINATOR=0]="TERMINATOR",m[m.NUMERIC=1]="NUMERIC",m[m.ALPHANUMERIC=2]="ALPHANUMERIC",m[m.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",m[m.BYTE=4]="BYTE",m[m.ECI=5]="ECI",m[m.KANJI=6]="KANJI",m[m.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",m[m.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",m[m.HANZI=9]="HANZI"})(rn||(rn={}));class le{constructor(e,n,i,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=l,le.FOR_BITS.set(l,this),le.FOR_VALUE.set(e,this)}static forBits(e){const n=le.FOR_BITS.get(e);if(n===void 0)throw new N;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof le))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}le.FOR_BITS=new Map,le.FOR_VALUE=new Map,le.TERMINATOR=new le(rn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),le.NUMERIC=new le(rn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),le.ALPHANUMERIC=new le(rn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),le.STRUCTURED_APPEND=new le(rn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),le.BYTE=new le(rn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),le.ECI=new le(rn.ECI,"ECI",Int32Array.from([0,0,0]),7),le.KANJI=new le(rn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),le.FNC1_FIRST_POSITION=new le(rn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),le.FNC1_SECOND_POSITION=new le(rn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),le.HANZI=new le(rn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class je{static decode(e,n,i,l){const o=new mo(e);let a=new Ae;const c=new Array;let d=-1,g=-1;try{let p=null,E=!1,C;do{if(o.available()<4)C=le.TERMINATOR;else{const S=o.readBits(4);C=le.forBits(S)}switch(C){case le.TERMINATOR:break;case le.FNC1_FIRST_POSITION:case le.FNC1_SECOND_POSITION:E=!0;break;case le.STRUCTURED_APPEND:if(o.available()<16)throw new L;d=o.readBits(8),g=o.readBits(8);break;case le.ECI:const S=je.parseECIValue(o);if(p=V.getCharacterSetECIByValue(S),p===null)throw new L;break;case le.HANZI:const _=o.readBits(4),R=o.readBits(C.getCharacterCountBits(n));_===je.GB2312_SUBSET&&je.decodeHanziSegment(o,a,R);break;default:const M=o.readBits(C.getCharacterCountBits(n));switch(C){case le.NUMERIC:je.decodeNumericSegment(o,a,M);break;case le.ALPHANUMERIC:je.decodeAlphanumericSegment(o,a,M,E);break;case le.BYTE:je.decodeByteSegment(o,a,M,p,c,l);break;case le.KANJI:je.decodeKanjiSegment(o,a,M);break;default:throw new L}break}}while(C!==le.TERMINATOR)}catch{throw new L}return new Ni(e,a.toString(),c.length===0?null:c,i===null?null:i.toString(),d,g)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new L;const l=new Uint8Array(2*i);let o=0;for(;i>0;){const a=e.readBits(13);let c=a/96<<8&4294967295|a%96;c<959?c+=41377:c+=42657,l[o]=c>>8&255,l[o+1]=c&255,o+=2,i--}try{n.append(Pe.decode(l,ae.GB2312))}catch(a){throw new L(a)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new L;const l=new Uint8Array(2*i);let o=0;for(;i>0;){const a=e.readBits(13);let c=a/192<<8&4294967295|a%192;c<7936?c+=33088:c+=49472,l[o]=c>>8,l[o+1]=c,o+=2,i--}try{n.append(Pe.decode(l,ae.SHIFT_JIS))}catch(a){throw new L(a)}}static decodeByteSegment(e,n,i,l,o,a){if(8*i>e.available())throw new L;const c=new Uint8Array(i);for(let g=0;g<i;g++)c[g]=e.readBits(8);let d;l===null?d=ae.guessEncoding(c,a):d=l.getName();try{n.append(Pe.decode(c,d))}catch(g){throw new L(g)}o.push(c)}static toAlphaNumericChar(e){if(e>=je.ALPHANUMERIC_CHARS.length)throw new L;return je.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,l){const o=n.length();for(;i>1;){if(e.available()<11)throw new L;const a=e.readBits(11);n.append(je.toAlphaNumericChar(Math.floor(a/45))),n.append(je.toAlphaNumericChar(a%45)),i-=2}if(i===1){if(e.available()<6)throw new L;n.append(je.toAlphaNumericChar(e.readBits(6)))}if(l)for(let a=o;a<n.length();a++)n.charAt(a)==="%"&&(a<n.length()-1&&n.charAt(a+1)==="%"?n.deleteCharAt(a+1):n.setCharAt(a,String.fromCharCode(29)))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new L;const l=e.readBits(10);if(l>=1e3)throw new L;n.append(je.toAlphaNumericChar(Math.floor(l/100))),n.append(je.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(je.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(e.available()<7)throw new L;const l=e.readBits(7);if(l>=100)throw new L;n.append(je.toAlphaNumericChar(Math.floor(l/10))),n.append(je.toAlphaNumericChar(l%10))}else if(i===1){if(e.available()<4)throw new L;const l=e.readBits(4);if(l>=10)throw new L;n.append(je.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new L}}je.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",je.GB2312_SUBSET=1;class nu{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class gh{constructor(){this.rsDecoder=new Oi(Te.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(tt.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new dh(e);let l=null;try{return this.decodeBitMatrixParser(i,n)}catch(o){l=o}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const o=this.decodeBitMatrixParser(i,n);return o.setOther(new nu(!0)),o}catch(o){throw l!==null?l:o}}decodeBitMatrixParser(e,n){const i=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),a=Eo.getDataBlocks(o,i,l);let c=0;for(const p of a)c+=p.getNumDataCodewords();const d=new Uint8Array(c);let g=0;for(const p of a){const E=p.getCodewords(),C=p.getNumDataCodewords();this.correctErrors(E,C);for(let S=0;S<C;S++)d[g++]=E[S]}return je.decode(d,i,l,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new H}for(let l=0;l<n;l++)e[l]=i[l]}}class Co extends ne{constructor(e,n,i){super(e,n),this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=(this.getX()+n)/2,o=(this.getY()+e)/2,a=(this.estimatedModuleSize+i)/2;return new Co(l,o,a)}}class Us{constructor(e,n,i,l,o,a,c){this.image=e,this.startX=n,this.startY=i,this.width=l,this.height=o,this.moduleSize=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,l=e+i,o=this.startY+n/2,a=new Int32Array(3),c=this.image;for(let d=0;d<n;d++){const g=o+(d&1?-Math.floor((d+1)/2):Math.floor((d+1)/2));a[0]=0,a[1]=0,a[2]=0;let p=e;for(;p<l&&!c.get(p,g);)p++;let E=0;for(;p<l;){if(c.get(p,g))if(E===1)a[1]++;else if(E===2){if(this.foundPatternCross(a)){const C=this.handlePossibleCenter(a,g,p);if(C!==null)return C}a[0]=a[2],a[1]=1,a[2]=0,E=1}else a[++E]++;else E===1&&E++,a[E]++;p++}if(this.foundPatternCross(a)){const C=this.handlePossibleCenter(a,g,l);if(C!==null)return C}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new U}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=i)return!1;return!0}crossCheckVertical(e,n,i,l){const o=this.image,a=o.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let d=e;for(;d>=0&&o.get(n,d)&&c[1]<=i;)c[1]++,d--;if(d<0||c[1]>i)return NaN;for(;d>=0&&!o.get(n,d)&&c[0]<=i;)c[0]++,d--;if(c[0]>i)return NaN;for(d=e+1;d<a&&o.get(n,d)&&c[1]<=i;)c[1]++,d++;if(d===a||c[1]>i)return NaN;for(;d<a&&!o.get(n,d)&&c[2]<=i;)c[2]++,d++;if(c[2]>i)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-l)>=2*l?NaN:this.foundPatternCross(c)?Us.centerFromEnd(c,d):NaN}handlePossibleCenter(e,n,i){const l=e[0]+e[1]+e[2],o=Us.centerFromEnd(e,i),a=this.crossCheckVertical(n,o,2*e[1],l);if(!isNaN(a)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,a,o))return g.combineEstimate(a,o,c);const d=new Co(o,a,c);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Ao extends ne{constructor(e,n,i,l){super(e,n),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=this.count+1,o=(this.count*this.getX()+n)/l,a=(this.count*this.getY()+e)/l,c=(this.count*this.estimatedModuleSize+i)/l;return new Ao(o,a,c,l)}}class xh{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class gt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(Q.TRY_HARDER)!==void 0,i=e!=null&&e.get(Q.PURE_BARCODE)!==void 0,l=this.image,o=l.getHeight(),a=l.getWidth();let c=Math.floor(3*o/(4*gt.MAX_MODULES));(c<gt.MIN_SKIP||n)&&(c=gt.MIN_SKIP);let d=!1;const g=new Int32Array(5);for(let E=c-1;E<o&&!d;E+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let C=0;for(let S=0;S<a;S++)if(l.get(S,E))(C&1)===1&&C++,g[C]++;else if(C&1)g[C]++;else if(C===4)if(gt.foundPatternCross(g)){if(this.handlePossibleCenter(g,E,S,i)===!0)if(c=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const R=this.findRowSkip();R>g[2]&&(E+=R-g[2]-c,S=a-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,C=3;continue}C=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,C=3;else g[++C]++;gt.foundPatternCross(g)&&this.handlePossibleCenter(g,E,a,i)===!0&&(c=g[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const p=this.selectBestPatterns();return ne.orderBestPatterns(p),new xh(p)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const a=e[o];if(a===0)return!1;n+=a}if(n<7)return!1;const i=n/7,l=i/2;return Math.abs(i-e[0])<l&&Math.abs(i-e[1])<l&&Math.abs(3*i-e[2])<3*l&&Math.abs(i-e[3])<l&&Math.abs(i-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,l){const o=this.getCrossCheckStateCount();let a=0;const c=this.image;for(;e>=a&&n>=a&&c.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!c.get(n-a,e-a)&&o[1]<=i;)o[1]++,a++;if(e<a||n<a||o[1]>i)return!1;for(;e>=a&&n>=a&&c.get(n-a,e-a)&&o[0]<=i;)o[0]++,a++;if(o[0]>i)return!1;const d=c.getHeight(),g=c.getWidth();for(a=1;e+a<d&&n+a<g&&c.get(n+a,e+a);)o[2]++,a++;if(e+a>=d||n+a>=g)return!1;for(;e+a<d&&n+a<g&&!c.get(n+a,e+a)&&o[3]<i;)o[3]++,a++;if(e+a>=d||n+a>=g||o[3]>=i)return!1;for(;e+a<d&&n+a<g&&c.get(n+a,e+a)&&o[4]<i;)o[4]++,a++;if(o[4]>=i)return!1;const p=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(p-l)<2*l&&gt.foundPatternCross(o)}crossCheckVertical(e,n,i,l){const o=this.image,a=o.getHeight(),c=this.getCrossCheckStateCount();let d=e;for(;d>=0&&o.get(n,d);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(n,d)&&c[1]<=i;)c[1]++,d--;if(d<0||c[1]>i)return NaN;for(;d>=0&&o.get(n,d)&&c[0]<=i;)c[0]++,d--;if(c[0]>i)return NaN;for(d=e+1;d<a&&o.get(n,d);)c[2]++,d++;if(d===a)return NaN;for(;d<a&&!o.get(n,d)&&c[3]<i;)c[3]++,d++;if(d===a||c[3]>=i)return NaN;for(;d<a&&o.get(n,d)&&c[4]<i;)c[4]++,d++;if(c[4]>=i)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-l)>=2*l?NaN:gt.foundPatternCross(c)?gt.centerFromEnd(c,d):NaN}crossCheckHorizontal(e,n,i,l){const o=this.image,a=o.getWidth(),c=this.getCrossCheckStateCount();let d=e;for(;d>=0&&o.get(d,n);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(d,n)&&c[1]<=i;)c[1]++,d--;if(d<0||c[1]>i)return NaN;for(;d>=0&&o.get(d,n)&&c[0]<=i;)c[0]++,d--;if(c[0]>i)return NaN;for(d=e+1;d<a&&o.get(d,n);)c[2]++,d++;if(d===a)return NaN;for(;d<a&&!o.get(d,n)&&c[3]<i;)c[3]++,d++;if(d===a||c[3]>=i)return NaN;for(;d<a&&o.get(d,n)&&c[4]<i;)c[4]++,d++;if(c[4]>=i)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-l)>=l?NaN:gt.foundPatternCross(c)?gt.centerFromEnd(c,d):NaN}handlePossibleCenter(e,n,i,l){const o=e[0]+e[1]+e[2]+e[3]+e[4];let a=gt.centerFromEnd(e,i),c=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(c)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(c),e[2],o),!isNaN(a)&&(!l||this.crossCheckDiagonal(Math.floor(c),Math.floor(a),e[2],o)))){const d=o/7;let g=!1;const p=this.possibleCenters;for(let E=0,C=p.length;E<C;E++){const S=p[E];if(S.aboutEquals(d,c,a)){p[E]=S.combineEstimate(c,a,d),g=!0;break}}if(!g){const E=new Ao(a,c,d);p.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=gt.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=gt.CENTER_QUORUM&&(e++,n+=a.getEstimatedModuleSize());if(e<3)return!1;const l=n/i;let o=0;for(const a of this.possibleCenters)o+=Math.abs(a.getEstimatedModuleSize()-l);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new U;const n=this.possibleCenters;let i;if(e>3){let l=0,o=0;for(const d of this.possibleCenters){const g=d.getEstimatedModuleSize();l+=g,o+=g*g}i=l/e;let a=Math.sqrt(o/e-i*i);n.sort((d,g)=>{const p=Math.abs(g.getEstimatedModuleSize()-i),E=Math.abs(d.getEstimatedModuleSize()-i);return p<E?-1:p>E?1:0});const c=Math.max(.2*i,a);for(let d=0;d<n.length&&n.length>3;d++){const g=n[d];Math.abs(g.getEstimatedModuleSize()-i)>c&&(n.splice(d,1),d--)}}if(n.length>3){let l=0;for(const o of n)l+=o.getEstimatedModuleSize();i=l/n.length,n.sort((o,a)=>{if(a.getCount()===o.getCount()){const c=Math.abs(a.getEstimatedModuleSize()-i),d=Math.abs(o.getEstimatedModuleSize()-i);return c<d?1:c>d?-1:0}else return a.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}gt.CENTER_QUORUM=2,gt.MIN_SKIP=3,gt.MAX_MODULES=57;class Di{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Q.NEED_RESULT_POINT_CALLBACK);const i=new gt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),l=e.getBottomLeft(),o=this.calculateModuleSize(n,i,l);if(o<1)throw new U("No pattern found in proccess finder.");const a=Di.computeDimension(n,i,l,o),c=ie.getProvisionalVersionForDimension(a),d=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const S=i.getX()-n.getX()+l.getX(),_=i.getY()-n.getY()+l.getY(),R=1-3/d,M=Math.floor(n.getX()+R*(S-n.getX())),P=Math.floor(n.getY()+R*(_-n.getY()));for(let j=4;j<=16;j<<=1)try{g=this.findAlignmentInRegion(o,M,P,j);break}catch(Y){if(!(Y instanceof U))throw Y}}const p=Di.createTransform(n,i,l,g,a),E=Di.sampleGrid(this.image,p,a);let C;return g===null?C=[l,n,i]:C=[l,n,i,g],new ks(E,C)}static createTransform(e,n,i,l,o){const a=o-3.5;let c,d,g,p;return l!==null?(c=l.getX(),d=l.getY(),g=a-3,p=g):(c=n.getX()-e.getX()+i.getX(),d=n.getY()-e.getY()+i.getY(),g=a,p=a),hn.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,g,p,3.5,a,e.getX(),e.getY(),n.getX(),n.getY(),c,d,i.getX(),i.getY())}static sampleGrid(e,n,i){return Yn.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,l){const o=Ie.round(ne.distance(e,n)/l),a=Ie.round(ne.distance(e,i)/l);let c=Math.floor((o+a)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new U("Dimensions could be not found.")}return c}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,l){let o=this.sizeOfBlackWhiteBlackRun(e,n,i,l),a=1,c=e-(i-e);c<0?(a=e/(e-c),c=0):c>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let d=Math.floor(n-(l-n)*a);return a=1,d<0?(a=n/(n-d),d=0):d>=this.image.getHeight()&&(a=(this.image.getHeight()-1-n)/(d-n),d=this.image.getHeight()-1),c=Math.floor(e+(c-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,n,c,d),o-1}sizeOfBlackWhiteBlackRun(e,n,i,l){const o=Math.abs(l-n)>Math.abs(i-e);if(o){let S=e;e=n,n=S,S=i,i=l,l=S}const a=Math.abs(i-e),c=Math.abs(l-n);let d=-a/2;const g=e<i?1:-1,p=n<l?1:-1;let E=0;const C=i+g;for(let S=e,_=n;S!==C;S+=g){const R=o?_:S,M=o?S:_;if(E===1===this.image.get(R,M)){if(E===2)return Ie.distance(S,_,e,n);E++}if(d+=c,d>0){if(_===l)break;_+=p,d-=a}}return E===2?Ie.distance(i+g,l,e,n):NaN}findAlignmentInRegion(e,n,i,l){const o=Math.floor(l*e),a=Math.max(0,n-o),c=Math.min(this.image.getWidth()-1,n+o);if(c-a<e*3)throw new U("Alignment top exceeds estimated module size.");const d=Math.max(0,i-o),g=Math.min(this.image.getHeight()-1,i+o);if(g-d<e*3)throw new U("Alignment bottom exceeds estimated module size.");return new Us(this.image,a,d,c-a,g-d,e,this.resultPointCallback).find()}}class qn{constructor(){this.decoder=new gh}getDecoder(){return this.decoder}decode(e,n){let i,l;if(n!=null&&n.get(Q.PURE_BARCODE)!==void 0){const d=qn.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(d,n),l=qn.NO_POINTS}else{const d=new Di(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(d.getBits(),n),l=d.getPoints()}i.getOther()instanceof nu&&i.getOther().applyMirroredCorrection(l);const o=new Xe(i.getText(),i.getRawBytes(),void 0,l,re.QR_CODE,void 0),a=i.getByteSegments();a!==null&&o.putMetadata(ht.BYTE_SEGMENTS,a);const c=i.getECLevel();return c!==null&&o.putMetadata(ht.ERROR_CORRECTION_LEVEL,c),i.hasStructuredAppend()&&(o.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),o.putMetadata(ht.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new U;const l=this.moduleSize(n,e);let o=n[1],a=i[1],c=n[0],d=i[0];if(c>=d||o>=a)throw new U;if(a-o!==d-c&&(d=c+(a-o),d>=e.getWidth()))throw new U;const g=Math.round((d-c+1)/l),p=Math.round((a-o+1)/l);if(g<=0||p<=0)throw new U;if(p!==g)throw new U;const E=Math.floor(l/2);o+=E,c+=E;const C=c+Math.floor((g-1)*l)-d;if(C>0){if(C>E)throw new U;c-=C}const S=o+Math.floor((p-1)*l)-a;if(S>0){if(S>E)throw new U;o-=S}const _=new tt(g,p);for(let R=0;R<p;R++){const M=o+Math.floor(R*l);for(let P=0;P<g;P++)e.get(c+Math.floor(P*l),M)&&_.set(P,R)}return _}static moduleSize(e,n){const i=n.getHeight(),l=n.getWidth();let o=e[0],a=e[1],c=!0,d=0;for(;o<l&&a<i;){if(c!==n.get(o,a)){if(++d===5)break;c=!c}o++,a++}if(o===l||a===i)throw new U;return(o-e[0])/7}}qn.NO_POINTS=new Array;class fe{PDF417Common(){}static getBitCountSum(e){return Ie.sum(e)}static toIntArray(e){if(e==null||!e.length)return fe.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const l of e)n[i++]=l;return n}static getCodeword(e){const n=v.binarySearch(fe.SYMBOL_TABLE,e&262143);return n<0?-1:(fe.CODEWORD_TABLE[n]-1)%fe.NUMBER_OF_CODEWORDS}}fe.NUMBER_OF_CODEWORDS=929,fe.MAX_CODEWORDS_IN_BARCODE=fe.NUMBER_OF_CODEWORDS-1,fe.MIN_ROWS_IN_BARCODE=3,fe.MAX_ROWS_IN_BARCODE=90,fe.MODULES_IN_CODEWORD=17,fe.MODULES_IN_STOP_PATTERN=18,fe.BARS_IN_MODULE=8,fe.EMPTY_INT_ARRAY=new Int32Array([]),fe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),fe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ph{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class pe{static detectMultiple(e,n,i){let l=e.getBlackMatrix(),o=pe.detect(i,l);return o.length||(l=l.clone(),l.rotate180(),o=pe.detect(i,l)),new ph(l,o)}static detect(e,n){const i=new Array;let l=0,o=0,a=!1;for(;l<n.getHeight();){const c=pe.findVertices(n,l,o);if(c[0]==null&&c[3]==null){if(!a)break;a=!1,o=0;for(const d of i)d[1]!=null&&(l=Math.trunc(Math.max(l,d[1].getY()))),d[3]!=null&&(l=Math.max(l,Math.trunc(d[3].getY())));l+=pe.ROW_STEP;continue}if(a=!0,i.push(c),!e)break;c[2]!=null?(o=Math.trunc(c[2].getX()),l=Math.trunc(c[2].getY())):(o=Math.trunc(c[4].getX()),l=Math.trunc(c[4].getY()))}return i}static findVertices(e,n,i){const l=e.getHeight(),o=e.getWidth(),a=new Array(8);return pe.copyToResult(a,pe.findRowsWithPattern(e,l,o,n,i,pe.START_PATTERN),pe.INDEXES_START_PATTERN),a[4]!=null&&(i=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),pe.copyToResult(a,pe.findRowsWithPattern(e,l,o,n,i,pe.STOP_PATTERN),pe.INDEXES_STOP_PATTERN),a}static copyToResult(e,n,i){for(let l=0;l<i.length;l++)e[i[l]]=n[l]}static findRowsWithPattern(e,n,i,l,o,a){const c=new Array(4);let d=!1;const g=new Int32Array(a.length);for(;l<n;l+=pe.ROW_STEP){let E=pe.findGuardPattern(e,o,l,i,!1,a,g);if(E!=null){for(;l>0;){const C=pe.findGuardPattern(e,o,--l,i,!1,a,g);if(C!=null)E=C;else{l++;break}}c[0]=new ne(E[0],l),c[1]=new ne(E[1],l),d=!0;break}}let p=l+1;if(d){let E=0,C=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;p<n;p++){const S=pe.findGuardPattern(e,C[0],p,i,!1,a,g);if(S!=null&&Math.abs(C[0]-S[0])<pe.MAX_PATTERN_DRIFT&&Math.abs(C[1]-S[1])<pe.MAX_PATTERN_DRIFT)C=S,E=0;else{if(E>pe.SKIPPED_ROW_COUNT_MAX)break;E++}}p-=E+1,c[2]=new ne(C[0],p),c[3]=new ne(C[1],p)}return p-l<pe.BARCODE_MIN_HEIGHT&&v.fill(c,null),c}static findGuardPattern(e,n,i,l,o,a,c){v.fillWithin(c,0,c.length,0);let d=n,g=0;for(;e.get(d,i)&&d>0&&g++<pe.MAX_PIXEL_DRIFT;)d--;let p=d,E=0,C=a.length;for(let S=o;p<l;p++)if(e.get(p,i)!==S)c[E]++;else{if(E===C-1){if(pe.patternMatchVariance(c,a,pe.MAX_INDIVIDUAL_VARIANCE)<pe.MAX_AVG_VARIANCE)return new Int32Array([d,p]);d+=c[0]+c[1],z.arraycopy(c,2,c,0,E-1),c[E-1]=0,c[E]=0,E--}else E++;c[E]=1,S=!S}return E===C-1&&pe.patternMatchVariance(c,a,pe.MAX_INDIVIDUAL_VARIANCE)<pe.MAX_AVG_VARIANCE?new Int32Array([d,p-1]):null}static patternMatchVariance(e,n,i){let l=e.length,o=0,a=0;for(let g=0;g<l;g++)o+=e[g],a+=n[g];if(o<a)return 1/0;let c=o/a;i*=c;let d=0;for(let g=0;g<l;g++){let p=e[g],E=n[g]*c,C=p>E?p-E:E-p;if(C>i)return 1/0;d+=C}return d/o}}pe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),pe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),pe.MAX_AVG_VARIANCE=.42,pe.MAX_INDIVIDUAL_VARIANCE=.8,pe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),pe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),pe.MAX_PIXEL_DRIFT=3,pe.MAX_PATTERN_DRIFT=5,pe.SKIPPED_ROW_COUNT_MAX=25,pe.ROW_STEP=5,pe.BARCODE_MIN_HEIGHT=10;class mt{constructor(e,n){if(n.length===0)throw new N;this.field=e;let i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),z.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let o of this.coefficients)l=this.field.add(l,o);return l}let n=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let a=n;n=i,i=a}let l=new Int32Array(i.length),o=i.length-n.length;z.arraycopy(i,0,l,0,o);for(let a=o;a<i.length;a++)l[a]=this.field.add(n[a-o],i[a]);return new mt(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new N("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof mt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new mt(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,l=e.coefficients,o=l.length,a=new Int32Array(i+o-1);for(let c=0;c<i;c++){let d=n[c];for(let g=0;g<o;g++)a[c+g]=this.field.add(a[c+g],this.field.multiply(d,l[g]))}return new mt(this.field,a)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new mt(this.field,n)}multiplyScalar(e){if(e===0)return new mt(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let l=0;l<n;l++)i[l]=this.field.multiply(this.coefficients[l],e);return new mt(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new N;if(n===0)return new mt(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+e);for(let o=0;o<i;o++)l[o]=this.field.multiply(this.coefficients[o],n);return new mt(this.field,l)}toString(){let e=new Ae;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class wh{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new N;return this.logTable[e]}inverse(e){if(e===0)throw new Ms;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class yo extends wh{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let l=0;l<e;l++)this.expTable[l]=i,i=i*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new mt(this,new Int32Array([0])),this.one=new mt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new N;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new mt(this,i)}}yo.PDF417_GF=new yo(fe.NUMBER_OF_CODEWORDS,3);class ru{constructor(){this.field=yo.PDF417_GF}decode(e,n,i){let l=new mt(this.field,e),o=new Int32Array(n),a=!1;for(let _=n;_>0;_--){let R=l.evaluateAt(this.field.exp(_));o[n-_]=R,R!==0&&(a=!0)}if(!a)return 0;let c=this.field.getOne();if(i!=null)for(const _ of i){let R=this.field.exp(e.length-1-_),M=new mt(this.field,new Int32Array([this.field.subtract(0,R),1]));c=c.multiply(M)}let d=new mt(this.field,o),g=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),d,n),p=g[0],E=g[1],C=this.findErrorLocations(p),S=this.findErrorMagnitudes(E,p,C);for(let _=0;_<C.length;_++){let R=e.length-1-this.field.log(C[_]);if(R<0)throw H.getChecksumInstance();e[R]=this.field.subtract(e[R],S[_])}return C.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let C=e;e=n,n=C}let l=e,o=n,a=this.field.getZero(),c=this.field.getOne();for(;o.getDegree()>=Math.round(i/2);){let C=l,S=a;if(l=o,a=c,l.isZero())throw H.getChecksumInstance();o=C;let _=this.field.getZero(),R=l.getCoefficient(l.getDegree()),M=this.field.inverse(R);for(;o.getDegree()>=l.getDegree()&&!o.isZero();){let P=o.getDegree()-l.getDegree(),j=this.field.multiply(o.getCoefficient(o.getDegree()),M);_=_.add(this.field.buildMonomial(P,j)),o=o.subtract(l.multiplyByMonomial(P,j))}c=_.multiply(a).subtract(S).negative()}let d=c.getCoefficient(0);if(d===0)throw H.getChecksumInstance();let g=this.field.inverse(d),p=c.multiply(g),E=o.multiply(g);return[p,E]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),l=0;for(let o=1;o<this.field.getSize()&&l<n;o++)e.evaluateAt(o)===0&&(i[l]=this.field.inverse(o),l++);if(l!==n)throw H.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let l=n.getDegree(),o=new Int32Array(l);for(let g=1;g<=l;g++)o[l-g]=this.field.multiply(g,n.getCoefficient(g));let a=new mt(this.field,o),c=i.length,d=new Int32Array(c);for(let g=0;g<c;g++){let p=this.field.inverse(i[g]),E=this.field.subtract(0,e.evaluateAt(p)),C=this.field.inverse(a.evaluateAt(p));d[g]=this.field.multiply(E,C)}return d}}class Sr{constructor(e,n,i,l,o){e instanceof Sr?this.constructor_2(e):this.constructor_1(e,n,i,l,o)}constructor_1(e,n,i,l,o){const a=n==null||i==null,c=l==null||o==null;if(a&&c)throw new U;a?(n=new ne(0,l.getY()),i=new ne(0,o.getY())):c&&(l=new ne(e.getWidth()-1,n.getY()),o=new ne(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=l,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Sr(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let l=this.topLeft,o=this.bottomLeft,a=this.topRight,c=this.bottomRight;if(e>0){let d=i?this.topLeft:this.topRight,g=Math.trunc(d.getY()-e);g<0&&(g=0);let p=new ne(d.getX(),g);i?l=p:a=p}if(n>0){let d=i?this.bottomLeft:this.bottomRight,g=Math.trunc(d.getY()+n);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let p=new ne(d.getX(),g);i?o=p:c=p}return new Sr(this.image,l,o,a,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class mh{constructor(e,n,i,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Mi{constructor(){this.buffer=""}static form(e,n){let i=-1;function l(a,c,d,g,p,E){if(a==="%%")return"%";if(n[++i]===void 0)return;a=g?parseInt(g.substr(1)):void 0;let C=p?parseInt(p.substr(1)):void 0,S;switch(E){case"s":S=n[i];break;case"c":S=n[i][0];break;case"f":S=parseFloat(n[i]).toFixed(a);break;case"p":S=parseFloat(n[i]).toPrecision(a);break;case"e":S=parseFloat(n[i]).toExponential(a);break;case"x":S=parseInt(n[i]).toString(C||16);break;case"d":S=parseFloat(parseInt(n[i],C||10).toPrecision(a)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(C);let _=parseInt(d),R=d&&d[0]+""=="0"?"0":" ";for(;S.length<_;)S=c!==void 0?S+R:R+S;return S}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,l)}format(e,...n){this.buffer+=Mi.form(e,n)}toString(){return this.buffer}}class bi{constructor(e){this.boundingBox=new Sr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<bi.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(e)-i;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+i,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Mi;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}bi.MAX_NEARBY_DISTANCE=5;class ki{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,l]of this.values.entries()){const o={getKey:()=>i,getValue:()=>l};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return fe.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class iu extends bi{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=-1,g=1,p=0;for(let E=a;E<c;E++){if(n[E]==null)continue;let C=n[E],S=C.getRowNumber()-d;if(S===0)p++;else if(S===1)g=Math.max(g,p),p=1,d=C.getRowNumber();else if(S<0||C.getRowNumber()>=e.getRowCount()||S>E)n[E]=null;else{let _;g>2?_=(g-2)*S:_=S;let R=_>=E;for(let M=1;M<=_&&!R;M++)R=n[E-M]!=null;R?n[E]=null:(d=C.getRowNumber(),p=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),a=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.getCodewords(),d=-1;for(let g=o;g<a;g++){if(c[g]==null)continue;let p=c[g];p.setRowNumberAsRowIndicatorColumn();let E=p.getRowNumber()-d;E===0||(E===1?d=p.getRowNumber():p.getRowNumber()>=e.getRowCount()?c[g]=null:d=p.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new ki,i=new ki,l=new ki,o=new ki;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let d=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:i.setValue(d*3+1);break;case 1:o.setValue(d/3),l.setValue(d%3);break;case 2:n.setValue(d+1);break}}if(n.getValue().length===0||i.getValue().length===0||l.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<fe.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>fe.MAX_ROWS_IN_BARCODE)return null;let a=new mh(n.getValue()[0],i.getValue()[0],l.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let l=e[i];if(e[i]==null)continue;let o=l.getValue()%30,a=l.getRowNumber();if(a>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:o+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Pi{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=fe.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let o=this.detectionResultColumns[l].getCodewords()[i];o!=null&&(o.setRowNumber(e[i].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),o=0;for(let a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){let c=this.detectionResultColumns[a].getCodewords()[i];c!=null&&(o=Pi.adjustRowNumberIfValid(l,o,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),o=0;for(let a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){let c=this.detectionResultColumns[a].getCodewords()[i];c!=null&&(o=Pi.adjustRowNumberIfValid(l,o,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){if(!this.detectionResultColumns[e-1])return;let l=i[n],o=this.detectionResultColumns[e-1].getCodewords(),a=o;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=o[n],c[3]=a[n],n>0&&(c[0]=i[n-1],c[4]=o[n-1],c[5]=a[n-1]),n>1&&(c[8]=i[n-2],c[10]=o[n-2],c[11]=a[n-2]),n<i.length-1&&(c[1]=i[n+1],c[6]=o[n+1],c[7]=a[n+1]),n<i.length-2&&(c[9]=i[n+2],c[12]=o[n+2],c[13]=a[n+2]);for(let d of c)if(Pi.adjustRowNumber(l,d))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Mi;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[l].getCodewords()[i];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class Bi{constructor(e,n,i,l){this.rowNumber=Bi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Bi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Bi.BARCODE_ROW_UNKNOWN=-1;class Ut{static initialize(){for(let e=0;e<fe.SYMBOL_TABLE.length;e++){let n=fe.SYMBOL_TABLE[e],i=n&1;for(let l=0;l<fe.BARS_IN_MODULE;l++){let o=0;for(;(n&1)===i;)o+=1,n>>=1;i=n&1,Ut.RATIOS_TABLE[e]||(Ut.RATIOS_TABLE[e]=new Array(fe.BARS_IN_MODULE)),Ut.RATIOS_TABLE[e][fe.BARS_IN_MODULE-l-1]=Math.fround(o/fe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Ut.getDecodedCodewordValue(Ut.sampleBitCounts(e));return n!==-1?n:Ut.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=Ie.sum(e),i=new Int32Array(fe.BARS_IN_MODULE),l=0,o=0;for(let a=0;a<fe.MODULES_IN_CODEWORD;a++){let c=n/(2*fe.MODULES_IN_CODEWORD)+a*n/fe.MODULES_IN_CODEWORD;o+e[l]<=c&&(o+=e[l],l++),i[l]++}return i}static getDecodedCodewordValue(e){let n=Ut.getBitValue(e);return fe.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let l=0;l<e[i];l++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=Ie.sum(e),i=new Array(fe.BARS_IN_MODULE);if(n>1)for(let a=0;a<i.length;a++)i[a]=Math.fround(e[a]/n);let l=bs.MAX_VALUE,o=-1;this.bSymbolTableReady||Ut.initialize();for(let a=0;a<Ut.RATIOS_TABLE.length;a++){let c=0,d=Ut.RATIOS_TABLE[a];for(let g=0;g<fe.BARS_IN_MODULE;g++){let p=Math.fround(d[g]-i[g]);if(c+=Math.fround(p*p),c>=l)break}c<l&&(l=c,o=fe.SYMBOL_TABLE[a])}return o}}Ut.bSymbolTableReady=!1,Ut.RATIOS_TABLE=new Array(fe.SYMBOL_TABLE.length).map(m=>new Array(fe.BARS_IN_MODULE));class su{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class lu{static parseLong(e,n=void 0){return parseInt(e,n)}}class ou extends w{}ou.kind="NullPointerException";class Eh{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new ou;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new se;if(i===0)return;for(let l=0;l<i;l++)this.write(e[n+l])}flush(){}close(){}}class Ch extends w{}class Ah extends Eh{constructor(e=32){if(super(),this.count=0,e<0)throw new N("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new Ch;i=O.MAX_VALUE}this.buf=v.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new se;this.ensureCapacity(this.count+i),z.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return v.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var De;(function(m){m[m.ALPHA=0]="ALPHA",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.PUNCT=3]="PUNCT",m[m.ALPHA_SHIFT=4]="ALPHA_SHIFT",m[m.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(De||(De={}));function au(){if(typeof window<"u")return window.BigInt||null;if(typeof Ui<"u")return Ui.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let zs;function Jn(m){if(typeof zs>"u"&&(zs=au()),zs===null)throw new Error("BigInt is not supported!");return zs(m)}function yh(){let m=[];m[0]=Jn(1);let e=Jn(900);m[1]=e;for(let n=2;n<16;n++)m[n]=m[n-1]*e;return m}class k{static decode(e,n){let i=new Ae(""),l=V.ISO8859_1;i.enableDecoding(l);let o=1,a=e[o++],c=new su;for(;o<e[0];){switch(a){case k.TEXT_COMPACTION_MODE_LATCH:o=k.textCompaction(e,o,i);break;case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:o=k.byteCompaction(a,e,l,o,i);break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[o++]);break;case k.NUMERIC_COMPACTION_MODE_LATCH:o=k.numericCompaction(e,o,i);break;case k.ECI_CHARSET:V.getCharacterSetECIByValue(e[o++]);break;case k.ECI_GENERAL_PURPOSE:o+=2;break;case k.ECI_USER_DEFINED:o++;break;case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=k.decodeMacroBlock(e,o,c);break;case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:throw new L;default:o--,o=k.textCompaction(e,o,i);break}if(o<e.length)a=e[o++];else throw L.getFormatInstance()}if(i.length()===0)throw L.getFormatInstance();let d=new Ni(null,i.toString(),null,n);return d.setOther(c),d}static decodeMacroBlock(e,n,i){if(n+k.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw L.getFormatInstance();let l=new Int32Array(k.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<k.NUMBER_OF_SEQUENCE_CODEWORDS;c++,n++)l[c]=e[n];i.setSegmentIndex(O.parseInt(k.decodeBase900toBase10(l,k.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Ae;n=k.textCompaction(e,n,o),i.setFileId(o.toString());let a=-1;for(e[n]===k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=n+1);n<e[0];)switch(e[n]){case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case k.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Ae;n=k.textCompaction(e,n+1,c),i.setFileName(c.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new Ae;n=k.textCompaction(e,n+1,d),i.setSender(d.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Ae;n=k.textCompaction(e,n+1,g),i.setAddressee(g.toString());break;case k.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let p=new Ae;n=k.numericCompaction(e,n+1,p),i.setSegmentCount(O.parseInt(p.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new Ae;n=k.numericCompaction(e,n+1,E),i.setTimestamp(lu.parseLong(E.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let C=new Ae;n=k.numericCompaction(e,n+1,C),i.setChecksum(O.parseInt(C.toString()));break;case k.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new Ae;n=k.numericCompaction(e,n+1,S),i.setFileSize(lu.parseLong(S.toString()));break;default:throw L.getFormatInstance()}break;case k.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(a!==-1){let c=n-a;i.isLastSegment()&&c--,i.setOptionalData(v.copyOfRange(e,a,a+c))}return n}static textCompaction(e,n,i){let l=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),a=0,c=!1;for(;n<e[0]&&!c;){let d=e[n++];if(d<k.TEXT_COMPACTION_MODE_LATCH)l[a]=d/30,l[a+1]=d%30,a+=2;else switch(d){case k.TEXT_COMPACTION_MODE_LATCH:l[a++]=k.TEXT_COMPACTION_MODE_LATCH;break;case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:n--,c=!0;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[a]=k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[n++],o[a]=d,a++;break}}return k.decodeTextCompaction(l,o,a,i),n}static decodeTextCompaction(e,n,i,l){let o=De.ALPHA,a=De.ALPHA,c=0;for(;c<i;){let d=e[c],g="";switch(o){case De.ALPHA:if(d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case k.LL:o=De.LOWER;break;case k.ML:o=De.MIXED;break;case k.PS:a=o,o=De.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:o=De.ALPHA;break}break;case De.LOWER:if(d<26)g=String.fromCharCode(97+d);else switch(d){case 26:g=" ";break;case k.AS:a=o,o=De.ALPHA_SHIFT;break;case k.ML:o=De.MIXED;break;case k.PS:a=o,o=De.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:o=De.ALPHA;break}break;case De.MIXED:if(d<k.PL)g=k.MIXED_CHARS[d];else switch(d){case k.PL:o=De.PUNCT;break;case 26:g=" ";break;case k.LL:o=De.LOWER;break;case k.AL:o=De.ALPHA;break;case k.PS:a=o,o=De.PUNCT_SHIFT;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:o=De.ALPHA;break}break;case De.PUNCT:if(d<k.PAL)g=k.PUNCT_CHARS[d];else switch(d){case k.PAL:o=De.ALPHA;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:o=De.ALPHA;break}break;case De.ALPHA_SHIFT:if(o=a,d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case k.TEXT_COMPACTION_MODE_LATCH:o=De.ALPHA;break}break;case De.PUNCT_SHIFT:if(o=a,d<k.PAL)g=k.PUNCT_CHARS[d];else switch(d){case k.PAL:o=De.ALPHA;break;case k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[c]);break;case k.TEXT_COMPACTION_MODE_LATCH:o=De.ALPHA;break}break}g!==""&&l.append(g),c++}}static byteCompaction(e,n,i,l,o){let a=new Ah,c=0,d=0,g=!1;switch(e){case k.BYTE_COMPACTION_MODE_LATCH:let p=new Int32Array(6),E=n[l++];for(;l<n[0]&&!g;)switch(p[c++]=E,d=900*d+E,E=n[l++],E){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:l--,g=!0;break;default:if(c%5===0&&c>0){for(let C=0;C<6;++C)a.write(Number(Jn(d)>>Jn(8*(5-C))));d=0,c=0}break}l===n[0]&&E<k.TEXT_COMPACTION_MODE_LATCH&&(p[c++]=E);for(let C=0;C<c;C++)a.write(p[C]);break;case k.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!g;){let C=n[l++];if(C<k.TEXT_COMPACTION_MODE_LATCH)c++,d=900*d+C;else switch(C){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.NUMERIC_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:l--,g=!0;break}if(c%5===0&&c>0){for(let S=0;S<6;++S)a.write(Number(Jn(d)>>Jn(8*(5-S))));d=0,c=0}}break}return o.append(Pe.decode(a.toByteArray(),i)),l}static numericCompaction(e,n,i){let l=0,o=!1,a=new Int32Array(k.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let c=e[n++];if(n===e[0]&&(o=!0),c<k.TEXT_COMPACTION_MODE_LATCH)a[l]=c,l++;else switch(c){case k.TEXT_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH:case k.BYTE_COMPACTION_MODE_LATCH_6:case k.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case k.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(l%k.MAX_NUMERIC_CODEWORDS===0||c===k.NUMERIC_COMPACTION_MODE_LATCH||o)&&l>0&&(i.append(k.decodeBase900toBase10(a,l)),l=0)}return n}static decodeBase900toBase10(e,n){let i=Jn(0);for(let o=0;o<n;o++)i+=k.EXP900[n-o-1]*Jn(e[o]);let l=i.toString();if(l.charAt(0)!=="1")throw new L;return l.substring(1)}}k.TEXT_COMPACTION_MODE_LATCH=900,k.BYTE_COMPACTION_MODE_LATCH=901,k.NUMERIC_COMPACTION_MODE_LATCH=902,k.BYTE_COMPACTION_MODE_LATCH_6=924,k.ECI_USER_DEFINED=925,k.ECI_GENERAL_PURPOSE=926,k.ECI_CHARSET=927,k.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,k.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,k.MACRO_PDF417_TERMINATOR=922,k.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,k.MAX_NUMERIC_CODEWORDS=15,k.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,k.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,k.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,k.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,k.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,k.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,k.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,k.PL=25,k.LL=27,k.AS=27,k.ML=28,k.AL=28,k.PS=29,k.PAL=29,k.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,k.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",k.EXP900=au()?yh():[],k.NUMBER_OF_SEQUENCE_CODEWORDS=2;class we{constructor(){}static decode(e,n,i,l,o,a,c){let d=new Sr(e,n,i,l,o),g=null,p=null,E;for(let _=!0;;_=!1){if(n!=null&&(g=we.getRowIndicatorColumn(e,d,n,!0,a,c)),l!=null&&(p=we.getRowIndicatorColumn(e,d,l,!1,a,c)),E=we.merge(g,p),E==null)throw U.getNotFoundInstance();let R=E.getBoundingBox();if(_&&R!=null&&(R.getMinY()<d.getMinY()||R.getMaxY()>d.getMaxY()))d=R;else break}E.setBoundingBox(d);let C=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,g),E.setDetectionResultColumn(C,p);let S=g!=null;for(let _=1;_<=C;_++){let R=S?_:C-_;if(E.getDetectionResultColumn(R)!==void 0)continue;let M;R===0||R===C?M=new iu(d,R===0):M=new bi(d),E.setDetectionResultColumn(R,M);let P=-1,j=P;for(let Y=d.getMinY();Y<=d.getMaxY();Y++){if(P=we.getStartColumn(E,R,Y,S),P<0||P>d.getMaxX()){if(j===-1)continue;P=j}let G=we.detectCodeword(e,d.getMinX(),d.getMaxX(),S,P,Y,a,c);G!=null&&(M.setCodeword(Y,G),j=P,a=Math.min(a,G.getWidth()),c=Math.max(c,G.getWidth()))}}return we.createDecoderResult(E)}static merge(e,n){if(e==null&&n==null)return null;let i=we.getBarcodeMetadata(e,n);if(i==null)return null;let l=Sr.merge(we.adjustBoundingBox(e),we.adjustBoundingBox(n));return new Pi(i,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=we.getMax(n),l=0;for(let c of n)if(l+=i-c,c>0)break;let o=e.getCodewords();for(let c=0;l>0&&o[c]==null;c++)l--;let a=0;for(let c=n.length-1;c>=0&&(a+=i-n[c],!(n[c]>0));c--);for(let c=o.length-1;a>0&&o[c]==null;c--)a--;return e.getBoundingBox().addMissingRows(l,a,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,l,o,a){let c=new iu(n,l);for(let d=0;d<2;d++){let g=d===0?1:-1,p=Math.trunc(Math.trunc(i.getX()));for(let E=Math.trunc(Math.trunc(i.getY()));E<=n.getMaxY()&&E>=n.getMinY();E+=g){let C=we.detectCodeword(e,0,e.getWidth(),l,p,E,o,a);C!=null&&(c.setCodeword(E,C),l?p=C.getStartX():p=C.getEndX())}}return c}static adjustCodewordCount(e,n){let i=n[0][1],l=i.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-we.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(o<1||o>fe.MAX_CODEWORDS_IN_BARCODE)throw U.getNotFoundInstance();i.setValue(o)}else l[0]!==o&&i.setValue(o)}static createDecoderResult(e){let n=we.createBarcodeMatrix(e);we.adjustCodewordCount(e,n);let i=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let g=0;g<e.getBarcodeColumnCount();g++){let p=n[d][g+1].getValue(),E=d*e.getBarcodeColumnCount()+g;p.length===0?i.push(E):p.length===1?l[E]=p[0]:(a.push(E),o.push(p))}let c=new Array(o.length);for(let d=0;d<c.length;d++)c[d]=o[d];return we.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,fe.toIntArray(i),fe.toIntArray(a),c)}static createDecoderResultFromAmbiguousValues(e,n,i,l,o){let a=new Int32Array(l.length),c=100;for(;c-- >0;){for(let d=0;d<a.length;d++)n[l[d]]=o[d][a[d]];try{return we.decodeCodewords(n,e,i)}catch(d){if(!(d instanceof H))throw d}if(a.length===0)throw H.getChecksumInstance();for(let d=0;d<a.length;d++)if(a[d]<o[d].length-1){a[d]++;break}else if(a[d]=0,d===a.length-1)throw H.getChecksumInstance()}throw H.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let o=0;o<n[l].length;o++)n[l][o]=new ki;let i=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let o of l.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=0){if(a>=n.length)continue;n[a][i].setValue(o.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,l){let o=l?1:-1,a=null;if(we.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodeword(i)),a!=null)return l?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(n).getCodewordNearby(i),a!=null)return l?a.getStartX():a.getEndX();if(we.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodewordNearby(i)),a!=null)return l?a.getEndX():a.getStartX();let c=0;for(;we.isValidBarcodeColumn(e,n-o);){n-=o;for(let d of e.getDetectionResultColumn(n).getCodewords())if(d!=null)return(l?d.getEndX():d.getStartX())+o*c*(d.getEndX()-d.getStartX());c++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,l,o,a,c,d){o=we.adjustCodewordStartColumn(e,n,i,l,o,a);let g=we.getModuleBitCount(e,n,i,l,o,a);if(g==null)return null;let p,E=Ie.sum(g);if(l)p=o+E;else{for(let _=0;_<g.length/2;_++){let R=g[_];g[_]=g[g.length-1-_],g[g.length-1-_]=R}p=o,o=p-E}if(!we.checkCodewordSkew(E,c,d))return null;let C=Ut.getDecodedValue(g),S=fe.getCodeword(C);return S===-1?null:new Bi(o,p,we.getCodewordBucketNumber(C),S)}static getModuleBitCount(e,n,i,l,o,a){let c=o,d=new Int32Array(8),g=0,p=l?1:-1,E=l;for(;(l?c<i:c>=n)&&g<d.length;)e.get(c,a)===E?(d[g]++,c+=p):(g++,E=!E);return g===d.length||c===(l?i:n)&&g===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,l,o,a){let c=o,d=l?-1:1;for(let g=0;g<2;g++){for(;(l?c>=n:c<i)&&l===e.get(c,a);){if(Math.abs(o-c)>we.CODEWORD_SKEW_SIZE)return o;c+=d}d=-d,l=!l}return c}static checkCodewordSkew(e,n,i){return n-we.CODEWORD_SKEW_SIZE<=e&&e<=i+we.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw L.getFormatInstance();let l=1<<n+1,o=we.correctErrors(e,i,l);we.verifyCodewordCount(e,l);let a=k.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(i.length),a}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+we.MAX_ERRORS||i<0||i>we.MAX_EC_CODEWORDS)throw H.getChecksumInstance();return we.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw L.getFormatInstance();let i=e[0];if(i>e.length)throw L.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw L.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,l=n.length-1;for(;!((e&1)!==i&&(i=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return we.getCodewordBucketNumber(we.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Mi;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let l=0;l<e[i].length;l++){let o=e[i][l];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}we.CODEWORD_SKEW_SIZE=2,we.MAX_ERRORS=3,we.MAX_EC_CODEWORDS=512,we.errorCorrection=new ru;class Et{decode(e,n=null){let i=Et.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw U.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return Et.decode(e,n,!0)}catch(i){throw i instanceof L||i instanceof H?U.getNotFoundInstance():i}}static decode(e,n,i){const l=new Array,o=pe.detectMultiple(e,n,i);for(const a of o.getPoints()){const c=we.decode(o.getBits(),a[4],a[5],a[6],a[7],Et.getMinCodewordWidth(a),Et.getMaxCodewordWidth(a)),d=new Xe(c.getText(),c.getRawBytes(),void 0,a,re.PDF_417);d.putMetadata(ht.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&d.putMetadata(ht.PDF417_EXTRA_METADATA,g),l.push(d)}return l.map(a=>a)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?O.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Et.getMaxWidth(e[0],e[4]),Et.getMaxWidth(e[6],e[2])*fe.MODULES_IN_CODEWORD/fe.MODULES_IN_STOP_PATTERN),Math.max(Et.getMaxWidth(e[1],e[5]),Et.getMaxWidth(e[7],e[3])*fe.MODULES_IN_CODEWORD/fe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Et.getMinWidth(e[0],e[4]),Et.getMinWidth(e[6],e[2])*fe.MODULES_IN_CODEWORD/fe.MODULES_IN_STOP_PATTERN),Math.min(Et.getMinWidth(e[1],e[5]),Et.getMinWidth(e[7],e[3])*fe.MODULES_IN_CODEWORD/fe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Vs extends w{}Vs.kind="ReaderException";class uu{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!u(e)&&e.get(Q.TRY_HARDER)===!0,i=u(e)?null:e.get(Q.POSSIBLE_FORMATS),l=new Array;if(!u(i)){const o=i.some(a=>a===re.UPC_A||a===re.UPC_E||a===re.EAN_13||a===re.EAN_8||a===re.CODABAR||a===re.CODE_39||a===re.CODE_93||a===re.CODE_128||a===re.ITF||a===re.RSS_14||a===re.RSS_EXPANDED);o&&!n&&l.push(new jr(e,this.verbose)),i.includes(re.QR_CODE)&&l.push(new qn),i.includes(re.DATA_MATRIX)&&l.push(new Qn),i.includes(re.AZTEC)&&l.push(new Ps),i.includes(re.PDF_417)&&l.push(new Et),o&&n&&l.push(new jr(e,this.verbose))}l.length===0&&(n||l.push(new jr(e,this.verbose)),l.push(new qn),l.push(new Qn),l.push(new Ps),l.push(new Et),n&&l.push(new jr(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Vs("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof Vs)continue}throw new U("No MultiFormat Readers were able to detect the code.")}}class Ih extends en{constructor(e=null,n=500){const i=new uu;i.setHints(e),super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Sh extends en{constructor(e=500){super(new Et,e)}}class vh extends en{constructor(e=500){super(new qn,e)}}var Io;(function(m){m[m.ERROR_CORRECTION=0]="ERROR_CORRECTION",m[m.CHARACTER_SET=1]="CHARACTER_SET",m[m.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",m[m.MIN_SIZE=3]="MIN_SIZE",m[m.MAX_SIZE=4]="MAX_SIZE",m[m.MARGIN=5]="MARGIN",m[m.PDF417_COMPACT=6]="PDF417_COMPACT",m[m.PDF417_COMPACTION=7]="PDF417_COMPACTION",m[m.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",m[m.AZTEC_LAYERS=9]="AZTEC_LAYERS",m[m.QR_VERSION=10]="QR_VERSION"})(Io||(Io={}));var at=Io;class So{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Bt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const l=this.field;for(let o=n.length;o<=e;o++){const a=i.multiply(new Bt(l,Int32Array.from([1,l.exp(o-1+l.getGeneratorBase())])));n.push(a),i=a}}return n[e]}encode(e,n){if(n===0)throw new N("No error correction bytes");const i=e.length-n;if(i<=0)throw new N("No data bytes provided");const l=this.buildGenerator(n),o=new Int32Array(i);z.arraycopy(e,0,o,0,i);let a=new Bt(this.field,o);a=a.multiplyByMonomial(n,1);const d=a.divide(l)[1].getCoefficients(),g=n-d.length;for(let p=0;p<g;p++)e[i+p]=0;z.arraycopy(d,0,e,i+g,d.length)}}class $e{constructor(){}static applyMaskPenaltyRule1(e){return $e.applyMaskPenaltyRule1Internal(e,!0)+$e.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),l=e.getWidth(),o=e.getHeight();for(let a=0;a<o-1;a++){const c=i[a];for(let d=0;d<l-1;d++){const g=c[d];g===c[d+1]&&g===i[a+1][d]&&g===i[a+1][d+1]&&n++}}return $e.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),l=e.getWidth(),o=e.getHeight();for(let a=0;a<o;a++)for(let c=0;c<l;c++){const d=i[a];c+6<l&&d[c]===1&&d[c+1]===0&&d[c+2]===1&&d[c+3]===1&&d[c+4]===1&&d[c+5]===0&&d[c+6]===1&&($e.isWhiteHorizontal(d,c-4,c)||$e.isWhiteHorizontal(d,c+7,c+11))&&n++,a+6<o&&i[a][c]===1&&i[a+1][c]===0&&i[a+2][c]===1&&i[a+3][c]===1&&i[a+4][c]===1&&i[a+5][c]===0&&i[a+6][c]===1&&($e.isWhiteVertical(i,c,a-4,a)||$e.isWhiteVertical(i,c,a+7,a+11))&&n++}return n*$e.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let l=n;l<i;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,i,l){i=Math.max(i,0),l=Math.min(l,e.length);for(let o=i;o<l;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),l=e.getWidth(),o=e.getHeight();for(let d=0;d<o;d++){const g=i[d];for(let p=0;p<l;p++)g[p]===1&&n++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-a)*10/a)*$e.N4}static getDataMaskBit(e,n,i){let l,o;switch(e){case 0:l=i+n&1;break;case 1:l=i&1;break;case 2:l=n%3;break;case 3:l=(i+n)%3;break;case 4:l=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:o=i*n,l=(o&1)+o%3;break;case 6:o=i*n,l=(o&1)+o%3&1;break;case 7:o=i*n,l=o%3+(i+n&1)&1;break;default:throw new N("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const l=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray();for(let c=0;c<l;c++){let d=0,g=-1;for(let p=0;p<o;p++){const E=n?a[c][p]:a[p][c];E===g?d++:(d>=5&&(i+=$e.N1+(d-5)),d=1,g=E)}d>=5&&(i+=$e.N1+(d-5))}return i}}$e.N1=3,$e.N2=3,$e.N3=40,$e.N4=10;class Ws{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let l=0;l!==n;l++)i[l]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)v.fill(n,e)}equals(e){if(!(e instanceof Ws))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,l=this.height;i<l;++i){const o=this.bytes[i],a=n.bytes[i];for(let c=0,d=this.width;c<d;++c)if(o[c]!==a[c])return!1}return!0}toString(){const e=new Ae;for(let n=0,i=this.height;n<i;++n){const l=this.bytes[n];for(let o=0,a=this.width;o<a;++o)switch(l[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class vr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ae;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<vr.NUM_MASK_PATTERNS}}vr.NUM_MASK_PATTERNS=8;class be extends w{}be.kind="WriterException";class ue{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,l,o){ue.clearMatrix(o),ue.embedBasicPatterns(i,o),ue.embedTypeInfo(n,l,o),ue.maybeEmbedVersionInfo(i,o),ue.embedDataBits(e,l,o)}static embedBasicPatterns(e,n){ue.embedPositionDetectionPatternsAndSeparators(n),ue.embedDarkDotAtLeftBottomCorner(n),ue.maybeEmbedPositionAdjustmentPatterns(e,n),ue.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const l=new F;ue.makeTypeInfoBits(e,n,l);for(let o=0,a=l.getSize();o<a;++o){const c=l.get(l.getSize()-1-o),d=ue.TYPE_INFO_COORDINATES[o],g=d[0],p=d[1];if(i.setBoolean(g,p,c),o<8){const E=i.getWidth()-o-1,C=8;i.setBoolean(E,C,c)}else{const C=i.getHeight()-7+(o-8);i.setBoolean(8,C,c)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new F;ue.makeVersionInfoBits(e,i);let l=6*3-1;for(let o=0;o<6;++o)for(let a=0;a<3;++a){const c=i.get(l);l--,n.setBoolean(o,n.getHeight()-11+a,c),n.setBoolean(n.getHeight()-11+a,o,c)}}static embedDataBits(e,n,i){let l=0,o=-1,a=i.getWidth()-1,c=i.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);c>=0&&c<i.getHeight();){for(let d=0;d<2;++d){const g=a-d;if(!ue.isEmpty(i.get(g,c)))continue;let p;l<e.getSize()?(p=e.get(l),++l):p=!1,n!==255&&$e.getDataMaskBit(n,g,c)&&(p=!p),i.setBoolean(g,c,p)}c+=o}o=-o,c+=o,a-=2}if(l!==e.getSize())throw new be("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-O.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new N("0 polynomial");const i=ue.findMSBSet(n);for(e<<=i-1;ue.findMSBSet(e)>=i;)e^=n<<ue.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!vr.isValidMaskPattern(n))throw new be("Invalid mask pattern");const l=e.getBits()<<3|n;i.appendBits(l,5);const o=ue.calculateBCHCode(l,ue.TYPE_INFO_POLY);i.appendBits(o,10);const a=new F;if(a.appendBits(ue.TYPE_INFO_MASK_PATTERN,15),i.xor(a),i.getSize()!==15)throw new be("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=ue.calculateBCHCode(e.getVersionNumber(),ue.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new be("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;ue.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),ue.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new be;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let l=0;l<8;++l){if(!ue.isEmpty(i.get(e+l,n)))throw new be;i.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let l=0;l<7;++l){if(!ue.isEmpty(i.get(e,n+l)))throw new be;i.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let l=0;l<5;++l){const o=ue.POSITION_ADJUSTMENT_PATTERN[l];for(let a=0;a<5;++a)i.setNumber(e+a,n+l,o[a])}}static embedPositionDetectionPattern(e,n,i){for(let l=0;l<7;++l){const o=ue.POSITION_DETECTION_PATTERN[l];for(let a=0;a<7;++a)i.setNumber(e+a,n+l,o[a])}}static embedPositionDetectionPatternsAndSeparators(e){const n=ue.POSITION_DETECTION_PATTERN[0].length;ue.embedPositionDetectionPattern(0,0,e),ue.embedPositionDetectionPattern(e.getWidth()-n,0,e),ue.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;ue.embedHorizontalSeparationPattern(0,i-1,e),ue.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),ue.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const l=7;ue.embedVerticalSeparationPattern(l,0,e),ue.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),ue.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,l=ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let o=0,a=l.length;o!==a;o++){const c=l[o];if(c>=0)for(let d=0;d!==a;d++){const g=l[d];g>=0&&ue.isEmpty(n.get(g,c))&&ue.embedPositionAdjustmentPattern(g-2,c-2,n)}}}}ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ue.VERSION_INFO_POLY=7973,ue.TYPE_INFO_POLY=1335,ue.TYPE_INFO_MASK_PATTERN=21522;class Th{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ue{constructor(){}static calculateMaskPenalty(e){return $e.applyMaskPenaltyRule1(e)+$e.applyMaskPenaltyRule2(e)+$e.applyMaskPenaltyRule3(e)+$e.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let l=Ue.DEFAULT_BYTE_MODE_ENCODING;const o=i!==null&&i.get(at.CHARACTER_SET)!==void 0;o&&(l=i.get(at.CHARACTER_SET).toString());const a=this.chooseMode(e,l),c=new F;if(a===le.BYTE&&(o||Ue.DEFAULT_BYTE_MODE_ENCODING!==l)){const Y=V.getCharacterSetECIByName(l);Y!==void 0&&this.appendECI(Y,c)}this.appendModeInfo(a,c);const d=new F;this.appendBytes(e,a,d,l);let g;if(i!==null&&i.get(at.QR_VERSION)!==void 0){const Y=Number.parseInt(i.get(at.QR_VERSION).toString(),10);g=ie.getVersionForNumber(Y);const G=this.calculateBitsNeeded(a,c,d,g);if(!this.willFit(G,g,n))throw new be("Data too big for requested version")}else g=this.recommendVersion(n,a,c,d);const p=new F;p.appendBitArray(c);const E=a===le.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(E,g,a,p),p.appendBitArray(d);const C=g.getECBlocksForLevel(n),S=g.getTotalCodewords()-C.getTotalECCodewords();this.terminateBits(S,p);const _=this.interleaveWithECBytes(p,g.getTotalCodewords(),S,C.getNumBlocks()),R=new vr;R.setECLevel(n),R.setMode(a),R.setVersion(g);const M=g.getDimensionForVersion(),P=new Ws(M,M),j=this.chooseMaskPattern(_,n,g,P);return R.setMaskPattern(j),ue.buildMatrix(_,n,g,j,P),R.setMatrix(P),R}static recommendVersion(e,n,i,l){const o=this.calculateBitsNeeded(n,i,l,ie.getVersionForNumber(1)),a=this.chooseVersion(o,e),c=this.calculateBitsNeeded(n,i,l,a);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,n,i,l){return n.getSize()+e.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(e){return e<Ue.ALPHANUMERIC_TABLE.length?Ue.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(V.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return le.KANJI;let i=!1,l=!1;for(let o=0,a=e.length;o<a;++o){const c=e.charAt(o);if(Ue.isDigit(c))i=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)l=!0;else return le.BYTE}return l?le.ALPHANUMERIC:i?le.NUMERIC:le.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Pe.encode(e,V.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const o=n[l]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,i,l){let o=Number.MAX_SAFE_INTEGER,a=-1;for(let c=0;c<vr.NUM_MASK_PATTERNS;c++){ue.buildMatrix(e,n,i,c,l);let d=this.calculateMaskPenalty(l);d<o&&(o=d,a=c)}return a}static chooseVersion(e,n){for(let i=1;i<=40;i++){const l=ie.getVersionForNumber(i);if(Ue.willFit(e,l,n))return l}throw new be("Data too big")}static willFit(e,n,i){const l=n.getTotalCodewords(),a=n.getECBlocksForLevel(i).getTotalECCodewords(),c=l-a,d=(e+7)/8;return c>=d}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new be("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let a=0;a<4&&n.getSize()<i;++a)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let a=l;a<8;a++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let a=0;a<o;++a)n.appendBits(a&1?17:236,8);if(n.getSize()!==i)throw new be("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,l,o,a){if(l>=i)throw new be("Block ID too large");const c=e%i,d=i-c,g=Math.floor(e/i),p=g+1,E=Math.floor(n/i),C=E+1,S=g-E,_=p-C;if(S!==_)throw new be("EC bytes mismatch");if(i!==d+c)throw new be("RS blocks mismatch");if(e!==(E+S)*d+(C+_)*c)throw new be("Total bytes mismatch");l<d?(o[0]=E,a[0]=S):(o[0]=C,a[0]=_)}static interleaveWithECBytes(e,n,i,l){if(e.getSizeInBytes()!==i)throw new be("Number of bits and data bytes does not match");let o=0,a=0,c=0;const d=new Array;for(let p=0;p<l;++p){const E=new Int32Array(1),C=new Int32Array(1);Ue.getNumDataBytesAndNumECBytesForBlockID(n,i,l,p,E,C);const S=E[0],_=new Uint8Array(S);e.toBytes(8*o,_,0,S);const R=Ue.generateECBytes(_,C[0]);d.push(new Th(_,R)),a=Math.max(a,S),c=Math.max(c,R.length),o+=E[0]}if(i!==o)throw new be("Data bytes does not match offset");const g=new F;for(let p=0;p<a;++p)for(const E of d){const C=E.getDataBytes();p<C.length&&g.appendBits(C[p],8)}for(let p=0;p<c;++p)for(const E of d){const C=E.getErrorCorrectionBytes();p<C.length&&g.appendBits(C[p],8)}if(n!==g.getSizeInBytes())throw new be("Interleaving error: "+n+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,n){const i=e.length,l=new Int32Array(i+n);for(let a=0;a<i;a++)l[a]=e[a]&255;new So(Te.QR_CODE_FIELD_256).encode(l,n);const o=new Uint8Array(n);for(let a=0;a<n;a++)o[a]=l[i+a];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,l){const o=i.getCharacterCountBits(n);if(e>=1<<o)throw new be(e+" is bigger than "+((1<<o)-1));l.appendBits(e,o)}static appendBytes(e,n,i,l){switch(n){case le.NUMERIC:Ue.appendNumericBytes(e,i);break;case le.ALPHANUMERIC:Ue.appendAlphanumericBytes(e,i);break;case le.BYTE:Ue.append8BitBytes(e,i,l);break;case le.KANJI:Ue.appendKanjiBytes(e,i);break;default:throw new be("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Ue.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const o=Ue.getDigit(e.charAt(l));if(l+2<i){const a=Ue.getDigit(e.charAt(l+1)),c=Ue.getDigit(e.charAt(l+2));n.appendBits(o*100+a*10+c,10),l+=3}else if(l+1<i){const a=Ue.getDigit(e.charAt(l+1));n.appendBits(o*10+a,7),l+=2}else n.appendBits(o,4),l++}}static appendAlphanumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const o=Ue.getAlphanumericCode(e.charCodeAt(l));if(o===-1)throw new be;if(l+1<i){const a=Ue.getAlphanumericCode(e.charCodeAt(l+1));if(a===-1)throw new be;n.appendBits(o*45+a,11),l+=2}else n.appendBits(o,6),l++}}static append8BitBytes(e,n,i){let l;try{l=Pe.encode(e,i)}catch(o){throw new be(o)}for(let o=0,a=l.length;o!==a;o++){const c=l[o];n.appendBits(c,8)}}static appendKanjiBytes(e,n){let i;try{i=Pe.encode(e,V.SJIS)}catch(o){throw new be(o)}const l=i.length;for(let o=0;o<l;o+=2){const a=i[o]&255,c=i[o+1]&255,d=a<<8&4294967295|c;let g=-1;if(d>=33088&&d<=40956?g=d-33088:d>=57408&&d<=60351&&(g=d-49472),g===-1)throw new be("Invalid byte sequence");const p=(g>>8)*192+(g&255);n.appendBits(p,13)}}static appendECI(e,n){n.appendBits(le.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Ue.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ue.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class Tr{write(e,n,i,l=null){if(e.length===0)throw new N("Found empty contents");if(n<0||i<0)throw new N("Requested dimensions are too small: "+n+"x"+i);let o=Le.L,a=Tr.QUIET_ZONE_SIZE;l!==null&&(l.get(at.ERROR_CORRECTION)!==void 0&&(o=Le.fromString(l.get(at.ERROR_CORRECTION).toString())),l.get(at.MARGIN)!==void 0&&(a=Number.parseInt(l.get(at.MARGIN).toString(),10)));const c=Ue.encode(e,o,l);return this.renderResult(c,n,i,a)}writeToDom(e,n,i,l,o=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(n,i,l,o);e&&e.appendChild(a)}renderResult(e,n,i,l){const o=e.getMatrix();if(o===null)throw new In;const a=o.getWidth(),c=o.getHeight(),d=a+l*2,g=c+l*2,p=Math.max(n,d),E=Math.max(i,g),C=Math.min(Math.floor(p/d),Math.floor(E/g)),S=Math.floor((p-a*C)/2),_=Math.floor((E-c*C)/2),R=this.createSVGElement(p,E);for(let M=0,P=_;M<c;M++,P+=C)for(let j=0,Y=S;j<a;j++,Y+=C)if(o.get(j,M)===1){const G=this.createSvgRectElement(Y,P,C,C);R.appendChild(G)}return R}createSVGElement(e,n){const i=document.createElementNS(Tr.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,l){const o=document.createElementNS(Tr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",i.toString()),o.setAttributeNS(null,"width",l.toString()),o.setAttributeNS(null,"fill","#000000"),o}}Tr.QUIET_ZONE_SIZE=4,Tr.SVG_NS="http://www.w3.org/2000/svg";class Zr{encode(e,n,i,l,o){if(e.length===0)throw new N("Found empty contents");if(n!==re.QR_CODE)throw new N("Can only encode QR_CODE, but got "+n);if(i<0||l<0)throw new N(`Requested dimensions are too small: ${i}x${l}`);let a=Le.L,c=Zr.QUIET_ZONE_SIZE;o!==null&&(o.get(at.ERROR_CORRECTION)!==void 0&&(a=Le.fromString(o.get(at.ERROR_CORRECTION).toString())),o.get(at.MARGIN)!==void 0&&(c=Number.parseInt(o.get(at.MARGIN).toString(),10)));const d=Ue.encode(e,a,o);return Zr.renderResult(d,i,l,c)}static renderResult(e,n,i,l){const o=e.getMatrix();if(o===null)throw new In;const a=o.getWidth(),c=o.getHeight(),d=a+l*2,g=c+l*2,p=Math.max(n,d),E=Math.max(i,g),C=Math.min(Math.floor(p/d),Math.floor(E/g)),S=Math.floor((p-a*C)/2),_=Math.floor((E-c*C)/2),R=new tt(p,E);for(let M=0,P=_;M<c;M++,P+=C)for(let j=0,Y=S;j<a;j++,Y+=C)o.get(j,M)===1&&R.setRegion(Y,P,C,C);return R}}Zr.QUIET_ZONE_SIZE=4;class Nh{encode(e,n,i,l,o){let a;switch(n){case re.QR_CODE:a=new Zr;break;default:throw new N("No encoder available for format "+n)}return a.encode(e,n,i,l,o)}}class Nn extends ${constructor(e,n,i,l,o,a,c,d){if(super(a,c),this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=l,this.top=o,l+a>n||o+c>i)throw new N("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(a,c)}getRow(e,n){if(e<0||e>=this.getHeight())throw new N("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return z.arraycopy(this.yuvData,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,l=new Uint8ClampedArray(i);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return z.arraycopy(this.yuvData,o,l,0,i),l;for(let a=0;a<n;a++){const c=a*e;z.arraycopy(this.yuvData,o,l,c,e),o+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new Nn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,l,!1)}renderThumbnail(){const e=this.getWidth()/Nn.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Nn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),l=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let a=0;a<n;a++){const c=a*e;for(let d=0;d<e;d++){const g=l[o+d*Nn.THUMBNAIL_SCALE_FACTOR]&255;i[c+d]=4278190080|g*65793}o+=this.dataWidth*Nn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Nn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Nn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let l=0,o=this.top*this.dataWidth+this.left;l<n;l++,o+=this.dataWidth){const a=o+e/2;for(let c=o,d=o+e-1;c<a;c++,d--){const g=i[c];i[c]=i[d],i[d]=g}}}invert(){return new ce(this)}}Nn.THUMBNAIL_SCALE_FACTOR=2;class vo extends ${constructor(e,n,i,l,o,a,c){if(super(n,i),this.dataWidth=l,this.dataHeight=o,this.left=a,this.top=c,e.BYTES_PER_ELEMENT===4){const d=n*i,g=new Uint8ClampedArray(d);for(let p=0;p<d;p++){const E=e[p],C=E>>16&255,S=E>>7&510,_=E&255;g[p]=(C+S+_)/4&255}this.luminances=g}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=i),a===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new N("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return z.arraycopy(this.luminances,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,l=new Uint8ClampedArray(i);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return z.arraycopy(this.luminances,o,l,0,i),l;for(let a=0;a<n;a++){const c=a*e;z.arraycopy(this.luminances,o,l,c,e),o+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new vo(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new ce(this)}}class cu extends V{static forName(e){return this.getCharacterSetECIByName(e)}}class To{}To.ISO_8859_1=V.ISO8859_1;class fu{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class hu{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class _h{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Kr extends _h{constructor(e,n,i){super(e),this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Kr(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Kr(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+O.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class No extends Kr{constructor(e,n,i){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new No(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Oh(m,e,n){return new No(m,e,n)}function Li(m,e,n){return new Kr(m,e,n)}const Rh=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],$n=0,Hs=1,sn=2,du=3,_n=4,Dh=new Kr(null,0,0),_o=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Mh(m){for(let e of m)v.fill(e,-1);return m[$n][_n]=0,m[Hs][_n]=0,m[Hs][$n]=28,m[du][_n]=0,m[sn][_n]=0,m[sn][$n]=15,m}const gu=Mh(v.createInt32Array(6,6));class On{constructor(e,n,i,l){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,l=this.token;if(e!==this.mode){let a=_o[this.mode][e];l=Li(l,a&65535,a>>16),i+=a>>16}let o=e===sn?4:5;return l=Li(l,n,o),new On(l,e,0,i+o)}shiftAndAppend(e,n){let i=this.token,l=this.mode===sn?4:5;return i=Li(i,gu[this.mode][e],l),i=Li(i,n,5),new On(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,l=this.bitCount;if(this.mode===_n||this.mode===sn){let c=_o[i][$n];n=Li(n,c&65535,c>>16),l+=c>>16,i=$n}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new On(n,i,this.binaryShiftByteCount+1,l+o);return a.binaryShiftByteCount===2047+31&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Oh(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new On(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(_o[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=On.calculateBinaryShiftCost(e)-On.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let i=new F;for(const l of n)l.appendTo(i,e);return i}toString(){return ae.format("%s bits=%d bytes=%d",Rh[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}On.INITIAL_STATE=new On(Dh,$n,0,0);function bh(m){const e=ae.getCharCode(" "),n=ae.getCharCode("."),i=ae.getCharCode(",");m[$n][e]=1;const l=ae.getCharCode("Z"),o=ae.getCharCode("A");for(let C=o;C<=l;C++)m[$n][C]=C-o+2;m[Hs][e]=1;const a=ae.getCharCode("z"),c=ae.getCharCode("a");for(let C=c;C<=a;C++)m[Hs][C]=C-c+2;m[sn][e]=1;const d=ae.getCharCode("9"),g=ae.getCharCode("0");for(let C=g;C<=d;C++)m[sn][C]=C-g+2;m[sn][i]=12,m[sn][n]=13;const p=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let C=0;C<p.length;C++)m[du][ae.getCharCode(p[C])]=C;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let C=0;C<E.length;C++)ae.getCharCode(E[C])>0&&(m[_n][ae.getCharCode(E[C])]=C);return m}const Oo=bh(v.createInt32Array(5,256));class Fi{constructor(e){this.text=e}encode(){const e=ae.getCharCode(" "),n=ae.getCharCode(`
`);let i=hu.singletonList(On.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let a,c=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ae.getCharCode("\r"):a=c===n?2:0;break;case ae.getCharCode("."):a=c===e?3:0;break;case ae.getCharCode(","):a=c===e?4:0;break;case ae.getCharCode(":"):a=c===e?5:0;break;default:a=0}a>0?(i=Fi.updateStateListForPair(i,o,a),o++):i=this.updateStateListForChar(i,o)}return hu.min(i,(o,a)=>o.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let l of e)this.updateStateForChar(l,n,i);return Fi.simplifyStates(i)}updateStateForChar(e,n,i){let l=this.text[n]&255,o=Oo[e.getMode()][l]>0,a=null;for(let c=0;c<=_n;c++){let d=Oo[c][l];if(d>0){if(a==null&&(a=e.endBinaryShift(n)),!o||c===e.getMode()||c===sn){const g=a.latchAndAppend(c,d);i.push(g)}if(!o&&gu[e.getMode()][c]>=0){const g=a.shiftAndAppend(c,d);i.push(g)}}}if(e.getBinaryShiftByteCount()>0||Oo[e.getMode()][l]===0){let c=e.addBinaryShiftChar(n);i.push(c)}}static updateStateListForPair(e,n,i){const l=[];for(let o of e)this.updateStateForPair(o,n,i,l);return this.simplifyStates(l)}static updateStateForPair(e,n,i,l){let o=e.endBinaryShift(n);if(l.push(o.latchAndAppend(_n,i)),e.getMode()!==_n&&l.push(o.shiftAndAppend(_n,i)),i===3||i===4){let a=o.latchAndAppend(sn,16-i).latchAndAppend(sn,1);l.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(a)}}static simplifyStates(e){let n=[];for(const i of e){let l=!0;for(const o of n){if(o.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(o)&&(n=n.filter(a=>a!==o))}l&&n.push(i)}return n}}class Se{constructor(){}static encodeBytes(e){return Se.encode(e,Se.DEFAULT_EC_PERCENT,Se.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let l=new Fi(e).encode(),o=O.truncDivision(l.getSize()*n,100)+11,a=l.getSize()+o,c,d,g,p,E;if(i!==Se.DEFAULT_AZTEC_LAYERS){if(c=i<0,d=Math.abs(i),d>(c?Se.MAX_NB_BITS_COMPACT:Se.MAX_NB_BITS))throw new N(ae.format("Illegal value %s for layers",i));g=Se.totalBitsInLayer(d,c),p=Se.WORD_SIZE[d];let G=g-g%p;if(E=Se.stuffBits(l,p),E.getSize()+o>G)throw new N("Data to large for user specified layer");if(c&&E.getSize()>p*64)throw new N("Data to large for user specified layer")}else{p=0,E=null;for(let G=0;;G++){if(G>Se.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(c=G<=3,d=c?G+1:G,g=Se.totalBitsInLayer(d,c),a>g)continue;(E==null||p!==Se.WORD_SIZE[d])&&(p=Se.WORD_SIZE[d],E=Se.stuffBits(l,p));let me=g-g%p;if(!(c&&E.getSize()>p*64)&&E.getSize()+o<=me)break}}let C=Se.generateCheckWords(E,g,p),S=E.getSize()/p,_=Se.generateModeMessage(c,d,S),R=(c?11:14)+d*4,M=new Int32Array(R),P;if(c){P=R;for(let G=0;G<M.length;G++)M[G]=G}else{P=R+1+2*O.truncDivision(O.truncDivision(R,2)-1,15);let G=O.truncDivision(R,2),me=O.truncDivision(P,2);for(let xe=0;xe<G;xe++){let zt=xe+O.truncDivision(xe,15);M[G-xe-1]=me-zt-1,M[G+xe]=me+zt+1}}let j=new tt(P);for(let G=0,me=0;G<d;G++){let xe=(d-G)*4+(c?9:12);for(let zt=0;zt<xe;zt++){let gn=zt*2;for(let Vt=0;Vt<2;Vt++)C.get(me+gn+Vt)&&j.set(M[G*2+Vt],M[G*2+zt]),C.get(me+xe*2+gn+Vt)&&j.set(M[G*2+zt],M[R-1-G*2-Vt]),C.get(me+xe*4+gn+Vt)&&j.set(M[R-1-G*2-Vt],M[R-1-G*2-zt]),C.get(me+xe*6+gn+Vt)&&j.set(M[R-1-G*2-zt],M[G*2+Vt])}me+=xe*8}if(Se.drawModeMessage(j,c,P,_),c)Se.drawBullsEye(j,O.truncDivision(P,2),5);else{Se.drawBullsEye(j,O.truncDivision(P,2),7);for(let G=0,me=0;G<O.truncDivision(R,2)-1;G+=15,me+=16)for(let xe=O.truncDivision(P,2)&1;xe<P;xe+=2)j.set(O.truncDivision(P,2)-me,xe),j.set(O.truncDivision(P,2)+me,xe),j.set(xe,O.truncDivision(P,2)-me),j.set(xe,O.truncDivision(P,2)+me)}let Y=new fu;return Y.setCompact(c),Y.setSize(P),Y.setLayers(d),Y.setCodeWords(S),Y.setMatrix(j),Y}static drawBullsEye(e,n,i){for(let l=0;l<i;l+=2)for(let o=n-l;o<=n+l;o++)e.set(o,n-l),e.set(o,n+l),e.set(n-l,o),e.set(n+l,o);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let l=new F;return e?(l.appendBits(n-1,2),l.appendBits(i-1,6),l=Se.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(i-1,11),l=Se.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,i,l){let o=O.truncDivision(i,2);if(n)for(let a=0;a<7;a++){let c=o-3+a;l.get(a)&&e.set(c,o-5),l.get(a+7)&&e.set(o+5,c),l.get(20-a)&&e.set(c,o+5),l.get(27-a)&&e.set(o-5,c)}else for(let a=0;a<10;a++){let c=o-5+a+O.truncDivision(a,5);l.get(a)&&e.set(c,o-7),l.get(a+10)&&e.set(o+7,c),l.get(29-a)&&e.set(c,o+7),l.get(39-a)&&e.set(o-7,c)}}static generateCheckWords(e,n,i){let l=e.getSize()/i,o=new So(Se.getGF(i)),a=O.truncDivision(n,i),c=Se.bitsToWords(e,i,a);o.encode(c,a-l);let d=n%i,g=new F;g.appendBits(0,d);for(const p of Array.from(c))g.appendBits(p,i);return g}static bitsToWords(e,n,i){let l=new Int32Array(i),o,a;for(o=0,a=e.getSize()/n;o<a;o++){let c=0;for(let d=0;d<n;d++)c|=e.get(o*n+d)?1<<n-d-1:0;l[o]=c}return l}static getGF(e){switch(e){case 4:return Te.AZTEC_PARAM;case 6:return Te.AZTEC_DATA_6;case 8:return Te.AZTEC_DATA_8;case 10:return Te.AZTEC_DATA_10;case 12:return Te.AZTEC_DATA_12;default:throw new N("Unsupported word size "+e)}}static stuffBits(e,n){let i=new F,l=e.getSize(),o=(1<<n)-2;for(let a=0;a<l;a+=n){let c=0;for(let d=0;d<n;d++)(a+d>=l||e.get(a+d))&&(c|=1<<n-1-d);(c&o)===o?(i.appendBits(c&o,n),a--):c&o?i.appendBits(c,n):(i.appendBits(c|1,n),a--)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Se.DEFAULT_EC_PERCENT=33,Se.DEFAULT_AZTEC_LAYERS=0,Se.MAX_NB_BITS=32,Se.MAX_NB_BITS_COMPACT=4,Se.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Gs{encode(e,n,i,l){return this.encodeWithHints(e,n,i,l,null)}encodeWithHints(e,n,i,l,o){let a=To.ISO_8859_1,c=Se.DEFAULT_EC_PERCENT,d=Se.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(at.CHARACTER_SET)&&(a=cu.forName(o.get(at.CHARACTER_SET).toString())),o.has(at.ERROR_CORRECTION)&&(c=O.parseInt(o.get(at.ERROR_CORRECTION).toString())),o.has(at.AZTEC_LAYERS)&&(d=O.parseInt(o.get(at.AZTEC_LAYERS).toString()))),Gs.encodeLayers(e,n,i,l,a,c,d)}static encodeLayers(e,n,i,l,o,a,c){if(n!==re.AZTEC)throw new N("Can only encode AZTEC, but got "+n);let d=Se.encode(ae.getBytes(e,o),a,c);return Gs.renderResult(d,i,l)}static renderResult(e,n,i){let l=e.getMatrix();if(l==null)throw new In;let o=l.getWidth(),a=l.getHeight(),c=Math.max(n,o),d=Math.max(i,a),g=Math.min(c/o,d/a),p=(c-o*g)/2,E=(d-a*g)/2,C=new tt(c,d);for(let S=0,_=E;S<a;S++,_+=g)for(let R=0,M=p;R<o;R++,M+=g)l.get(R,S)&&C.setRegion(M,_,g,g);return C}}s.AbstractExpandedDecoder=go,s.ArgumentException=T,s.ArithmeticException=Ms,s.AztecCode=fu,s.AztecCodeReader=Ps,s.AztecCodeWriter=Gs,s.AztecDecoder=Be,s.AztecDetector=q1,s.AztecDetectorResult=K1,s.AztecEncoder=Se,s.AztecHighLevelEncoder=Fi,s.AztecPoint=Rt,s.BarcodeFormat=re,s.Binarizer=Z,s.BinaryBitmap=B,s.BitArray=F,s.BitMatrix=tt,s.BitSource=mo,s.BrowserAztecCodeReader=sh,s.BrowserBarcodeReader=ch,s.BrowserCodeReader=en,s.BrowserDatamatrixCodeReader=hh,s.BrowserMultiFormatReader=Ih,s.BrowserPDF417Reader=Sh,s.BrowserQRCodeReader=vh,s.BrowserQRCodeSvgWriter=Tr,s.CharacterSetECI=V,s.ChecksumException=H,s.Code128Reader=q,s.Code39Reader=lt,s.DataMatrixDecodedBitStreamParser=Kn,s.DataMatrixReader=Qn,s.DecodeHintType=Q,s.DecoderResult=Ni,s.DefaultGridSampler=Q1,s.DetectorResult=ks,s.EAN13Reader=Ar,s.EncodeHintType=at,s.Exception=w,s.FormatException=L,s.GenericGF=Te,s.GenericGFPoly=Bt,s.GlobalHistogramBinarizer=Qe,s.GridSampler=uo,s.GridSamplerInstance=Yn,s.HTMLCanvasElementLuminanceSource=he,s.HybridBinarizer=de,s.ITFReader=Me,s.IllegalArgumentException=N,s.IllegalStateException=In,s.InvertedLuminanceSource=ce,s.LuminanceSource=$,s.MathUtils=Ie,s.MultiFormatOneDReader=jr,s.MultiFormatReader=uu,s.MultiFormatWriter=Nh,s.NotFoundException=U,s.OneDReader=it,s.PDF417DecodedBitStreamParser=k,s.PDF417DecoderErrorCorrection=ru,s.PDF417Reader=Et,s.PDF417ResultMetadata=su,s.PerspectiveTransform=hn,s.PlanarYUVLuminanceSource=Nn,s.QRCodeByteMatrix=Ws,s.QRCodeDataMask=nn,s.QRCodeDecodedBitStreamParser=je,s.QRCodeDecoderErrorCorrectionLevel=Le,s.QRCodeDecoderFormatInformation=vt,s.QRCodeEncoder=Ue,s.QRCodeEncoderQRCode=vr,s.QRCodeMaskUtil=$e,s.QRCodeMatrixUtil=ue,s.QRCodeMode=le,s.QRCodeReader=qn,s.QRCodeVersion=ie,s.QRCodeWriter=Zr,s.RGBLuminanceSource=vo,s.RSS14Reader=Je,s.RSSExpandedReader=W,s.ReaderException=Vs,s.ReedSolomonDecoder=Oi,s.ReedSolomonEncoder=So,s.ReedSolomonException=Wr,s.Result=Xe,s.ResultMetadataType=ht,s.ResultPoint=ne,s.StringUtils=ae,s.UnsupportedOperationException=ge,s.VideoInputDevice=We,s.WhiteRectangleDetector=Pn,s.WriterException=be,s.ZXingArrays=v,s.ZXingCharset=cu,s.ZXingInteger=O,s.ZXingStandardCharsets=To,s.ZXingStringBuilder=Ae,s.ZXingStringEncoding=Pe,s.ZXingSystem=z,s.createAbstractExpandedDecoder=tu,Object.defineProperty(s,"__esModule",{value:!0})})})(M0,M0.exports);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Z1=globalThis&&globalThis.__extends||function(){var t=function(r,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])},t(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(r,s);function u(){this.constructor=r}r.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var ih=function(){function t(r,s){this.name=r,this.track=s}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(r){var s={};s[this.name]=r;var u={advanced:[s]};return this.track.applyConstraints(u)},t.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var s=r[this.name];return s}return null},t}(),bg=function(t){Z1(r,t);function r(s,u){return t.call(this,s,u)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(s){var u={};u[this.name]=s;var f={advanced:[u]};return this.track.applyConstraints(f)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),u=s[this.name];return{min:u.min,max:u.max,step:u.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r}(ih);(function(t){Z1(r,t);function r(s){return t.call(this,"zoom",s)||this}return r})(bg);(function(t){Z1(r,t);function r(s){return t.call(this,"torch",s)||this}return r})(ih);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var b0;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(b0||(b0={}));var kg=globalThis&&globalThis.__extends||function(){var t=function(r,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])},t(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(r,s);function u(){this.constructor=r}r.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}();(function(t){kg(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r})(Mg);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var k0;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(k0||(k0={}));function Pg(){return oe.createElement("div",null,oe.createElement("h2",null,"Velkommen til Loppemarked på Ekeberg skole (kommer)"),oe.createElement("p",null,"Her vil du kunne registrere kjøp i cafeen"),oe.createElement("h3",null,"For dugnadsmannskap"),oe.createElement("div",null,oe.createElement("button",null,"Logg inn (kommer)")))}function Bg(){return oe.createElement(oe.Fragment,null,oe.createElement("header",null,oe.createElement("h1",null,oe.createElement(Rg,{to:"/"},"Ekeberg skoles musikkorps"))),oe.createElement("main",null,oe.createElement(Pg,null)),oe.createElement("footer",null,"© Ekeberg skoles musikkorps. Orgnr 971282150. post@esm.no"))}const Lg=Yf(document.getElementById("root"));Lg.render(oe.createElement(Ng,null,oe.createElement(Bg,null)));
